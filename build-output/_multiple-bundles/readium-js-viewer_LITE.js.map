{
  "version": 3,
  "file": "readium-js-viewer_LITE.js",
  "sources": [
    "bootstrap.js",
    "bootstrapA11y.js",
    "spin.js",
    "Spinner.js",
    "storage/Settings.js",
    "i18n/_locales/de/messages.json!text",
    "i18n/_locales/es/messages.json!text",
    "i18n/_locales/en_US/messages.json!text",
    "i18n/_locales/fr/messages.json!text",
    "i18n/_locales/id/messages.json!text",
    "i18n/_locales/it/messages.json!text",
    "i18n/_locales/ja/messages.json!text",
    "i18n/_locales/ko/messages.json!text",
    "i18n/_locales/pt_BR/messages.json!text",
    "i18n/_locales/zh_CN/messages.json!text",
    "i18n/_locales/zh_TW/messages.json!text",
    "i18n/Strings.js",
    "hogan.js",
    "hgn.js",
    "hgn!templates/managed-dialog.html",
    "hgn!templates/progress-dialog.html",
    "hgn!templates/managed-buttons.html",
    "workers/Messages.js",
    "Dialogs.js",
    "hgn!templates/settings-dialog.html",
    "hgn!templates/settings-keyboard-item.html",
    "keymaster.js",
    "Keyboard.js",
    "ReaderSettingsDialog_Keyboard.js",
    "ReaderSettingsDialog.js",
    "hgn!templates/about-dialog.html",
    "hgn!templates/reader-navbar.html",
    "hgn!templates/reader-body.html",
    "hgn!templates/reader-body-page-btns.html",
    "analytics/Analytics.js",
    "screenfull.js",
    "EpubReaderMediaOverlays.js",
    "EpubReaderBackgroundAudioTrack.js",
    "hammerjs.js",
    "jquery_hammer.js",
    "gestures.js",
    "versioning/ReadiumVersioning.js",
    "EpubReader.js",
    "ReadiumViewerLite.js",
    "readium-js-viewer_LITE.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjVA,ADkVA;ACjVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA,ADoEA;ACnEA;AACA;AACA,ACHA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA,AD4DA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvvBA,ADwvBA;ACvvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA,ADqFA;ACpFA;AACA;AACA,ACHA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA,ADkCA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1KA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxTA,ADyTA;ACxTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChVA,ADiVA;AChVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxSA;AACA;AACA;AACA,ACHA;AACA;AACA;ACFA,ADGA;ACFA;AACA;ACFA,ADGA;ACFA;AACA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA,ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxJA,ADyJA;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACr+BA,ADs+BA;ACr+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACh6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA,ADkCA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA,ADcA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACv8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "sourcesContent": [
    "/*!\n * Bootstrap v3.3.4 (http://getbootstrap.com)\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n\n+function ($) {\n  'use strict';\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.4\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.3.4\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.4'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.3.4\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.4'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state = state + 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked') && this.$element.hasClass('active')) changed = false\n        else $parent.find('.active').removeClass('active')\n      }\n      if (changed) $input.prop('checked', !this.$element.hasClass('active')).trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n    }\n\n    if (changed) this.$element.toggleClass('active')\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target)\n      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n      Plugin.call($btn, 'toggle')\n      e.preventDefault()\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.3.4\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.4'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.4\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.4'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.3.4\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.4'\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $('<div class=\"dropdown-backdrop\"/>').insertAfter($(this)).on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger('shown.bs.dropdown', relatedTarget)\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if ((!isActive && e.which != 27) || (isActive && e.which == 27)) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('[role=\"menu\"]' + desc + ', [role=\"listbox\"]' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--                        // up\n    if (e.which == 40 && index < $items.length - 1) index++                        // down\n    if (!~index)                                      index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)\n    })\n  }\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '[role=\"menu\"]', Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '[role=\"listbox\"]', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.3.4\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.4'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element\n        .addClass('in')\n        .attr('aria-hidden', false)\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .attr('aria-hidden', true)\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.4\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.4'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport)\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (self && self.$tip && self.$tip.is(':visible')) {\n      self.hoverState = 'in'\n      return\n    }\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var $container   = this.options.container ? $(this.options.container) : this.$element.parent()\n        var containerDim = this.getPosition($container)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > containerDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < containerDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > containerDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < containerDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  = offset.top  + marginTop\n    offset.left = offset.left + marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      that.$element\n        .removeAttr('aria-describedby')\n        .trigger('hidden.bs.' + that.type)\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.width) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    return (this.$tip = this.$tip || $(this.options.template))\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.3.4\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.4'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.4\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.4'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.3.4\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    this.element = $(element)\n  }\n\n  Tab.VERSION = '3.3.4'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && (($active.length && $active.hasClass('fade')) || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.3.4\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.4'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = $(document.body).height()\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n\ndefine(\"bootstrap\", [\"jquery\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.bootstrap;\n    };\n}(this)));\n\n",
    "/* ========================================================================\n* Extends Bootstrap v3.1.1\n\n* Copyright (c) <2014> eBay Software Foundation\n\n* All rights reserved.\n\n* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n* Neither the name of eBay or any of its subsidiaries or affiliates nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n* ======================================================================== */\n\n(function($) {\n  \"use strict\";\n\n  var uniqueId = function(prefix) {\n      return (prefix || 'ui-id') + '-' + Math.floor((Math.random()*1000)+1)\n  }\n\n  // Alert Extension\n  // ===============================\n\n    $('.alert').attr('role', 'alert')\n    $('.close').removeAttr('aria-hidden').wrapInner('<span aria-hidden=\"true\"></span>').append('<span class=\"sr-only\">Close</span>')\n\n  // TOOLTIP Extension\n  // ===============================\n\n    var showTooltip =    $.fn.tooltip.Constructor.prototype.show\n        , hideTooltip =    $.fn.tooltip.Constructor.prototype.hide\n\n    $.fn.tooltip.Constructor.prototype.show = function () {\n        showTooltip.apply(this, arguments)\n        var $tip = this.tip()\n            , tooltipID = $tip.attr('id') || uniqueId('ui-tooltip')\n        $tip.attr({'role':'tooltip','id' : tooltipID})\n        this.$element.attr('aria-describedby', tooltipID)\n    }\n\n    $.fn.tooltip.Constructor.prototype.hide = function () {\n        hideTooltip.apply(this, arguments)\n        removeMultiValAttributes(this.$element, 'aria-describedby', this.tip().attr('id'))\n        return this\n    }\n\n  // Popover Extension\n  // ===============================\n    var showPopover =   $.fn.popover.Constructor.prototype.setContent\n      , hideTPopover =   $.fn.popover.Constructor.prototype.hide\n\n    $.fn.popover.Constructor.prototype.setContent = function(){\n      showPopover.apply(this, arguments)\n      var $tip = this.tip()\n        , tooltipID = $tip.attr('id') || uniqueId('ui-tooltip')\n      $tip.attr({'role':'alert','id' : tooltipID})\n      this.$element.attr('aria-describedby', tooltipID)\n      this.$element.focus()\n    }\n    $.fn.popover.Constructor.prototype.hide =  function(){\n        hideTooltip.apply(this, arguments)\n        removeMultiValAttributes(this.$element, 'aria-describedby', this.tip().attr('id'))\n    }\n\n  //Modal Extension\n    $('.modal-dialog').attr( {'role' : 'document'})\n    var modalhide =   $.fn.modal.Constructor.prototype.hide\n    $.fn.modal.Constructor.prototype.hide = function(){\n       var modalOpener = this.$element.parent().find('[data-target=\"#' + this.$element.attr('id') + '\"]')\n       modalhide.apply(this, arguments)\n       modalOpener.focus()\n    }\n\n  // DROPDOWN Extension\n  // ===============================\n\n    var toggle   = '[data-toggle=dropdown]'\n      , $par\n      , firstItem\n      , focusDelay = 200\n      , menus = $(toggle).parent().find('ul').attr('role','menu')\n      , lis = menus.find('li').attr('role','presentation')\n\n    lis.find('a').attr({'role':'menuitem', 'tabIndex':'-1'})\n    $(toggle).attr({ 'aria-haspopup':'true', 'aria-expanded': 'false'})\n\n    $(toggle).parent().on('shown.bs.dropdown',function(e){\n      $par = $(this)\n      var $toggle = $par.find(toggle)\n      $toggle.attr('aria-expanded','true')\n\n      setTimeout(function(){\n            firstItem = $('.dropdown-menu [role=menuitem]:visible', $par)[0]\n            try{ firstItem.focus()} catch(ex) {}\n      }, focusDelay)\n    })\n\n    $(toggle).parent().on('hidden.bs.dropdown',function(e){\n      $par = $(this)\n      var $toggle = $par.find(toggle)\n      $toggle.attr('aria-expanded','false')\n    })\n\n    //Adding Space Key Behaviour, opens on spacebar\n    $.fn.dropdown.Constructor.prototype.keydown = function (e) {\n      var  $par\n        , firstItem\n      if (!/(32)/.test(e.keyCode)) return\n        $par = $(this).parent()\n        $(this).trigger (\"click\")\n        e.preventDefault() && e.stopPropagation()\n    }\n\n    $(document)\n      .on('focusout.dropdown.data-api', '.dropdown-menu', function(e){\n        var $this = $(this)\n                    , that = this\n        setTimeout(function() {\n         if(!$.contains(that, document.activeElement)){\n          $this.parent().removeClass('open')\n          $this.parent().find('[data-toggle=dropdown]').attr('aria-expanded','false')\n         }\n        }, 150)\n       })\n      .on('keydown.bs.dropdown.data-api', toggle + ', [role=menu]' , $.fn.dropdown.Constructor.prototype.keydown)\n\n\n  // Tab Extension\n  // ===============================\n\n    var $tablist = $('.nav-tabs')\n        , $lis = $tablist.children('li')\n        , $tabs = $tablist.find('[data-toggle=\"tab\"], [data-toggle=\"pill\"]')\n\n    $tablist.attr('role', 'tablist')\n    $lis.attr('role', 'presentation')\n    $tabs.attr('role', 'tab')\n\n    $tabs.each(function( index ) {\n      var tabpanel = $($(this).attr('href'))\n        , tab = $(this)\n        , tabid = tab.attr('id') || uniqueId('ui-tab')\n\n        tab.attr('id', tabid)\n\n      if(tab.parent().hasClass('active')){\n        tab.attr( { 'tabIndex' : '0', 'aria-expanded' : 'true', 'aria-selected' : 'true', 'aria-controls': tab.attr('href').substr(1) } )\n        tabpanel.attr({ 'role' : 'tabpanel', 'tabIndex' : '0', 'aria-hidden' : 'false', 'aria-labelledby':tabid })\n      }else{\n        tab.attr( { 'tabIndex' : '-1', 'aria-expanded' : 'false', 'aria-selected' : 'false', 'aria-controls': tab.attr('href').substr(1) } )\n        tabpanel.attr( { 'role' : 'tabpanel', 'tabIndex' : '-1', 'aria-hidden' : 'true', 'aria-labelledby':tabid } )\n      }\n    })\n\n    $.fn.tab.Constructor.prototype.keydown = function (e) {\n      var $this = $(this)\n      , $items\n      , $ul = $this.closest('ul[role=tablist] ')\n      , index\n      , k = e.which || e.keyCode\n\n      $this = $(this)\n      if (!/(37|38|39|40)/.test(k)) return\n\n      $items = $ul.find('[role=tab]:visible')\n      index = $items.index($items.filter(':focus'))\n\n      if (k == 38 || k == 37) index--                         // up & left\n      if (k == 39 || k == 40) index++                        // down & right\n\n\n      if(index < 0) index = $items.length -1\n      if(index == $items.length) index = 0\n\n      var nextTab = $items.eq(index)\n      if(nextTab.attr('role') ==='tab'){\n\n        nextTab.tab('show')      //Comment this line for dynamically loaded tabPabels, to save Ajax requests on arrow key navigation\n        .focus()\n      }\n      // nextTab.focus()\n\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    $(document).on('keydown.tab.data-api','[data-toggle=\"tab\"], [data-toggle=\"pill\"]' , $.fn.tab.Constructor.prototype.keydown)\n\n   var tabactivate =    $.fn.tab.Constructor.prototype.activate;\n   $.fn.tab.Constructor.prototype.activate = function (element, container, callback) {\n      var $active = container.find('> .active')\n      $active.find('[data-toggle=tab]').attr({ 'tabIndex' : '-1','aria-selected' : false,'aria-expanded' : false })\n      $active.filter('.tab-pane').attr({ 'aria-hidden' : true,'tabIndex' : '-1' })\n\n      tabactivate.apply(this, arguments)\n\n      element.addClass('active')\n      element.find('[data-toggle=tab]').attr({ 'tabIndex' : '0','aria-selected' : true,'aria-expanded' : true })\n      element.filter('.tab-pane').attr({ 'aria-hidden' : false,'tabIndex' : '0' })\n   }\n\n\n  // Collapse Extension\n  // ===============================\n\n      var $colltabs =  $('[data-toggle=\"collapse\"]')\n      $colltabs.attr({ 'role':'tab', 'aria-selected':'false', 'aria-expanded':'false' })\n      $colltabs.each(function( index ) {\n        var colltab = $(this)\n        , collpanel = (colltab.attr('data-target')) ? $(colltab.attr('data-target')) : $(colltab.attr('href'))\n        , parent  = colltab.attr('data-parent')\n        , collparent = parent && $(parent)\n        , collid = colltab.attr('id') || uniqueId('ui-collapse')\n\n        $(collparent).find('div:not(.collapse,.panel-body), h4').attr('role','presentation')\n\n          colltab.attr('id', collid)\n          if(collparent){\n            collparent.attr({ 'role' : 'tablist', 'aria-multiselectable' : 'true' })\n            if(collpanel.hasClass('in')){\n              colltab.attr({ 'aria-controls': colltab.attr('href').substr(1), 'aria-selected':'true', 'aria-expanded':'true', 'tabindex':'0' })\n              collpanel.attr({ 'role':'tabpanel', 'tabindex':'0', 'aria-labelledby':collid, 'aria-hidden':'false' })\n            }else{\n              colltab.attr({'aria-controls' : colltab.attr('href').substr(1), 'tabindex':'-1' })\n              collpanel.attr({ 'role':'tabpanel', 'tabindex':'-1', 'aria-labelledby':collid, 'aria-hidden':'true' })\n            }\n          }\n      })\n\n    var collToggle = $.fn.collapse.Constructor.prototype.toggle\n    $.fn.collapse.Constructor.prototype.toggle = function(){\n        var prevTab = this.$parent && this.$parent.find('[aria-expanded=\"true\"]') , href\n\n        if(prevTab){\n          var prevPanel = prevTab.attr('data-target') || (href = prevTab.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')\n          , $prevPanel = $(prevPanel)\n          , $curPanel = this.$element\n          , par = this.$parent\n          , curTab\n\n        if (this.$parent) curTab = this.$parent.find('[data-toggle=collapse][href=\"#' + this.$element.attr('id') + '\"]')\n\n        collToggle.apply(this, arguments)\n\n        if ($.support.transition) {\n          this.$element.one($.support.transition.end, function(){\n\n              prevTab.attr({ 'aria-selected':'false','aria-expanded':'false', 'tabIndex':'-1' })\n              $prevPanel.attr({ 'aria-hidden' : 'true','tabIndex' : '-1'})\n\n              curTab.attr({ 'aria-selected':'true','aria-expanded':'true', 'tabIndex':'0' })\n\n              if($curPanel.hasClass('in')){\n                $curPanel.attr({ 'aria-hidden' : 'false','tabIndex' : '0' })\n              }else{\n                curTab.attr({ 'aria-selected':'false','aria-expanded':'false'})\n                $curPanel.attr({ 'aria-hidden' : 'true','tabIndex' : '-1' })\n              }\n          })\n        }\n      }else{\n        collToggle.apply(this, arguments)\n      }\n    }\n\n    $.fn.collapse.Constructor.prototype.keydown = function (e) {\n      var $this = $(this)\n      , $items\n      , $tablist = $this.closest('div[role=tablist] ')\n      , index\n      , k = e.which || e.keyCode\n\n      $this = $(this)\n      if (!/(32|37|38|39|40)/.test(k)) return\n      if(k==32) $this.click()\n\n      $items = $tablist.find('[role=tab]')\n      index = $items.index($items.filter(':focus'))\n\n      if (k == 38 || k == 37) index--                                        // up & left\n      if (k == 39 || k == 40) index++                        // down & right\n      if(index < 0) index = $items.length -1\n      if(index == $items.length) index = 0\n\n      $items.eq(index).focus()\n\n      e.preventDefault()\n      e.stopPropagation()\n\n    }\n\n    $(document).on('keydown.collapse.data-api','[data-toggle=\"collapse\"]' ,  $.fn.collapse.Constructor.prototype.keydown)\n\n  // Carousel Extension\n  // ===============================\n\n      $('.carousel').each(function (index) {\n        var $this = $(this)\n          , prev = $this.find('[data-slide=\"prev\"]')\n          , next = $this.find('[data-slide=\"next\"]')\n          , $options = $this.find('.item')\n          , $listbox = $options.parent()\n\n        $this.attr( { 'data-interval' : 'false', 'data-wrap' : 'false' } )\n        $listbox.attr('role', 'listbox')\n        $options.attr('role', 'option')\n\n        var spanPrev = document.createElement('span')\n        spanPrev.setAttribute('class', 'sr-only')\n        spanPrev.innerHTML='Previous'\n\n        var spanNext = document.createElement('span')\n        spanNext.setAttribute('class', 'sr-only')\n        spanNext.innerHTML='Next'\n\n        prev.attr('role', 'button')\n        next.attr('role', 'button')\n\n        prev.append(spanPrev)\n        next.append(spanNext)\n\n        $options.each(function () {\n          var item = $(this)\n          if(item.hasClass('active')){\n            item.attr({ 'aria-selected': 'true', 'tabindex' : '0' })\n          }else{\n            item.attr({ 'aria-selected': 'false', 'tabindex' : '-1' })\n          }\n        })\n      })\n\n      var slideCarousel = $.fn.carousel.Constructor.prototype.slide\n      $.fn.carousel.Constructor.prototype.slide = function (type, next) {\n        var $active = this.$element.find('.item.active')\n          , $next = next || $active[type]()\n\n        slideCarousel.apply(this, arguments)\n\n      $active\n        .one($.support.transition.end, function () {\n        $active.attr({'aria-selected':false, 'tabIndex': '-1'})\n        $next.attr({'aria-selected':true, 'tabIndex': '0'})\n        //.focus()\n       })\n      }\n\n    $.fn.carousel.Constructor.prototype.keydown = function (e) {\n     var $this = $(this)\n      , $ul = $this.closest('div[role=listbox]')\n      , $items = $ul.find('[role=option]')\n      , $parent = $ul.parent()\n      , k = e.which || e.keyCode\n      , index\n      , i\n\n      if (!/(37|38|39|40)/.test(k)) return\n\n      index = $items.index($items.filter('.active'))\n      if (k == 37 || k == 38) {                           //  Up\n        $parent.carousel('prev')\n        index--\n        if(index < 0) index = $items.length -1\n        else  $this.prev().focus()\n\n      }\n      if (k == 39 || k == 40) {                          // Down\n        $parent.carousel('next')\n        index++\n        if(index == $items.length) index = 0\n        else  {\n          $this.one($.support.transition.end, function () {\n            $this.next().focus()\n          })\n        }\n\n      }\n\n      e.preventDefault()\n      e.stopPropagation()\n    }\n    $(document).on('keydown.carousel.data-api', 'div[role=option]', $.fn.carousel.Constructor.prototype.keydown)\n\n  // GENERAL UTILITY FUNCTIONS\n  // ===============================\n\n    var removeMultiValAttributes = function (el, attr, val) {\n     var describedby = (el.attr( attr ) || \"\").split( /\\s+/ )\n        , index = $.inArray(val, describedby)\n     if ( index !== -1 ) {\n       describedby.splice( index, 1 )\n     }\n     describedby = $.trim( describedby.join( \" \" ) )\n     if (describedby ) {\n       el.attr( attr, describedby )\n     } else {\n      el.removeAttr( attr )\n     }\n    }\n\n\n})(jQuery);\n\ndefine(\"bootstrapA11y\", [\"bootstrap\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.bootstrapA11y;\n    };\n}(this)));\n\n",
    "/**\n * Copyright (c) 2011-2014 Felix Gnass\n * Licensed under the MIT license\n */\n(function(root, factory) {\n\n  /* CommonJS */\n  if (typeof exports == 'object')  module.exports = factory()\n\n  /* AMD module */\n  else if (typeof define == 'function' && define.amd) define('spin',factory)\n\n  /* Browser global */\n  else root.Spinner = factory()\n}\n(this, function() {\n  \"use strict\";\n\n  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */\n    , animations = {} /* Animation rules keyed by their name */\n    , useCssAnimations /* Whether to use CSS animations or setTimeout */\n\n  /**\n   * Utility function to create elements. If no tag name is given,\n   * a DIV is created. Optionally properties can be passed.\n   */\n  function createEl(tag, prop) {\n    var el = document.createElement(tag || 'div')\n      , n\n\n    for(n in prop) el[n] = prop[n]\n    return el\n  }\n\n  /**\n   * Appends children and returns the parent.\n   */\n  function ins(parent /* child1, child2, ...*/) {\n    for (var i=1, n=arguments.length; i<n; i++)\n      parent.appendChild(arguments[i])\n\n    return parent\n  }\n\n  /**\n   * Insert a new stylesheet to hold the @keyframe or VML rules.\n   */\n  var sheet = (function() {\n    var el = createEl('style', {type : 'text/css'})\n    ins(document.getElementsByTagName('head')[0], el)\n    return el.sheet || el.styleSheet\n  }())\n\n  /**\n   * Creates an opacity keyframe animation rule and returns its name.\n   * Since most mobile Webkits have timing issues with animation-delay,\n   * we create separate rules for each line/segment.\n   */\n  function addAnimation(alpha, trail, i, lines) {\n    var name = ['opacity', trail, ~~(alpha*100), i, lines].join('-')\n      , start = 0.01 + i/lines * 100\n      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)\n      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()\n      , pre = prefix && '-' + prefix + '-' || ''\n\n    if (!animations[name]) {\n      sheet.insertRule(\n        '@' + pre + 'keyframes ' + name + '{' +\n        '0%{opacity:' + z + '}' +\n        start + '%{opacity:' + alpha + '}' +\n        (start+0.01) + '%{opacity:1}' +\n        (start+trail) % 100 + '%{opacity:' + alpha + '}' +\n        '100%{opacity:' + z + '}' +\n        '}', sheet.cssRules.length)\n\n      animations[name] = 1\n    }\n\n    return name\n  }\n\n  /**\n   * Tries various vendor prefixes and returns the first supported property.\n   */\n  function vendor(el, prop) {\n    var s = el.style\n      , pp\n      , i\n\n    prop = prop.charAt(0).toUpperCase() + prop.slice(1)\n    for(i=0; i<prefixes.length; i++) {\n      pp = prefixes[i]+prop\n      if(s[pp] !== undefined) return pp\n    }\n    if(s[prop] !== undefined) return prop\n  }\n\n  /**\n   * Sets multiple style properties at once.\n   */\n  function css(el, prop) {\n    for (var n in prop)\n      el.style[vendor(el, n)||n] = prop[n]\n\n    return el\n  }\n\n  /**\n   * Fills in default values.\n   */\n  function merge(obj) {\n    for (var i=1; i < arguments.length; i++) {\n      var def = arguments[i]\n      for (var n in def)\n        if (obj[n] === undefined) obj[n] = def[n]\n    }\n    return obj\n  }\n\n  /**\n   * Returns the line color from the given string or array.\n   */\n  function getColor(color, idx) {\n    return typeof color == 'string' ? color : color[idx % color.length]\n  }\n\n  // Built-in defaults\n\n  var defaults = {\n    lines: 12,            // The number of lines to draw\n    length: 7,            // The length of each line\n    width: 5,             // The line thickness\n    radius: 10,           // The radius of the inner circle\n    rotate: 0,            // Rotation offset\n    corners: 1,           // Roundness (0..1)\n    color: '#000',        // #rgb or #rrggbb\n    direction: 1,         // 1: clockwise, -1: counterclockwise\n    speed: 1,             // Rounds per second\n    trail: 100,           // Afterglow percentage\n    opacity: 1/4,         // Opacity of the lines\n    fps: 20,              // Frames per second when using setTimeout()\n    zIndex: 2e9,          // Use a high z-index by default\n    className: 'spinner', // CSS class to assign to the element\n    top: '50%',           // center vertically\n    left: '50%',          // center horizontally\n    position: 'absolute'  // element position\n  }\n\n  /** The constructor */\n  function Spinner(o) {\n    this.opts = merge(o || {}, Spinner.defaults, defaults)\n  }\n\n  // Global defaults that override the built-ins:\n  Spinner.defaults = {}\n\n  merge(Spinner.prototype, {\n\n    /**\n     * Adds the spinner to the given target element. If this instance is already\n     * spinning, it is automatically removed from its previous target b calling\n     * stop() internally.\n     */\n    spin: function(target) {\n      this.stop()\n\n      var self = this\n        , o = self.opts\n        , el = self.el = css(createEl(0, {className: o.className}), {position: o.position, width: 0, zIndex: o.zIndex})\n\n      css(el, {\n        left: o.left,\n        top: o.top\n      })\n        \n      if (target) {\n        target.insertBefore(el, target.firstChild||null)\n      }\n\n      el.setAttribute('role', 'progressbar')\n      self.lines(el, self.opts)\n\n      if (!useCssAnimations) {\n        // No CSS animation support, use setTimeout() instead\n        var i = 0\n          , start = (o.lines - 1) * (1 - o.direction) / 2\n          , alpha\n          , fps = o.fps\n          , f = fps/o.speed\n          , ostep = (1-o.opacity) / (f*o.trail / 100)\n          , astep = f/o.lines\n\n        ;(function anim() {\n          i++;\n          for (var j = 0; j < o.lines; j++) {\n            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)\n\n            self.opacity(el, j * o.direction + start, alpha, o)\n          }\n          self.timeout = self.el && setTimeout(anim, ~~(1000/fps))\n        })()\n      }\n      return self\n    },\n\n    /**\n     * Stops and removes the Spinner.\n     */\n    stop: function() {\n      var el = this.el\n      if (el) {\n        clearTimeout(this.timeout)\n        if (el.parentNode) el.parentNode.removeChild(el)\n        this.el = undefined\n      }\n      return this\n    },\n\n    /**\n     * Internal method that draws the individual lines. Will be overwritten\n     * in VML fallback mode below.\n     */\n    lines: function(el, o) {\n      var i = 0\n        , start = (o.lines - 1) * (1 - o.direction) / 2\n        , seg\n\n      function fill(color, shadow) {\n        return css(createEl(), {\n          position: 'absolute',\n          width: (o.length+o.width) + 'px',\n          height: o.width + 'px',\n          background: color,\n          boxShadow: shadow,\n          transformOrigin: 'left',\n          transform: 'rotate(' + ~~(360/o.lines*i+o.rotate) + 'deg) translate(' + o.radius+'px' +',0)',\n          borderRadius: (o.corners * o.width>>1) + 'px'\n        })\n      }\n\n      for (; i < o.lines; i++) {\n        seg = css(createEl(), {\n          position: 'absolute',\n          top: 1+~(o.width/2) + 'px',\n          transform: o.hwaccel ? 'translate3d(0,0,0)' : '',\n          opacity: o.opacity,\n          animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1/o.speed + 's linear infinite'\n        })\n\n        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px ' + '#000'), {top: 2+'px'}))\n        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))\n      }\n      return el\n    },\n\n    /**\n     * Internal method that adjusts the opacity of a single line.\n     * Will be overwritten in VML fallback mode below.\n     */\n    opacity: function(el, i, val) {\n      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val\n    }\n\n  })\n\n\n  function initVML() {\n\n    /* Utility function to create a VML tag */\n    function vml(tag, attr) {\n      return createEl('<' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">', attr)\n    }\n\n    // No CSS transforms but VML support, add a CSS rule for VML elements:\n    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')\n\n    Spinner.prototype.lines = function(el, o) {\n      var r = o.length+o.width\n        , s = 2*r\n\n      function grp() {\n        return css(\n          vml('group', {\n            coordsize: s + ' ' + s,\n            coordorigin: -r + ' ' + -r\n          }),\n          { width: s, height: s }\n        )\n      }\n\n      var margin = -(o.width+o.length)*2 + 'px'\n        , g = css(grp(), {position: 'absolute', top: margin, left: margin})\n        , i\n\n      function seg(i, dx, filter) {\n        ins(g,\n          ins(css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx}),\n            ins(css(vml('roundrect', {arcsize: o.corners}), {\n                width: r,\n                height: o.width,\n                left: o.radius,\n                top: -o.width>>1,\n                filter: filter\n              }),\n              vml('fill', {color: getColor(o.color, i), opacity: o.opacity}),\n              vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change\n            )\n          )\n        )\n      }\n\n      if (o.shadow)\n        for (i = 1; i <= o.lines; i++)\n          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')\n\n      for (i = 1; i <= o.lines; i++) seg(i)\n      return ins(el, g)\n    }\n\n    Spinner.prototype.opacity = function(el, i, val, o) {\n      var c = el.firstChild\n      o = o.shadow && o.lines || 0\n      if (c && i+o < c.childNodes.length) {\n        c = c.childNodes[i+o]; c = c && c.firstChild; c = c && c.firstChild\n        if (c) c.opacity = val\n      }\n    }\n  }\n\n  var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})\n\n  if (!vendor(probe, 'transform') && probe.adj) initVML()\n  else useCssAnimations = vendor(probe, 'animation')\n\n  return Spinner\n\n}));\n\n",
    "define('Spinner',['spin'], function(Spinner){\r\n\tvar opts = {\r\n      lines: 17, // The number of lines to draw\r\n      length: 0, // The length of each line\r\n      width: 10, // The line thickness\r\n      radius: 48, // The radius of the inner circle\r\n      corners: 1, // Corner roundness (0..1)\r\n      rotate: 0, // The rotation offset\r\n      direction: 1, // 1: clockwise, -1: counterclockwise\r\n      color: '#000', // #rgb or #rrggbb or array of colors\r\n      speed: 1, // Rounds per second\r\n      trail: 66, // Afterglow percentage\r\n      shadow: false, // Whether to render a shadow\r\n      hwaccel: false, // Whether to use hardware acceleration\r\n      className: 'spinner', // The CSS class to assign to the spinner\r\n      zIndex: 2e9, // The z-index (defaults to 2000000000)\r\n      top: '50%', // Top position relative to parent in px\r\n      left: '50%' // Left position relative to parent in px\r\n    };\r\n    return new Spinner(opts);\r\n});\n",
    "define('storage/Settings',[],function(){\r\n    \r\n    // localStorage may be disabled due to zero-quota issues (e.g. iPad in private browsing mode)\r\n    var _isLocalStorageEnabled = undefined;\r\n    var isLocalStorageEnabled = function() {\r\n        if (_isLocalStorageEnabled) return true;\r\n        if (typeof _isLocalStorageEnabled === \"undefined\") {\r\n            _isLocalStorageEnabled = false;\r\n            if (localStorage) {\r\n                try {\r\n                    localStorage.setItem(\"_isLocalStorageEnabled\", \"?\");\r\n                    localStorage.removeItem(\"_isLocalStorageEnabled\");\r\n                    _isLocalStorageEnabled = true;\r\n                } catch(e) {\r\n                }\r\n            }\r\n            return _isLocalStorageEnabled;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n    \r\n\tSettings = {\r\n\t\tput : function(key, val, callback){\r\n            if (!isLocalStorageEnabled()) {\r\n                if (callback) callback();\r\n                return;\r\n            }\r\n            \r\n            var val = JSON.stringify(val);\r\n\t\t\tlocalStorage[key] = val;\r\n            \r\n\t\t\tif (callback){\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t},\r\n\t\tget : function(key, callback){\r\n            if (!isLocalStorageEnabled()) {\r\n                if (callback) callback(null);\r\n                return;\r\n            }\r\n            \r\n\t\t\tvar val = localStorage[key];\r\n\t\t\tif (val){\r\n\t\t\t\tcallback(JSON.parse(val));\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcallback(null);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tgetMultiple : function(keys, callback){\r\n            if (!isLocalStorageEnabled()) {\r\n                if (callback) callback({});\r\n                return;\r\n            }\r\n            \r\n\t\t\tvar retVal = {};\r\n\t\t\tfor (var i = 0; i < keys.length; i++){\r\n\t\t\t\tif (localStorage[keys[i]]){\r\n\t\t\t\t\tretVal[keys[i]] = localStorage[keys[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcallback(retVal);\r\n\t\t}\r\n\t}\r\n\treturn Settings;\r\n});\n",
    "\ndefine('text!i18n/_locales/de/messages.json',[],function () { return '{ \"about\": {\\r\\n    \"message\": \"ber Readium\"\\r\\n    },\\r\\n    \"preview\": {\\r\\n        \"message\": \"Vorschau\"\\r\\n    },\\r\\n    \"list_view\": {\\r\\n        \"message\": \"Listenansicht\"\\r\\n    },\\r\\n    \"thumbnail_view\": {\\r\\n        \"message\": \"Kachelansicht\"\\r\\n    },\\r\\n    \"view_library\": {\\r\\n        \"message\": \"Bibliothek\"\\r\\n    },\\r\\n    \"highlight_selection\": {\\r\\n        \"message\": \"Ausgewhlten Text hervorheben\"\\r\\n    },\\r\\n    \"toc\": {\\r\\n        \"message\": \"Inhaltsverzeichnis\"\\r\\n    },\\r\\n    \"settings\": {\\r\\n        \"message\": \"Einstellungen\"\\r\\n    },\\r\\n    \"enter_fullscreen\": {\\r\\n        \"message\": \"Vollbildmodus\"\\r\\n    },\\r\\n    \"exit_fullscreen\": {\\r\\n        \"message\": \"Vollbildmodus verlassen\"\\r\\n    },\\r\\n    \"chrome_extension_name\": {\\r\\n        \"message\": \"Readium\"\\r\\n    },\\r\\n    \"chrome_extension_description\": {\\r\\n        \"message\": \"Ein Leseprogramm fr EPUB3 Bcher.\"\\r\\n    },\\r\\n    \"ok\" : {\\r\\n        \"message\" : \"Ok\"\\r\\n    },\\r\\n    \"i18n_readium_library\": {\\r\\n        \"message\": \"Readium Bibliothek\"\\r\\n    },\\r\\n    \"i18n_loading\": {\\r\\n        \"message\": \"Bibliothek wird geladen\"\\r\\n    },\\r\\n    \"i18n_readium_options\": {\\r\\n        \"message\": \"Readium Einstellungen:\"\\r\\n    },\\r\\n    \"i18n_save_changes\": {\\r\\n        \"message\": \"nderungen speichern\"\\r\\n    },\\r\\n    \"i18n_close\": {\\r\\n        \"message\": \"Schlieen\"\\r\\n    },\\r\\n    \"i18n_keyboard_shortcuts\": {\\r\\n        \"message\": \"Funktionstasten\"\\r\\n    },\\r\\n    \"i18n_keyboard_reload\": {\\r\\n        \"message\": \"Bitte laden Sie die Seite im Browser neu, damit die nderungen der Tastaturkrzel wirksam werden.\"\\r\\n    },\\r\\n    \"i18n_reset_key\": {\\r\\n        \"message\": \"Taste zurcksetzen\"\\r\\n    },\\r\\n    \"i18n_reset_key_all\": {\\r\\n        \"message\": \"Alle Funktionstasten auf Standard zurcksetzen\"\\r\\n    },\\r\\n    \"i18n_duplicate_keyboard_shortcut\": {\\r\\n        \"message\": \"Doppelbelegung\"\\r\\n    },\\r\\n    \"i18n_invalid_keyboard_shortcut\": {\\r\\n        \"message\": \"Nicht zulssig\"\\r\\n    },\\r\\n    \"i18n_paginate_all\": {\\r\\n        \"message\": \"Flietext des EPUB Inhalts paginieren\"\\r\\n    },\\r\\n    \"i18n_automatically\": {\\r\\n        \"message\": \"*.epub URLs automatisch in Readium ffnen\"\\r\\n    },\\r\\n    \"i18n_show_warning\": {\\r\\n        \"message\": \"Warnhinweise beim Entpacken von EPUB Dateien anzeigen\"\\r\\n    },\\r\\n    \"i18n_details\": {\\r\\n        \"message\": \"Details\"\\r\\n    },\\r\\n    \"i18n_read\": {\\r\\n        \"message\": \"Lesen\"\\r\\n    },\\r\\n    \"i18n_delete\": {\\r\\n        \"message\": \"Lschen\"\\r\\n    },\\r\\n    \"i18n_are_you_sure\": {\\r\\n        \"message\": \"Mchten Sie diese Datei wirklich unwiderruflich lschen?\"\\r\\n    },\\r\\n    \"delete_dlg_title\": {\\r\\n        \"message\": \"Lschen besttigen\"\\r\\n    },\\r\\n\\r\\n    \"i18n_auto_page_turn_enable\": {\\r\\n        \"message\": \"Automatisches Umblttern einschalten\"\\r\\n    },\\r\\n    \"i18n_auto_page_turn_disable\": {\\r\\n        \"message\": \"Automatisches Umblttern ausschalten\"\\r\\n    },\\r\\n\\r\\n    \"i18n_playback_scroll_enable\": {\\r\\n        \"message\": \"Scrollen whrend der Wiedergabe\"\\r\\n    },\\r\\n    \"i18n_playback_scroll_disable\": {\\r\\n        \"message\": \"Kein Scrollen whrend der Wiedergabe\"\\r\\n    },\\r\\n    \"i18n_audio_touch_enable\": {\\r\\n        \"message\": \"Touch-to-play einschalten\"\\r\\n    },\\r\\n    \"i18n_audio_touch_disable\": {\\r\\n        \"message\": \"Touch-to-play ausschalten\"\\r\\n    },\\r\\n    \"i18n_audio_highlight_default\": {\\r\\n        \"message\": \"Standard\"\\r\\n    },\\r\\n    \"i18n_audio_highlight\": {\\r\\n        \"message\": \"Hervorhebungsfarbe\"\\r\\n    },\\r\\n\\r\\n    \"delete_progress_title\": {\\r\\n        \"message\": \"Lschen wird ausgefhrt\"\\r\\n    },\\r\\n    \"delete_progress_message\": {\\r\\n        \"message\": \"Lschen\"\\r\\n    },\\r\\n    \"migrate_dlg_title\": {\\r\\n        \"message\": \"Bcher migrieren\"\\r\\n    },\\r\\n    \"migrate_dlg_message\": {\\r\\n        \"message\": \"Daten werden geladen...\"\\r\\n    },\\r\\n    \"migrating\": {\\r\\n        \"message\": \"Migrieren...\"\\r\\n    },\\r\\n    \"replace_dlg_title\": {\\r\\n        \"message\": \"Konflikt festgestellt\"\\r\\n    },\\r\\n    \"replace_dlg_message\": {\\r\\n        \"message\": \"Soll das bestehende EPUB wirklich ersetzt werden?\"\\r\\n    },\\r\\n    \"import_dlg_title\": {\\r\\n        \"message\": \"EPUB importieren\"\\r\\n    },\\r\\n    \"import_dlg_message\": {\\r\\n        \"message\": \"EPUB Inhalt berprfen...\"\\r\\n    },\\r\\n    \"storing_file\": {\\r\\n        \"message\": \"Datei speichern\"\\r\\n    },\\r\\n    \"err_unknown\": {\\r\\n        \"message\": \"Unbekannter Fehler. Fr Details ffnen Sie die Konsole.\"\\r\\n    },\\r\\n    \"err_storage\": {\\r\\n        \"message\": \"Zugriff auf Dateispeicher nicht mglich.\"\\r\\n    },\\r\\n    \"err_epub_corrupt\": {\\r\\n        \"message\": \"Ungltiges oder beschdigtes EPUB Paket\"\\r\\n    },\\r\\n    \"err_dlg_title\": {\\r\\n        \"message\": \"Unerwarteter Fehler\"\\r\\n    },\\r\\n    \"replace\" : {\\r\\n        \"message\": \"Ersetzen\"\\r\\n    },\\r\\n    \"i18n_author\": {\\r\\n        \"message\": \"Autor: \"\\r\\n    },\\r\\n    \"i18n_publisher\": {\\r\\n        \"message\": \"Verlag: \"\\r\\n    },\\r\\n    \"i18n_source\": {\\r\\n        \"message\": \"Quelle: \"\\r\\n    },\\r\\n    \"i18n_pub_date\": {\\r\\n        \"message\": \"Verffentlicht am: \"\\r\\n    },\\r\\n    \"i18n_modified_date\": {\\r\\n        \"message\": \"Zuletzt gendert am: \"\\r\\n    },\\r\\n    \"i18n_id\": {\\r\\n        \"message\": \"ID: \"\\r\\n    },\\r\\n    \"i18n_epub_version\": {\\r\\n        \"message\": \"EPUB Version: \"\\r\\n    },\\r\\n    \"i18n_created_at\": {\\r\\n        \"message\": \"Erstellt am: \"\\r\\n    },\\r\\n    \"i18n_format\": {\\r\\n        \"message\": \"Format: \"\\r\\n    },\\r\\n    \"i18n_added\": {\\r\\n        \"message\": \"Hinzugefgt am: \"\\r\\n    },\\r\\n    \"i18n_unknown\": {\\r\\n        \"message\": \"Unbekannt\"\\r\\n    },\\r\\n    \"i18n_sorry\": {\\r\\n        \"message\": \"Das aktuelle EPUB enthlt fr diesen Inhalt keine Media Overlays.\"\\r\\n    },\\r\\n    \"i18n_add_items\": {\\r\\n        \"message\": \"Fge Werke zur Bibliothek hinzu.\"\\r\\n    },\\r\\n    \"i18n_extracting\": {\\r\\n        \"message\": \"Entpacke: \"\\r\\n    },\\r\\n    \"i18n_add_book_to_readium_library\": {\\r\\n        \"message\": \"Buch zur Readium Bibliothek hinzufgen:\"\\r\\n    },\\r\\n    \"i18n_add_book\": {\\r\\n        \"message\": \"Buch hinzufgen\"\\r\\n    },\\r\\n    \"i18n_cancel\": {\\r\\n        \"message\": \"Abbrechen\"\\r\\n    },\\r\\n    \"i18n_from_the_web\": {\\r\\n        \"message\": \"Internet:\"\\r\\n    },\\r\\n    \"i18n_from_local_file\": {\\r\\n        \"message\": \"Lokale Datei:\"\\r\\n    },\\r\\n    \"i18n_enter_a_url\": {\\r\\n        \"message\": \"URL einer .epub Datei eingeben\"\\r\\n    },\\r\\n    \"i18n_unpacked_directory\": {\\r\\n        \"message\": \"Entpacktes Verzeichnis:\"\\r\\n    },\\r\\n    \"i18n_validate\": {\\r\\n        \"message\": \"Prfe:\"\\r\\n    },\\r\\n    \"i18n_confirm_that_this_book\": {\\r\\n        \"message\": \"Besttigung, dass dieses Buch mit EPUB Standards bereinstimmt\"\\r\\n    },\\r\\n    \"i18n_single_pages\": {\\r\\n        \"message\": \"Einzelseiten\"\\r\\n    },\\r\\n    \"i18n_double_pages\": {\\r\\n        \"message\": \"Doppelseiten\"\\r\\n    },\\r\\n    \"i18n_save_settings\": {\\r\\n        \"message\": \"Einstellungen speichern\"\\r\\n    },\\r\\n    \"i18n_font_size\": {\\r\\n        \"message\": \"Schriftgre\"\\r\\n    },\\r\\n    \"i18n_margins\": {\\r\\n        \"message\": \"Rand\"\\r\\n    },\\r\\n    \"i18n_text_and_background_color\": {\\r\\n        \"message\": \"Text- und Hintergrundfarbe\"\\r\\n    },\\r\\n    \"i18n_author_theme\": {\\r\\n        \"message\": \"Vorgabe des Autors\"\\r\\n    },\\r\\n    \"i18n_black_and_white\": {\\r\\n        \"message\": \"Schwarzweiss\"\\r\\n    },\\r\\n    \"i18n_arabian_nights\": {\\r\\n        \"message\": \"Arabian Nights\"\\r\\n    },\\r\\n    \"i18n_sands_of_dune\": {\\r\\n        \"message\": \"Sands of Dune\"\\r\\n    },\\r\\n    \"i18n_ballard_blues\": {\\r\\n        \"message\": \"Ballard Blues\"\\r\\n    },\\r\\n    \"i18n_vancouver_mist\": {\\r\\n        \"message\": \"Vancouver Mist\"\\r\\n    },\\r\\n    \"i18n_display_format\": {\\r\\n        \"message\": \"Anzeigeformat\"\\r\\n    },\\r\\n    \"i18n_spread_auto\": {\\r\\n        \"message\": \"Automatisch\"\\r\\n    },\\r\\n    \"i18n_scroll_mode\": {\\r\\n        \"message\": \"Scroll Modus\"\\r\\n    },\\r\\n    \"i18n_scroll_mode_auto\": {\\r\\n        \"message\": \"Automatisch\"\\r\\n    },\\r\\n    \"i18n_scroll_mode_doc\": {\\r\\n        \"message\": \"Dokument\"\\r\\n    },\\r\\n    \"i18n_scroll_mode_continuous\": {\\r\\n        \"message\": \"Kontinuierlich\"\\r\\n    },\\r\\n\\r\\n    \"i18n_page_transition\": {\\r\\n        \"message\": \"Umbltter-Effekt\"\\r\\n    },\\r\\n    \"i18n_page_transition_none\": {\\r\\n        \"message\": \"Keiner\"\\r\\n    },\\r\\n    \"i18n_page_transition_fade\": {\\r\\n        \"message\": \"Fade\"\\r\\n    },\\r\\n    \"i18n_page_transition_slide\": {\\r\\n        \"message\": \"Slide\"\\r\\n    },\\r\\n    \"i18n_page_transition_swoosh\": {\\r\\n        \"message\": \"Swoosh\"\\r\\n    },\\r\\n    \"i18n_page_transition_butterfly\": {\\r\\n        \"message\": \"Butterfly\"\\r\\n    },\\r\\n    \"i18n_html_readium_tm_a_project\": {\\r\\n        \"message\": \"Readium fr Chrome ist die Chrome Browser Erweiterung basierend auf ReadiumJS, einem Open-Source Lesesystem und einer JavaScript Bibliothek zur Darstellung von EPUB Verffentlichungen in Web-Browsern. ReadiumJS ist ein Projekt der Readium Foundation (Readium.org). Wenn Sie mehr darber erfahren mchten oder das Projekt untersttzen wollen, besuchen Sie bitte die <a href=\\\\\"http://readium.org/\\\\\">Projekt Homepage</a>.\"\\r\\n\\r\\n    },\\r\\n    \"gethelp\": {\\r\\n        \"message\": \"Falls Sie auf Probleme stoen, Fragen haben oder \\\\\"Hallo\\\\\" sagen mchten, besuchen Sie <a href=\\\\\"http://idpf.org/forums/readium\\\\\">unser Forum</a>.\"\\r\\n    },\\r\\n    \"i18n_toolbar\": {\\r\\n        \"message\": \"Werkzeugleiste\"\\r\\n    },\\r\\n    \"i18n_toolbar_show\": {\\r\\n        \"message\": \"Werkzeugleiste anzeigen\"\\r\\n    },\\r\\n    \"i18n_toolbar_hide\": {\\r\\n        \"message\": \"Werkzeugleiste ausblenden\"\\r\\n    },\\r\\n    \"i18n_audio_play\": {\\r\\n        \"message\": \"Audio - Abspielen\"\\r\\n    },\\r\\n    \"i18n_audio_pause\": {\\r\\n        \"message\": \"Audio - Pause\"\\r\\n    },\\r\\n    \"i18n_audio_play_background\": {\\r\\n        \"message\": \"Hintergrundaudio ein\"\\r\\n    },\\r\\n    \"i18n_audio_pause_background\": {\\r\\n        \"message\": \"Hintergrundaudio aus\"\\r\\n    },\\r\\n    \"i18n_audio_previous\": {\\r\\n        \"message\": \"Vorige Audiophrase\"\\r\\n    },\\r\\n    \"i18n_audio_next\": {\\r\\n        \"message\": \"Nchste Audiophrase\"\\r\\n    },\\r\\n    \"i18n_audio_volume\": {\\r\\n        \"message\": \"Lautstrke\"\\r\\n    },\\r\\n    \"i18n_audio_volume_increase\": {\\r\\n        \"message\": \"Lautstrke erhhen\"\\r\\n    },\\r\\n    \"i18n_audio_volume_decrease\": {\\r\\n        \"message\": \"Lautstrke verringern\"\\r\\n    },\\r\\n    \"i18n_audio_time\": {\\r\\n        \"message\": \"Audio - Zeitmarke\"\\r\\n    },\\r\\n    \"i18n_audio_mute\": {\\r\\n        \"message\": \"Audio ausschalten\"\\r\\n    },\\r\\n    \"i18n_audio_unmute\": {\\r\\n        \"message\": \"Audio einschalten\"\\r\\n    },\\r\\n    \"i18n_audio_expand\": {\\r\\n        \"message\": \"Erweiterte Audio-Steuerung anzeigen\"\\r\\n    },\\r\\n    \"i18n_audio_collapse\": {\\r\\n        \"message\": \"Erweiterte Audio-Steuerung ausblenden\"\\r\\n    },\\r\\n    \"i18n_audio_esc\": {\\r\\n        \"message\": \"Aktuellen Audio-Bereich verlassen\"\\r\\n    },\\r\\n    \"i18n_audio_rate\": {\\r\\n        \"message\": \"Audio - Wiedergabegeschwindigkeit\"\\r\\n    },\\r\\n    \"i18n_audio_rate_increase\": {\\r\\n        \"message\": \"Audio - Wiedergabegeschwindigkeit erhhen\"\\r\\n    },\\r\\n    \"i18n_audio_rate_decrease\": {\\r\\n        \"message\": \"Audio - Wiedergabegeschwindigkeit verringern\"\\r\\n    },\\r\\n    \"i18n_audio_rate_reset\": {\\r\\n        \"message\": \"Audio - Wiedergabegeschwindigkeit zurcksetzen\"\\r\\n    },\\r\\n    \"i18n_audio_skip_disable\": {\\r\\n        \"message\": \"Audio - berspringen unterbinden \"\\r\\n    },\\r\\n    \"i18n_audio_skip_enable\": {\\r\\n        \"message\": \"Audio - berspringen ermglichen\"\\r\\n    },\\r\\n    \"i18n_audio_sync\": {\\r\\n        \"message\": \"Text-Audio-Synchronisation\"\\r\\n    },\\r\\n    \"i18n_audio_sync_default\": {\\r\\n        \"message\": \"Nach Vorgabe\"\\r\\n    },\\r\\n    \"i18n_audio_sync_word\": {\\r\\n        \"message\": \"Wort\"\\r\\n    },\\r\\n    \"i18n_audio_sync_sentence\": {\\r\\n        \"message\": \"Satz\"\\r\\n    },\\r\\n    \"i18n_audio_sync_paragraph\": {\\r\\n        \"message\": \"Absatz\"\\r\\n    },\\r\\n    \"i18n_page_previous\": {\\r\\n        \"message\": \"Vorige Seite\"\\r\\n    },\\r\\n    \"i18n_page_next\": {\\r\\n        \"message\": \"Nchste Seite\"\\r\\n    },\\r\\n    \"chrome_accept_languages\": {\\r\\n        \"message\": \"$CHROME$ akzeptiert $languages$ Sprachen\",\\r\\n        \"placeholders\": {\\r\\n            \"chrome\": {\\r\\n                \"content\": \"Chrome\",\\r\\n                \"example\": \"Chrome\"\\r\\n            },\\r\\n            \"languages\": {\\r\\n                \"content\": \"$1\",\\r\\n                \"example\": \"en-US,ja,sr,de,zh_CN\"\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}';});\n\n",
    "\ndefine('text!i18n/_locales/es/messages.json',[],function () { return '{\\r\\n\\r\\n    \"chrome_extension_name\": {\\r\\n        \"message\": \"Readium\"\\r\\n    },\\r\\n    \"about\" : {\\r\\n        \"message\" : \"Acerca de\"\\r\\n    },\\r\\n    \"preview\" : {\\r\\n        \"message\" : \"Vista previa\"\\r\\n    },\\r\\n    \"list_view\" : {\\r\\n        \"message\" : \"Vista en lista\"\\r\\n    },\\r\\n    \"thumbnail_view\" : {\\r\\n        \"message\" : \"Vista en miniaturas\"\\r\\n    },\\r\\n    \"view_library\": {\\r\\n        \"message\" : \"Biblioteca\"\\r\\n    },\\r\\n    \"highlight_selection\" : {\\r\\n        \"message\" : \"Subrayar texto seleccionado\"\\r\\n    },\\r\\n    \"toc\" : {\\r\\n        \"message\" : \"Tabla de contenidos\"\\r\\n    },\\r\\n    \"settings\" : {\\r\\n        \"message\" : \"Preferencias\"\\r\\n    },\\r\\n    \"enter_fullscreen\" : {\\r\\n        \"message\" : \"Abrir modo de pantalla completa\"\\r\\n    },\\r\\n    \"exit_fullscreen\" : {\\r\\n        \"message\" : \"Cerrar modo de pantalla completa\"\\r\\n    },\\r\\n    \"chrome_extension_description\": {\\r\\n        \"message\": \"Lector de libros EPUB3.\"\\r\\n    },\\r\\n    \"ok\" : {\\r\\n        \"message\" : \"Ok\"\\r\\n    },\\r\\n    \"delete_dlg_title\" : {\\r\\n        \"message\" : \"Confirmar eliminacin\"\\r\\n    },\\r\\n    \"delete_progress_title\" : {\\r\\n        \"message\" : \"Eliminacin en progreso\"\\r\\n    },\\r\\n    \"delete_progress_message\" : {\\r\\n        \"message\" : \"Eliminando\"\\r\\n    },\\r\\n    \"migrate_dlg_title\" : {\\r\\n        \"message\" : \"Migrando libros\"\\r\\n    },\\r\\n    \"migrate_dlg_message\" : {\\r\\n        \"message\" : \"Cargando datos...\"\\r\\n    },\\r\\n    \"migrating\" : {\\r\\n        \"message\" : \"Migrando\"\\r\\n    },\\r\\n    \"replace_dlg_title\" : {\\r\\n        \"message\": \"Se ha detectado un conflicto\"\\r\\n    },\\r\\n    \"replace_dlg_message\": {\\r\\n        \"message\": \"Si decide continuar, el siguiente epub ser reemplazado por el que est siendo importado\"\\r\\n    },\\r\\n    \"import_dlg_title\" : {\\r\\n        \"message\": \"Importando EPUB\"\\r\\n    },\\r\\n    \"import_dlg_message\" : {\\r\\n        \"message\": \"Examinando contenido del EPUB...\"\\r\\n    },\\r\\n    \"storing_file\" : {\\r\\n        \"message\": \"Guardando archivo\"\\r\\n    },\\r\\n    \"err_unknown\" : {\\r\\n        \"message\": \"Error desconocido. Chequear la consola para conocer ms detalles.\"\\r\\n    },\\r\\n    \"err_storage\" : {\\r\\n        \"message\": \"No es posible acceder al dispositvo\"\\r\\n    },\\r\\n    \"err_epub_corrupt\" : {\\r\\n        \"message\": \"Paquete EPUB invlido o corrupto\"\\r\\n    },\\r\\n    \"err_dlg_title\" : {\\r\\n        \"message\": \"Error inesperado\"\\r\\n    },\\r\\n    \"replace\" : {\\r\\n        \"message\": \"Reemplazar\"\\r\\n    },\\r\\n    \"gethelp\" : {\\r\\n        \"message\" : \"Si encuentra algn problema, tiene preguntas, o le gustara decir hola, visite <a href=\\\\\"http://idpf.org/forums/readium\\\\\">nuestro foro</a>\"\\r\\n    },\\r\\n    \"i18n_readium_library\" : {\\r\\n        \"message\" : \"Biblioteca Readium\"\\r\\n    },\\r\\n    \"i18n_loading\" : {\\r\\n        \"message\" : \"Cargando biblioteca\"\\r\\n    },\\r\\n    \"i18n_readium_options\" : {\\r\\n        \"message\" : \"Readium Opciones:\"\\r\\n    },\\r\\n    \"i18n_save_changes\" : {\\r\\n        \"message\" : \"Guardar cambios\"\\r\\n    },\\r\\n    \"i18n_close\" : {\\r\\n        \"message\" : \"Cerrar\"\\r\\n    },\\r\\n    \"i18n_keyboard_shortcuts\" : {\\r\\n        \"message\" : \"Teclas de acceso rpido\"\\r\\n    },\\r\\n    \"i18n_keyboard_reload\" : {\\r\\n        \"message\" : \"Por favor, actualiza la pgina para que las teclas de acceso rpido tengan efecto.\"\\r\\n    },\\r\\n    \"i18n_reset_key\" : {\\r\\n        \"message\" : \"Reestablecer tecla\"\\r\\n    },\\r\\n    \"i18n_reset_key_all\" : {\\r\\n        \"message\" : \"Reestablecer todos las teclas de acceso rpido\"\\r\\n    },\\r\\n    \"i18n_duplicate_keyboard_shortcut\" : {\\r\\n        \"message\" : \"DUPLICADO\"\\r\\n    },\\r\\n    \"i18n_invalid_keyboard_shortcut\" : {\\r\\n        \"message\" : \"INVALIDO\"\\r\\n    },\\r\\n    \"i18n_paginate_all\" : {\\r\\n        \"message\" : \"Paginar todo el contenido ePUB repaginable\"\\r\\n    },\\r\\n    \"i18n_automatically\" : {\\r\\n        \"message\" : \"Abrir automticamente urls *.epub en readium\"\\r\\n    },\\r\\n    \"i18n_show_warning\" : {\\r\\n        \"message\" : \"Mostrar advertencias al desempaquetar archivos EPUB\"\\r\\n    },\\r\\n    \"i18n_details\" : {\\r\\n        \"message\" : \"Detalles\"\\r\\n    },\\r\\n    \"i18n_read\" : {\\r\\n        \"message\" : \"Leer\"\\r\\n    },\\r\\n    \"i18n_delete\" : {\\r\\n        \"message\" : \"Eliminar\"\\r\\n    },\\r\\n    \"i18n_author\" : {\\r\\n        \"message\" : \"Autor: \"\\r\\n    },\\r\\n    \"i18n_publisher\" : {\\r\\n        \"message\" : \"Editor: \"\\r\\n    },\\r\\n    \"i18n_source\" : {\\r\\n        \"message\" : \"Fuente: \"\\r\\n    },\\r\\n    \"i18n_pub_date\" : {\\r\\n        \"message\" : \"Fecha de publicacin: \"\\r\\n    },\\r\\n    \"i18n_modified_date\" : {\\r\\n        \"message\" : \"Fecha de modificacin: \"\\r\\n    },\\r\\n    \"i18n_id\" : {\\r\\n        \"message\" : \"ID: \"\\r\\n    },\\r\\n    \"i18n_epub_version\" : {\\r\\n        \"message\" : \"Versin EPUB: \"\\r\\n    },\\r\\n    \"i18n_created_at\" : {\\r\\n        \"message\" : \"Creado en: \"\\r\\n    },\\r\\n    \"i18n_format\" : {\\r\\n        \"message\" : \"Formato: \"\\r\\n    },\\r\\n    \"i18n_added\" : {\\r\\n        \"message\" : \"Aadido: \"\\r\\n    },\\r\\n    \"i18n_unknown\" : {\\r\\n        \"message\" : \"Desconocido\"\\r\\n    },\\r\\n    \"i18n_sorry\" : {\\r\\n        \"message\" : \"Disculpa, el EPUB actual no contiene superposicin multimedia para este contenido\"\\r\\n    },\\r\\n    \"i18n_add_items\" : {\\r\\n        \"message\" : \"Aade aqu elementos a tu biblioteca!\"\\r\\n    },\\r\\n    \"i18n_extracting\" : {\\r\\n        \"message\" : \"extrayendo: \"\\r\\n    },\\r\\n    \"i18n_are_you_sure\" : {\\r\\n        \"message\" : \"Est seguro que desea eliminar de forma permanente\"\\r\\n    },\\r\\n    \"i18n_add_book_to_readium_library\" : {\\r\\n        \"message\" : \"Aadir libro a biblioteca Readium:\"\\r\\n    },\\r\\n    \"i18n_add_book\" : {\\r\\n        \"message\" : \"Aadir a la biblioteca\"\\r\\n    },\\r\\n    \"i18n_cancel\" : {\\r\\n        \"message\" : \"Cancelar\"\\r\\n    },\\r\\n    \"i18n_from_the_web\" : {\\r\\n        \"message\" : \"Desde la web:\"\\r\\n    },\\r\\n    \"i18n_from_local_file\" : {\\r\\n        \"message\" : \"Desde un archivo local:\"\\r\\n    },\\r\\n    \"i18n_enter_a_url\" : {\\r\\n        \"message\" : \"Ingresa una URL a un archivo .epub\"\\r\\n    },\\r\\n    \"i18n_unpacked_directory\" : {\\r\\n        \"message\" : \"Carpeta descomprimida:\"\\r\\n    },\\r\\n    \"i18n_validate\" : {\\r\\n        \"message\" : \"Validar:\"\\r\\n    },\\r\\n    \"i18n_confirm_that_this_book\" : {\\r\\n        \"message\" : \"Confirmar que este libro cumple con los estndares ePUB\"\\r\\n    },\\r\\n    \"i18n_single_pages\" : {\\r\\n        \"message\" : \"Pginas simple\"\\r\\n    },\\r\\n    \"i18n_double_pages\" : {\\r\\n        \"message\" : \"Pginas doble\"\\r\\n    },\\r\\n    \"i18n_save_settings\" : {\\r\\n        \"message\" : \"Guardar preferencias\"\\r\\n    },\\r\\n    \"i18n_font_size\" : {\\r\\n        \"message\" : \"TAMAO DE FUENTE\"\\r\\n    },\\r\\n    \"i18n_margins\" : {\\r\\n        \"message\" : \"MARGENES\"\\r\\n    },\\r\\n    \"i18n_text_and_background_color\" : {\\r\\n        \"message\" : \"COLOR DE FUENTE Y FONDO\"\\r\\n    },\\r\\n    \"i18n_black_and_white\" : {\\r\\n        \"message\" : \"Blanco y negro\"\\r\\n    },\\r\\n    \"i18n_arabian_nights\" : {\\r\\n        \"message\" : \"Las mil y una noches\"\\r\\n    },\\r\\n    \"i18n_sands_of_dune\" : {\\r\\n        \"message\" : \"Arenas de duna\"\\r\\n    },\\r\\n    \"i18n_ballard_blues\" : {\\r\\n        \"message\" : \"Ballard Blues\"\\r\\n    },\\r\\n    \"i18n_vancouver_mist\" : {\\r\\n        \"message\" : \"Bruma de Vancouver\"\\r\\n    },\\r\\n    \"i18n_display_format\" : {\\r\\n        \"message\" : \"MOSTRAR FORMATO\"\\r\\n    },\\r\\n    \"i18n_scroll_mode\" : {\\r\\n        \"message\" : \"MODO DE DESPLAZAMIENTO\"\\r\\n    },\\r\\n    \"i18n_scroll_mode_default\" : {\\r\\n        \"message\" : \"Por defecto\"\\r\\n    },\\r\\n    \"i18n_scroll_mode_doc\" : {\\r\\n        \"message\" : \"Documento\"\\r\\n    },\\r\\n    \"i18n_scroll_mode_continuous\" : {\\r\\n        \"message\" : \"Continuo\"\\r\\n    },\\r\\n    \"i18n_html_readium_tm_a_project\" : {\\r\\n        \"message\" : \"Readium para Chrome es la extensin para Chrome de ReadiumJS, un sistema de lectura de cdigo abierto y librera JavaScript para renderizar publicaciones EPUB en navegadores web. ReadiumJS es un proyecto de Readium Foundation (Readium.org). Para saber ms o contribuir, visita el <a href=\\\\\"http://readium.org/projects/readiumjs\\\\\">sitio del proyecto</a>\"\\r\\n    },\\r\\n    \"i18n_toolbar_show\" : {\\r\\n        \"message\" : \"Mostrar barra de herramientas\"\\r\\n    },\\r\\n    \"i18n_toolbar_hide\" : {\\r\\n        \"message\" : \"Ocultar barra de herramientas\"\\r\\n    },\\r\\n    \"i18n_audio_play\" : {\\r\\n        \"message\" : \"Reproducir\"\\r\\n    },\\r\\n    \"i18n_audio_pause\" : {\\r\\n        \"message\" : \"Pausa\"\\r\\n    },\\r\\n    \"i18n_audio_previous\" : {\\r\\n        \"message\" : \"Frase de audio anterior\"\\r\\n    },\\r\\n    \"i18n_audio_next\" : {\\r\\n        \"message\" : \"Frase de audio siguiente\"\\r\\n    },\\r\\n    \"i18n_audio_volume\" : {\\r\\n        \"message\" : \"Volumen de audio\"\\r\\n    },\\r\\n    \"i18n_audio_volume_increase\" : {\\r\\n        \"message\" : \"Incrementar volumen de audio\"\\r\\n    },\\r\\n    \"i18n_audio_volume_decrease\" : {\\r\\n        \"message\" : \"Reducir volumen de audio\"\\r\\n    },\\r\\n    \"i18n_audio_time\" : {\\r\\n        \"message\" : \"Cursor de tiempo de audio\"\\r\\n    },\\r\\n    \"i18n_audio_mute\" : {\\r\\n        \"message\" : \"Desactivar audio\"\\r\\n    },\\r\\n    \"i18n_audio_unmute\" : {\\r\\n        \"message\" : \"Activar audio\"\\r\\n    },\\r\\n    \"i18n_audio_expand\" : {\\r\\n        \"message\" : \"Mostrar controles avanzados de audio\"\\r\\n    },\\r\\n    \"i18n_audio_collapse\" : {\\r\\n        \"message\" : \"Cerrar controles avanzados de audio\"\\r\\n    },\\r\\n    \"i18n_audio_esc\" : {\\r\\n        \"message\" : \"Salir de contexto actual de audio\"\\r\\n    },\\r\\n    \"i18n_audio_rate\" : {\\r\\n        \"message\" : \"Velocidad de reproduccin de audio\"\\r\\n    },\\r\\n    \"i18n_audio_rate_increase\" : {\\r\\n        \"message\" : \"Incrementar velocidad de reproduccin de audio\"\\r\\n    },\\r\\n    \"i18n_audio_rate_decrease\" : {\\r\\n        \"message\" : \"Reducir velocidad de reproduccin de audio\"\\r\\n    },\\r\\n    \"i18n_audio_rate_reset\" : {\\r\\n        \"message\" : \"Reestablecer reproduccin de audio a velocidad normal\"\\r\\n    },\\r\\n    \"i18n_audio_skip_disable\" : {\\r\\n        \"message\" : \"Desactivar capacidad de omisin\"\\r\\n    },\\r\\n    \"i18n_audio_skip_enable\" : {\\r\\n        \"message\" : \"Activar capacidad de omisin\"\\r\\n    },\\r\\n    \"i18n_audio_touch_enable\" : {\\r\\n        \"message\" : \"Activar touch-to-play\"\\r\\n    },\\r\\n    \"i18n_audio_touch_disable\" : {\\r\\n        \"message\" : \"Desactivar touch-to-play\"\\r\\n    },\\r\\n    \"i18n_audio_highlight_default\" : {\\r\\n        \"message\" : \"por defecto\"\\r\\n    },\\r\\n    \"i18n_audio_highlight\" : {\\r\\n        \"message\" : \"Color de audio\"\\r\\n    },\\r\\n    \"i18n_audio_sync\" : {\\r\\n        \"message\" : \"Granularidad de sincronizacin texto/audio\"\\r\\n    },\\r\\n    \"i18n_audio_sync_default\" : {\\r\\n        \"message\" : \"Por defecto\"\\r\\n    },\\r\\n    \"i18n_audio_sync_word\" : {\\r\\n        \"message\" : \"Palabra\"\\r\\n    },\\r\\n    \"i18n_audio_sync_sentence\" : {\\r\\n        \"message\" : \"Oracin\"\\r\\n    },\\r\\n    \"i18n_audio_sync_paragraph\" : {\\r\\n        \"message\" : \"Prrafo\"\\r\\n    },\\r\\n    \"i18n_page_previous\" : {\\r\\n        \"message\" : \"Pgina previa\"\\r\\n    },\\r\\n    \"i18n_page_next\" : {\\r\\n        \"message\" : \"Pgina siguiente\"\\r\\n    },\\r\\n    \"i18n_author_theme\" : {\\r\\n      \"message\" : \"Por defecto (estilos de autor)\"\\r\\n    },\\r\\n\\r\\n  \"i18n_spread_auto\" : {\\r\\n       \"message\" : \"Automtico\"\\r\\n    },\\r\\n\\r\\n  \"i18n_scroll_mode_auto\" : {\\r\\n      \"message\" : \"Automtico\"\\r\\n    },\\r\\n\\r\\n   \"i18n_page_transition\" : {\\r\\n      \"message\" : \"EFECTOS DE PGINA\"\\r\\n    },\\r\\n    \"i18n_page_transition_none\" : {\\r\\n      \"message\" : \"Desactivado\"\\r\\n    },\\r\\n    \"i18n_page_transition_fade\" : {\\r\\n      \"message\" : \"Apagarse\"\\r\\n    },\\r\\n    \"i18n_page_transition_slide\" : {\\r\\n      \"message\" : \"Deslizar\"\\r\\n    },\\r\\n    \"i18n_page_transition_swoosh\" : {\\r\\n      \"message\" : \"Swoosh\"\\r\\n    },\\r\\n    \"i18n_page_transition_butterfly\" : {\\r\\n      \"message\" : \"Mariposa\"\\r\\n    },\\r\\n\\r\\n  \"i18n_toolbar\" : {\\r\\n      \"message\" : \"Barra de herramientas\"\\r\\n    },\\r\\n\\r\\n   \"i18n_audio_play_background\" : {\\r\\n      \"message\" : \"Reproducir pista en segundo plano\"\\r\\n    },\\r\\n    \"i18n_audio_pause_background\" : {\\r\\n      \"message\" : \"Pausar pista en segundo plano\"\\r\\n},\\r\\n\\r\\n   \"i18n_auto_page_turn_enable\" : {\\r\\n      \"message\" : \"Activar vuelta de pgina automtica\"\\r\\n    },\\r\\n    \"i18n_auto_page_turn_disable\" : {\\r\\n      \"message\" : \"Desactivar vuelta de pgina automtica\"\\r\\n    },\\r\\n\\r\\n   \"i18n_playback_scroll_enable\" : {\\r\\n      \"message\" : \"Activar desplazamiento durante la reproduccin\"\\r\\n    },\\r\\n\\r\\n    \"i18n_playback_scroll_disable\" : {\\r\\n      \"message\" : \"Desactivar desplazamiento durante la reproduccin\"\\r\\n    },\\r\\n\\r\\n    \"chrome_accept_languages\": {\\r\\n        \"message\": \"$CHROME$ acepta idiomas $languages$\",\\r\\n        \"placeholders\": {\\r\\n            \"chrome\": {\\r\\n                \"content\": \"Chrome\",\\r\\n                \"example\": \"Chrome\"\\r\\n            },\\r\\n            \"languages\": {\\r\\n                \"content\": \"$1\",\\r\\n                \"example\": \"en-US,ja,sr,de,zh_CN\"\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}';});\n\n",
    "\ndefine('text!i18n/_locales/en_US/messages.json',[],function () { return '{\\r\\n\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"about\" : {\\r\\n    \"message\" : \"About\"\\r\\n  },\\r\\n  \"preview\" : {\\r\\n    \"message\" : \"PREVIEW\"\\r\\n  },\\r\\n  \"list_view\" : {\\r\\n    \"message\" : \"List View\"\\r\\n  },\\r\\n  \"thumbnail_view\" : {\\r\\n    \"message\" : \"Thumbnail View\"\\r\\n  },\\r\\n  \"view_library\": {\\r\\n    \"message\" : \"Library\"\\r\\n  },\\r\\n  \"highlight_selection\" : {\\r\\n    \"message\" : \"Highlight Selected Text\"\\r\\n  },\\r\\n  \"toc\" : {\\r\\n    \"message\" : \"Table of Contents\"\\r\\n  },\\r\\n  \"settings\" : {\\r\\n    \"message\" : \"Settings\"\\r\\n  },\\r\\n  \"layout\" : {\\r\\n    \"message\" : \"Layout\"\\r\\n  },\\r\\n  \"style\" : {\\r\\n    \"message\" : \"Style\"\\r\\n  },\\r\\n  \"enter_fullscreen\" : {\\r\\n    \"message\" : \"Enter Fullscreen\"\\r\\n  },\\r\\n  \"exit_fullscreen\" : {\\r\\n    \"message\" : \"Exit Fullscreen\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"A reader for EPUB3 books.\"\\r\\n  },\\r\\n  \"ok\" : {\\r\\n    \"message\" : \"Ok\"\\r\\n  },\\r\\n  \"delete_dlg_title\" : {\\r\\n    \"message\" : \"Confirm Delete\"\\r\\n  },\\r\\n  \"delete_progress_title\" : {\\r\\n    \"message\" : \"Delete in Progress\"\\r\\n  },\\r\\n  \"delete_progress_message\" : {\\r\\n    \"message\" : \"Deleting\"\\r\\n  },\\r\\n  \"migrate_dlg_title\" : {\\r\\n    \"message\" : \"Migrating Books\"\\r\\n  },\\r\\n  \"migrate_dlg_message\" : {\\r\\n    \"message\" : \"Loading data...\"\\r\\n  },\\r\\n  \"migrating\" : {\\r\\n    \"message\" : \"Migrating\"\\r\\n  },\\r\\n  \"replace_dlg_title\" : {\\r\\n    \"message\": \"Conflict Detected\"\\r\\n  },\\r\\n  \"replace_dlg_message\": {\\r\\n    \"message\": \"If you continue, the following epub will be replaced with the one you are importing\"\\r\\n  },\\r\\n  \"import_dlg_title\" : {\\r\\n    \"message\": \"Importing EPUB\"\\r\\n  },\\r\\n  \"import_dlg_message\" : {\\r\\n    \"message\": \"Examining EPUB content...\"\\r\\n  },\\r\\n  \"storing_file\" : {\\r\\n    \"message\": \"Storing file\"\\r\\n  },\\r\\n  \"err_unknown\" : {\\r\\n    \"message\": \"Unknown error. Check console for more details.\"\\r\\n  },\\r\\n  \"err_storage\" : {\\r\\n    \"message\": \"Unable to access storage\"\\r\\n  },\\r\\n  \"err_epub_corrupt\" : {\\r\\n    \"message\": \"Invalid or corrupted EPUB package\"\\r\\n  },\\r\\n  \"err_ajax\": {\\r\\n    \"message\": \"Error in ajax request\"\\r\\n  },\\r\\n  \"err_dlg_title\" : {\\r\\n    \"message\": \"Unexpected Error\"\\r\\n  },\\r\\n  \"replace\" : {\\r\\n    \"message\": \"Replace\"\\r\\n  },\\r\\n  \"gethelp\" : {\\r\\n    \"message\" : \"If you encounter any problems, have questions, or would like to say hello, visit <a href=\\\\\"http://idpf.org/forums/readium\\\\\">our forum</a>\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Readium Library\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Readium Options:\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"Save changes\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"Close\"\\r\\n  },\\r\\n  \"i18n_keyboard_shortcuts\" : {\\r\\n    \"message\" : \"Keyboard shortcuts\"\\r\\n  },\\r\\n  \"i18n_keyboard_reload\" : {\\r\\n    \"message\" : \"Please reload the page for keyboard shortcuts to take effect.\"\\r\\n  },\\r\\n  \"i18n_reset_key\" : {\\r\\n    \"message\" : \"Reset key\"\\r\\n  },\\r\\n  \"i18n_reset_key_all\" : {\\r\\n    \"message\" : \"Reset all keyboard shortcuts\"\\r\\n  },\\r\\n  \"i18n_duplicate_keyboard_shortcut\" : {\\r\\n    \"message\" : \"DUPLICATE\"\\r\\n  },\\r\\n  \"i18n_invalid_keyboard_shortcut\" : {\\r\\n    \"message\" : \"INVALID\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"Paginate all reflowable ePUB content\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Automatically open *.epub urls in readium\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"Show warning messages when unpacking EPUB files\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"Details\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"Read\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"Delete\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \"Author: \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \"Publisher: \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \"Source: \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \"Pub Date: \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \"Modified Date: \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"EPUB version: \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \"Created at: \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \"Format: \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \"Added: \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"Unknown\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"Sorry, the current EPUB does not contain a media overlay for this content\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"Add items to your library here!\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"extracting: \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \"Are you sure you want to permanently delete \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Add Book To Readium Library:\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"Add to Library\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"Cancel\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \"From the web:\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \"From Local File:\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \"Enter a URL to a .epub file\"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \"Unpacked Directory:\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \"Validate:\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"Confirm that this book complies with ePUB standards\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"Single Pages\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"Double Pages\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"Save Settings\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"FONT SIZE\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"MARGINS\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"TEXT AND BACKGROUND COLOR\"\\r\\n  },\\r\\n  \"i18n_author_theme\" : {\\r\\n    \"message\" : \"Default (author styles)\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"Black and White\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"Arabian Nights\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"Sands of Dune\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"Ballard Blues\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"Vancouver Mist\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"DISPLAY FORMAT\"\\r\\n  },\\r\\n  \"i18n_spread_auto\" : {\\r\\n     \"message\" : \"Auto\"\\r\\n  },\\r\\n  \"i18n_scroll_mode\" : {\\r\\n    \"message\" : \"SCROLL MODE\"\\r\\n  },\\r\\n  \"i18n_scroll_mode_auto\" : {\\r\\n    \"message\" : \"Auto\"\\r\\n  },\\r\\n  \"i18n_scroll_mode_doc\" : {\\r\\n    \"message\" : \"Document\"\\r\\n  },\\r\\n  \"i18n_scroll_mode_continuous\" : {\\r\\n    \"message\" : \"Continuous\"\\r\\n  },\\r\\n  \\r\\n  \"i18n_page_transition\" : {\\r\\n    \"message\" : \"PAGE EFFECTS\"\\r\\n  },\\r\\n  \"i18n_page_transition_none\" : {\\r\\n    \"message\" : \"Disabled\"\\r\\n  },\\r\\n  \"i18n_page_transition_fade\" : {\\r\\n    \"message\" : \"Fade\"\\r\\n  },\\r\\n  \"i18n_page_transition_slide\" : {\\r\\n    \"message\" : \"Slide\"\\r\\n  },\\r\\n  \"i18n_page_transition_swoosh\" : {\\r\\n    \"message\" : \"Swoosh\"\\r\\n  },\\r\\n  \"i18n_page_transition_butterfly\" : {\\r\\n    \"message\" : \"Butterfly\"\\r\\n  },\\r\\n  \\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium for Chrome is the Chrome browser extension configuration of ReadiumJS, an open source reading system and JavaScript library for displaying EPUB publications in web browsers. ReadiumJS is a project of the Readium Foundation (Readium.org). To learn more or to contribute, visit the <a href=\\\\\"http://readium.org/projects/readiumjs\\\\\">project homepage</a>\"\\r\\n  },\\r\\n  \"i18n_toolbar\" : {\\r\\n    \"message\" : \"Toolbar\"\\r\\n  },\\r\\n  \"i18n_toolbar_show\" : {\\r\\n    \"message\" : \"Show toolbar\"\\r\\n  },\\r\\n  \"i18n_toolbar_hide\" : {\\r\\n    \"message\" : \"Hide toolbar\"\\r\\n  },\\r\\n  \"i18n_audio_play\" : {\\r\\n    \"message\" : \"Play\"\\r\\n  },\\r\\n  \"i18n_audio_pause\" : {\\r\\n    \"message\" : \"Pause\"\\r\\n  },\\r\\n  \"i18n_audio_play_background\" : {\\r\\n    \"message\" : \"Play background track\"\\r\\n  },\\r\\n  \"i18n_audio_pause_background\" : {\\r\\n    \"message\" : \"Pause background track\"\\r\\n  },\\r\\n  \"i18n_audio_previous\" : {\\r\\n    \"message\" : \"Previous audio phrase\"\\r\\n  },\\r\\n  \"i18n_audio_next\" : {\\r\\n    \"message\" : \"Next audio phrase\"\\r\\n  },\\r\\n  \"i18n_audio_volume\" : {\\r\\n    \"message\" : \"Audio volume\"\\r\\n  },\\r\\n  \"i18n_audio_volume_increase\" : {\\r\\n    \"message\" : \"Increase audio volume\"\\r\\n  },\\r\\n  \"i18n_audio_volume_decrease\" : {\\r\\n    \"message\" : \"Decrease audio volume\"\\r\\n  },\\r\\n  \"i18n_audio_time\" : {\\r\\n    \"message\" : \"Audio time cursor\"\\r\\n  },\\r\\n  \"i18n_audio_mute\" : {\\r\\n    \"message\" : \"Mute audio\"\\r\\n  },\\r\\n  \"i18n_audio_unmute\" : {\\r\\n    \"message\" : \"Unmute audio\"\\r\\n  },\\r\\n  \"i18n_audio_expand\" : {\\r\\n    \"message\" : \"Show advanced audio controls\"\\r\\n  },\\r\\n  \"i18n_audio_collapse\" : {\\r\\n    \"message\" : \"Close advanced audio controls\"\\r\\n  },\\r\\n  \"i18n_audio_esc\" : {\\r\\n    \"message\" : \"Escape current audio context\"\\r\\n  },\\r\\n  \"i18n_audio_rate\" : {\\r\\n    \"message\" : \"Audio playback rate\"\\r\\n  },\\r\\n  \"i18n_audio_rate_increase\" : {\\r\\n    \"message\" : \"Increase audio playback rate\"\\r\\n  },\\r\\n  \"i18n_audio_rate_decrease\" : {\\r\\n    \"message\" : \"Decrease audio playback rate\"\\r\\n  },\\r\\n  \"i18n_audio_rate_reset\" : {\\r\\n    \"message\" : \"Reset audio playback to normal speed\"\\r\\n  },\\r\\n  \"i18n_audio_skip_disable\" : {\\r\\n    \"message\" : \"Disable skippability\"\\r\\n  },\\r\\n  \"i18n_audio_skip_enable\" : {\\r\\n    \"message\" : \"Enable skippability\"\\r\\n  },\\r\\n\\r\\n  \"i18n_auto_page_turn_enable\" : {\\r\\n    \"message\" : \"Enable automatic page turn\"\\r\\n  },\\r\\n  \"i18n_auto_page_turn_disable\" : {\\r\\n    \"message\" : \"Disable automatic page turn\"\\r\\n  },\\r\\n\\r\\n  \"i18n_playback_scroll_enable\" : {\\r\\n    \"message\" : \"Enable scroll during playback\"\\r\\n  },\\r\\n  \"i18n_playback_scroll_disable\" : {\\r\\n    \"message\" : \"Disable scroll during playback\"\\r\\n  },\\r\\n  \\r\\n  \"i18n_audio_touch_enable\" : {\\r\\n    \"message\" : \"Enable touch-to-play\"\\r\\n  },\\r\\n  \"i18n_audio_touch_disable\" : {\\r\\n    \"message\" : \"Disable touch-to-play\"\\r\\n  },\\r\\n  \"i18n_audio_highlight_default\" : {\\r\\n    \"message\" : \"default\"\\r\\n  },\\r\\n  \"i18n_audio_highlight\" : {\\r\\n    \"message\" : \"Audio color\"\\r\\n  },\\r\\n  \"i18n_audio_sync\" : {\\r\\n    \"message\" : \"Text/audio synchronization granularity\"\\r\\n  },\\r\\n  \"i18n_audio_sync_default\" : {\\r\\n    \"message\" : \"Default\"\\r\\n  },\\r\\n  \"i18n_audio_sync_word\" : {\\r\\n    \"message\" : \"Word\"\\r\\n  },\\r\\n  \"i18n_audio_sync_sentence\" : {\\r\\n    \"message\" : \"Sentence\"\\r\\n  },\\r\\n  \"i18n_audio_sync_paragraph\" : {\\r\\n    \"message\" : \"Paragraph\"\\r\\n  },\\r\\n  \"i18n_page_previous\" : {\\r\\n    \"message\" : \"Previous Page\"\\r\\n  },\\r\\n  \"i18n_page_next\" : {\\r\\n    \"message\" : \"Next Page\"\\r\\n  },\\r\\n  \"i18n_page_navigation\" : {\\r\\n    \"message\" : \"Page Navigation\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,ja,sr,de,zh_CN\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/fr/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"Un lecteur de livres numriques EPUB3.\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Bibliothque Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Chargement de la bibliothque\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Options de Readium :\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"Enregistrer les changements\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"Fermer\"\\r\\n  },\\r\\n  \"i18n_keyboard_shortcuts\" : {\\r\\n    \"message\" : \"Raccourcis clavier\"\\r\\n  },\\r\\n  \"i18n_keyboard_reload\" : {\\r\\n    \"message\" : \"Veuillez recharger la page pour que les raccourcis clavier prennent effet.\"\\r\\n  },\\r\\n  \"i18n_reset_key\" : {\\r\\n    \"message\" : \"Rinitialiser le raccourci clavier par dfaut\"\\r\\n  },\\r\\n  \"i18n_reset_key_all\" : {\\r\\n    \"message\" : \"Rinitialiser tous les raccourcis clavier par dfaut\"\\r\\n  },\\r\\n  \"i18n_duplicate_keyboard_shortcut\" : {\\r\\n    \"message\" : \"DUPLIQUE\"\\r\\n  },\\r\\n  \"i18n_invalid_keyboard_shortcut\" : {\\r\\n    \"message\" : \"INVALIDE\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"Paginer tout le contenu des EPUB recomposables\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Ouvrir automatiquement les urls *.epub dans Readium\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"Montrer les messages d\\'avertissement pendant la dcompression des fichiers EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"Dtails\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"Lire\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"Supprimer\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \"Auteur : \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \"diteur : \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \"Source : \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \"Date de publication :  \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \"Date de modification : \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"version de l\\'EPUB : \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \"Ajout le : \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \"Format : \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \"Ajout le : \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"Inconnu\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"Dsol, l\\'EPUB actuel ne contient pas de mdia associ (media overlay) pour ce contenu\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"Ajoutez des articles  votre bibliothque ici !\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"extraction : \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \"Voulez-vous vraiment supprimer \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Ajoutez un livre  la bibliothque de Readium :\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"Ajouter un livre\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"Annuler\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \" partir du Web :\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \" partir d\\'un fichier local :\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \"Entrez l\\'URL d\\'un fichier .epub\"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \"Rpertoire non-compress :\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \"Valider :\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"Confirmer que ce livre est conforme aux standards EPUB\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"Pages simples\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"Doubles-pages\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"Enregistrer\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"TAILLE DE LA POLICE\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"MARGES\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"COULEUR DU TEXTE ET DU FOND\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"Noir et Blanc\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"Mille et une Nuits\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"Sables de Dune\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"Le Blues de Ballard\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"Le Brouillard de Vancouver\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"FORMAT D\\'AFFICHAGE\"\\r\\n  },\\r\\n  \"i18n_scroll_mode\" : {\\r\\n    \"message\" : \"MODE DE DFILEMENT\"\\r\\n  },\\r\\n  \"i18n_scroll_mode_auto\" : {\\r\\n    \"message\" : \"Auto\"\\r\\n  },\\r\\n  \"i18n_scroll_mode_doc\" : {\\r\\n    \"message\" : \"Document\"\\r\\n  },\\r\\n  \"i18n_scroll_mode_continuous\" : {\\r\\n    \"message\" : \"Continu\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium pour Chrome est l\\'extension du navigateur Chrome de ReadiumJS, un systme de lecture open-source et une librairie JavaScript pour afficher des documents EPUB dans les navigateurs web. ReadiumJS est un projet de la fondation Readium (Readium.org). Pour en savoir plus ou pour contribuer, visiter la <a href=\\\\\"http://readium.org/projects/readiumjs\\\\\">page d\\'accueil du projet</a>.\"\\r\\n  },\\r\\n  \"i18n_audio_play\" : {\\r\\n    \"message\" : \"Jouer\"\\r\\n  },\\r\\n  \"i18n_audio_pause\" : {\\r\\n    \"message\" : \"Pauser\"\\r\\n  },\\r\\n  \"i18n_audio_previous\" : {\\r\\n    \"message\" : \"Phrase audio prcdente\"\\r\\n  },\\r\\n  \"i18n_audio_next\" : {\\r\\n    \"message\" : \"Phrase audio suivante\"\\r\\n  },\\r\\n  \"i18n_audio_volume\" : {\\r\\n    \"message\" : \"Ajustement du volume audio\"\\r\\n  },\\r\\n  \"i18n_audio_time\" : {\\r\\n    \"message\" : \"Contrle du curseur temporel audio\"\\r\\n  },\\r\\n  \"i18n_audio_mute\" : {\\r\\n    \"message\" : \"Silence audio\"\\r\\n  },\\r\\n  \"i18n_audio_unmute\" : {\\r\\n    \"message\" : \"Restaurer le volume audio\"\\r\\n  },\\r\\n  \"i18n_audio_expand\" : {\\r\\n    \"message\" : \"Afficher les contrles audio avancs\"\\r\\n  },\\r\\n  \"i18n_audio_collapse\" : {\\r\\n    \"message\" : \"Fermer les contrles audio avancs\"\\r\\n  },\\r\\n  \"i18n_audio_esc\" : {\\r\\n    \"message\" : \"chapper le contexte audio actuel\"\\r\\n  },\\r\\n  \"i18n_audio_rate\" : {\\r\\n    \"message\" : \"Vitesse de lecture audio\"\\r\\n  },\\r\\n  \"i18n_audio_rate_reset\" : {\\r\\n    \"message\" : \"Retour  la vitesse normale de lecture audio\"\\r\\n  },\\r\\n  \"i18n_audio_skip_disable\" : {\\r\\n    \"message\" : \"Dsactiver la \\'skippabilit\\'\"\\r\\n  },\\r\\n  \"i18n_audio_skip_enable\" : {\\r\\n    \"message\" : \"Activer la \\'skippabilit\\'\"\\r\\n  },\\r\\n  \"i18n_audio_touch_enable\" : {\\r\\n    \"message\" : \"Activer la fonction \\'toucher pour jouer\\'\"\\r\\n  },\\r\\n  \"i18n_audio_touch_disable\" : {\\r\\n    \"message\" : \"Dsactiver la fonction \\'toucher pour jouer\\'\"\\r\\n  },\\r\\n  \"i18n_audio_highlight_default\" : {\\r\\n    \"message\" : \"dfaut\"\\r\\n  },\\r\\n  \"i18n_audio_highlight\" : {\\r\\n    \"message\" : \"Couleur audio\"\\r\\n  },\\r\\n  \"i18n_audio_sync\" : {\\r\\n    \"message\" : \"Granularit de synchronisation texte / audio\"\\r\\n  },\\r\\n  \"i18n_audio_sync_default\" : {\\r\\n    \"message\" : \"Dfaut\"\\r\\n  },\\r\\n  \"i18n_audio_sync_word\" : {\\r\\n    \"message\" : \"Mot\"\\r\\n  },\\r\\n  \"i18n_audio_sync_sentence\" : {\\r\\n    \"message\" : \"Phrase\"\\r\\n  },\\r\\n  \"i18n_audio_sync_paragraph\" : {\\r\\n    \"message\" : \"Paragraphe\"\\r\\n  },\\r\\n  \"i18n_page_previous\" : {\\r\\n    \"message\" : \"Page prcdente\"\\r\\n  },\\r\\n  \"i18n_page_next\" : {\\r\\n    \"message\" : \"Page suivante\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,fr,ja,de\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/id/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"reader untuk buku-buku EPUB3 .\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Perpustakaan Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Pilihan Readium :\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"Simpan perubahan\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"Tutup\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"Paginate all reflowable ePUB content\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Secara otomatis buka *.epub urls di readium\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"Tampilkan pesan peringatan ketika unpacking file EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"Detail\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"Baca\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"Hapus\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \"Penulis: \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \"Penerbit: \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \"Sumber: \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \"Tgl Terbit: \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \"Tgl Modifikasi: \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"Versi EPUB: \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \"Dibuat di: \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \"Format: \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \"Menambahkan: \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"Tidak dikenal\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"Maaf, EPUB saat ini tidak berisi overlay media untuk konten ini \"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"Masukkan item r Library disini!\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"extracting: \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \"Apakah and yakin ingin menghapus secara permanen \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Masukkan Buku ke Readium Library:\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"Add Book\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"Batal\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \"Dari Web:\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \"Dari File local:\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \"Masukkan  URL ke file .epub \"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \"Unpacked Directory:\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \"Validasi:\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"Konfirmasikan bahwa buku ini sesuai dengan standar EPUB\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"Single Pages\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"Double Pages\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"Save Settings\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"FONT SIZE\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"MARGINS\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"TEKS DAN WARNA LATAR\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"Black and White\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"Arabian Nights\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"Sands of Dune\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"Ballard Blues\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"Vancouver Mist\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"DISPLAY FORMAT\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup>, a project of the International Digital Publishing Forum (IDPF) and supporters, adalah sistem referensi open source DAN rendering engine untuk EPUB&reg; publikasi.  Untuk mengetahui lebih lanjut, kunjungi <a href=\\\\\"http://readium.org/\\\\\">project homepage</a>. Sampai saat ini, pengembangan project telah dipimpin oleh  <a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a> and <a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a>. Untuk kontribusi, kunjungi <a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">github repository</a>\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,ja,sr,de,zh_CN\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/it/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"Un visualizzatore di documenti EPUB3\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Biblioteca di Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Caricamento biblioteca\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Opzioni di Readium\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"Applica\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"Chiudi\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"Impagina anche i file EPUB reflowable\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Apri in Readium gli URL che terminano in .epub\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"Mostra errori e avvisi relativi ai file EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"Dettagli\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"Leggi\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"Elimina\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \"Autore: \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \"Editore: \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \"Origine: \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \"Data pubblicazione: \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \"Data ultima modifica: \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"Versione EPUB: \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \"Data importazione: \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \"Formato: \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \"Aggiunto: \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"Sconosciuto\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"Spiacente, non ci sono risorse Media Overlays associate a questo elemento.\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"Aggiungi libri alla tua biblioteca!\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"Decomprimendo: \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \"Sei sicuro di voler cancellare definitivamente \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Aggiungi libro alla Biblioteca di Readium\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"Aggiungi libro\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"Annulla\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \"Scarica dal Web:\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \"Importa file EPUB dal tuo computer:\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \"Indirizzo Web del file EPUB che vuoi aggiungere:\"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \"Importa directory decompressa:\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \"Convalida:\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"Controlla che i file siano conformi allo standard EPUB prima di aprirli\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"Singole\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"Affiancate\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"Applica\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"DIMENSIONE CARATTERE\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"MARGINI\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"COMBINAZIONE COLORE TESTO/SFONDO\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"Bianco su nero\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"Notturno\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"Deserto\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"Mediterraneo\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"Nebbia\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"VISUALIZZAZIONE PAGINE\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup>, progetto dell\\'International Digital Publishing Forum (IDPF) e dei suoi sostenitori,  una piattaforma open source di lettura e un motore di rendering per documenti in formato EPUB&reg;. Per saperne di pi, visita la <a href=\\\\\"http://readium.org/\\\\\">pagina principale del progetto</a>. Lo sviluppo del progetto  stato guidato da <a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a> e <a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a>. Per contribuire, visita il <a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">repository github</a>.\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accetta le seguenti lingue: $languages$\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,it,ja,sr,de,zh_CN\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/ja/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"EPUB3\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Readium:\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"URL*.epubReadium\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"EPUB: \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"!\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Readium:\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \"Web:\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \".epubURL\"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup>, International Digital Publishing Forum (IDPF) , EPUB&reg; <a href=\\\\\"http://readium.org/\\\\\"></a><a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a><a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a> <a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">github</a>\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,ja,sr,de\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/ko/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"EPUB3 .\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Readium \"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Readium :\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"   \"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"*.epub url radium  \"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"EPUB    \"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"EPUB : \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \" EPUB        .\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"    !\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"  : \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \"  ? \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Readium   :\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \" :\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \".epub  URL \"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \" :\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"  ePUB  \"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"  \"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"  \"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup> EPUB&reg;   (IDPF, International Digital Publishing Forum)        .   <a href=\\\\\"http://readium.org/\\\\\"> </a> . ,   <a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a> <a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a>   .    <a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">github </a>  .\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,ja,sr,de,zh_CN\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/pt_BR/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\" : {\\r\\n    \"message\": \"Um leitor para livros para EPUB3.\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Biblioteca Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n   \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Opes do Readium:\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"Salvar mudanas\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"Fechar\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"Paginar todo o contedo ePUB fludo\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Abrir automaticamente urls *.epub no readium\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"Exibir mensagem de alerta quando extraindo arquivos EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"Detalhes\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"Ler\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"Excluir\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \"Autor: \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \"Editora: \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \"Origem: \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \"Publicao: \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \"Data de Modificao: \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"Verso do EPUB: \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \"Criado aos: \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \"Formato: \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \"Adicionado: \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"Desconhecido\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"Desculpe, o atual EPUB no contm uma mdia de sobreposio para este contedo\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"Adicione itens para sua biblioteca aqui!\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"extraindo: \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \"Voc tem certeza de que deseja excluir permanentemente \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Adicionar Livro  Biblioteca Readium:\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"Adicionar Livro\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"Cancelar\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \"Da Rede:\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \"De Arquivo Local:\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \"Insira uma URL para um arquivo .epub\"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \"Diretrio Extraido:\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \"Validar:\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"Confirmar que este livro obedece aos padres ePUB\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"Pg. Simples\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"Pg. Duplas\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"Salvar Configuraes\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"TAMANHO DA FONTE\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"MARGENS\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"COR DO TEXTO E PLANO DE FUNDO\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"Preto e Branco\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"Noites rabes\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"Areias de Duna\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"Ballard Blues\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"Nvoa de Vancouver\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"FORMATO DE EXIBIO\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup>, a project of the International Digital Publishing Forum (IDPF) and supporters, is an open source reference system and rendering engine for EPUB&reg; publications.  To learn more, visit the <a href=\\\\\"http://readium.org/\\\\\">project homepage</a>. To date, the project development has been lead by <a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a> and <a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a>. To contribute visit the <a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">github repository</a>\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,pt-BR,ja,sr,de,zh_CN\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/zh_CN/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"EPUB3\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Readium:\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Readium*.epub\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID: \"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"EPUB: \"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \": \"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Readium:\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \".EPUBURL\"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \":\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"Black and White\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"Arabian Nights\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"Sands of Dune\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"Ballard Blues\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"Vancouver Mist\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup>International Digital Publishing Forum (IDPF)EPUB<a href=\\\\\"http://readium.org/\\\\\"></a><a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a><a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a><a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">GitHub</a>\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,ja,sr,de,zh_CN\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "\ndefine('text!i18n/_locales/zh_TW/messages.json',[],function () { return '{\\r\\n  \"chrome_extension_name\": {\\r\\n    \"message\": \"Readium\"\\r\\n  },\\r\\n  \"chrome_extension_description\": {\\r\\n    \"message\": \"EPUB3\"\\r\\n  },\\r\\n  \"i18n_readium_library\" : {\\r\\n    \"message\" : \"Readium\"\\r\\n  },\\r\\n  \"i18n_loading\" : {\\r\\n    \"message\" : \"Loading Library\"\\r\\n  },\\r\\n  \"i18n_readium_options\" : {\\r\\n    \"message\" : \"Readium:\"\\r\\n  },\\r\\n  \"i18n_save_changes\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_close\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_paginate_all\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_automatically\" : {\\r\\n    \"message\" : \"Readium.epub\"\\r\\n  },\\r\\n  \"i18n_show_warning\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_details\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_read\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_delete\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_author\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_publisher\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_source\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_pub_date\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_modified_date\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_id\" : {\\r\\n    \"message\" : \"ID\"\\r\\n  },\\r\\n  \"i18n_epub_version\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_created_at\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_format\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_added\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_unknown\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_sorry\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_add_items\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_extracting\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_are_you_sure\" : {\\r\\n    \"message\" : \" \"\\r\\n  },\\r\\n  \"i18n_add_book_to_readium_library\" : {\\r\\n    \"message\" : \"Readium\"\\r\\n  },\\r\\n  \"i18n_add_book\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_cancel\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_from_the_web\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_from_local_file\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_enter_a_url\" : {\\r\\n    \"message\" : \" .epub \"\\r\\n  },\\r\\n  \"i18n_unpacked_directory\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_validate\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_confirm_that_this_book\" : {\\r\\n    \"message\" : \"EPUB\"\\r\\n  },\\r\\n  \"i18n_single_pages\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_double_pages\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_save_settings\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_font_size\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_margins\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_text_and_background_color\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_black_and_white\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_arabian_nights\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_sands_of_dune\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_ballard_blues\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_vancouver_mist\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_display_format\" : {\\r\\n    \"message\" : \"\"\\r\\n  },\\r\\n  \"i18n_html_readium_tm_a_project\" : {\\r\\n    \"message\" : \"Readium<sup>TM</sup>International Digital Publishing Forum (IDPF)EPUB&reg; <a href=\\\\\"http://readium.org/\\\\\"></a><a href=\\\\\"http://evidentpoint.com/\\\\\">Evident Point</a><a href=\\\\\"http://www.bluefirereader.com/\\\\\">Bluefire Productions</a><a href=\\\\\"https://github.com/readium/readium-js-viewer\\\\\">GitHub</a>\"\\r\\n  },\\r\\n  \"chrome_accept_languages\": {\\r\\n    \"message\": \"$CHROME$ accepts $languages$ languages\",\\r\\n    \"placeholders\": {\\r\\n      \"chrome\": {\\r\\n        \"content\": \"Chrome\",\\r\\n        \"example\": \"Chrome\"\\r\\n      },\\r\\n      \"languages\": {\\r\\n        \"content\": \"$1\",\\r\\n        \"example\": \"en-US,zh-TW,zh-HK,ja,sr,de\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n';});\n\n",
    "//  Copyright (c) 2014 Readium Foundation and/or its licensees. All rights reserved.\r\n//  \r\n//  Redistribution and use in source and binary forms, with or without modification, \r\n//  are permitted provided that the following conditions are met:\r\n//  1. Redistributions of source code must retain the above copyright notice, this \r\n//  list of conditions and the following disclaimer.\r\n//  2. Redistributions in binary form must reproduce the above copyright notice, \r\n//  this list of conditions and the following disclaimer in the documentation and/or \r\n//  other materials provided with the distribution.\r\n//  3. Neither the name of the organization nor the names of its contributors may be \r\n//  used to endorse or promote products derived from this software without specific \r\n//  prior written permission.\r\n\r\ndefine('i18n/Strings',['text!i18n/_locales/de/messages.json',\r\n        'text!i18n/_locales/es/messages.json',\r\n\t\t'text!i18n/_locales/en_US/messages.json', \r\n\t\t'text!i18n/_locales/fr/messages.json', \r\n\t\t'text!i18n/_locales/id/messages.json', \r\n\t\t'text!i18n/_locales/it/messages.json', \r\n\t\t'text!i18n/_locales/ja/messages.json',\r\n\t\t'text!i18n/_locales/ko/messages.json',\r\n\t\t'text!i18n/_locales/pt_BR/messages.json',\r\n\t\t'text!i18n/_locales/zh_CN/messages.json',\r\n\t\t'text!i18n/_locales/zh_TW/messages.json'], \r\nfunction(de, es, en_US, fr, id, it, ja, ko, pt_BR, zh_CN, zh_TW){\r\n\tvar Strings = {};\r\n\r\n\tStrings['de'] = de;\r\n\tStrings['es'] = es;\r\n\tStrings['en_US'] = en_US;\r\n\tStrings['fr'] = fr;\r\n\tStrings['id'] = id;\r\n\tStrings['it'] = it;\r\n\tStrings['ja'] = ja;\r\n\tStrings['ko'] = ko;\r\n\tStrings['pt_BR'] = pt_BR;\r\n\tStrings['zh_CN'] = zh_CN;\r\n\tStrings['zh_TW'] = zh_TW;\r\n\r\n\tvar language = navigator.userLanguage || navigator.language;\r\n//FORCE HERE (for testing)\r\n//language=\"es\";\r\n    console.log(\"Language: [\" + language + \"]\");\r\n    \r\n    var allowEnglishFallback = true;\r\n    \r\n\tvar i18nStr = Strings[language] || en_US;\r\n\r\n\tvar i18nObj = JSON.parse(i18nStr);\r\n    var i18nObj_en = i18nStr === en_US ? i18nObj : JSON.parse(en_US);\r\n\r\n\tfor(var prop in i18nObj_en){\r\n        var okay = prop in i18nObj;\r\n        if (!okay) console.log(\"Language [\" + language + \"], missing string: [\" + prop + \"]\");\r\n        \r\n\t\ti18nObj[prop] = okay ? i18nObj[prop].message : (allowEnglishFallback ? (\"*\"+i18nObj_en[prop].message) : \"\");\r\n\t}\r\n\treturn i18nObj;\r\n\r\n});\n",
    "/*!\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n\nif (typeof define === 'function' && define.amd) {\n  define('hogan',Hogan);\n}\n;\n",
    "/**@license\n * RequireJS Hogan Plugin | v0.3.0 (2013/06/11)\n * Author: Miller Medeiros | MIT License\n */\ndefine('hgn',['hogan', 'text'], function (hogan, text) {\n\n    var DEFAULT_EXTENSION = '.mustache';\n\n    var _buildMap = {};\n    var _buildTemplateText = 'define(\"{{pluginName}}!{{moduleName}}\", [\"hogan\"], function(hogan){'+\n                             '  var tmpl = new hogan.Template({{{fn}}}, \"\", hogan);'+\n                             // need to use apply to bind the proper scope.\n                             '  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;'+\n                             '});\\n';\n    var _buildTemplate;\n\n\n    function load(name, req, onLoad, config){\n        var hgnConfig = config.hgn || {};\n        var fileName = name;\n        fileName += hgnConfig && hgnConfig.templateExtension != null? hgnConfig.templateExtension : DEFAULT_EXTENSION;\n\n        // load text files with text plugin\n        text.get(req.toUrl(fileName), function(data){\n            var compilationOptions = hgnConfig.compilationOptions? mixIn({}, hgnConfig.compilationOptions) : {};\n\n            if (config.isBuild) {\n                // store compiled function if build\n                // and should always be a string\n                compilationOptions.asString = true;\n                _buildMap[name] = hogan.compile(data, compilationOptions);\n            }\n\n            // maybe it's required by some other plugin during build\n            // so return the compiled template even during build\n            var template = hogan.compile(data, compilationOptions);\n            var render = bind(template.render, template);\n            // add text property for debugging if needed.\n            // it's important to notice that this value won't be available\n            // after build.\n            render.text = template.text;\n            render.template = template;\n            // return just the render method so it's easier to use\n            onLoad( render );\n        });\n    }\n\n    function bind(fn, context) {\n        return function(){\n            return fn.apply(context, arguments);\n        };\n    }\n\n    function mixIn(target, source) {\n        var key;\n        for (key in source){\n            if ( Object.prototype.hasOwnProperty.call(source, key) ) {\n                target[key] = source[key];\n            }\n        }\n        return target;\n    }\n\n    function write(pluginName, moduleName, writeModule){\n        if(moduleName in _buildMap){\n            if (! _buildTemplate) {\n                // using templates to generate compiled templates, so meta :P\n                _buildTemplate = hogan.compile( _buildTemplateText );\n            }\n            var fn = _buildMap[moduleName];\n            writeModule( _buildTemplate.render({\n                pluginName : pluginName,\n                moduleName : moduleName,\n                fn : fn\n            }) );\n        }\n    }\n\n    return {\n        load : load,\n        write : write\n    };\n\n});\n\n",
    "\ndefine(\"hgn!templates/managed-dialog.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"modal fade\\\" id=\\\"managed-dialog\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"managed-label\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"modal-dialog\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <div class=\\\"modal-content\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <div class=\\\"modal-header\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"close\\\" title=\\\"close\\\"><span aria-hidden=\\\"true\\\">&times;<span></button>\\r\");t.b(\"\\n\" + i);t.b(\"                <h4 class=\\\"modal-title\\\" id=\\\"managed-label\\\"></h4>\\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"            <div class=\\\"modal-body\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"            <div class=\\\"modal-footer\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"        </div>\\r\");t.b(\"\\n\" + i);t.b(\"        <!-- /.modal-content --> \\r\");t.b(\"\\n\" + i);t.b(\"    </div><!-- /.modal-dialog -->\\r\");t.b(\"\\n\" + i);t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"<!-- /.modal -->\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "\ndefine(\"hgn!templates/progress-dialog.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"progress progress-striped active\\\">\\r\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"progress-bar\\\"  role=\\\"progressbar\\\" aria-valuenow=\\\"1\\\" aria-valuemin=\\\"1\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 1%\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    <!-- <span class=\\\"progress-message sr-only\\\">\");t.b(t.v(t.f(\"message\",c,p,0)));t.b(\"</span> -->\\r\");t.b(\"\\n\" + i);t.b(\"  </div>\\r\");t.b(\"\\n\" + i);t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"progress-message\\\">\");t.b(t.v(t.f(\"message\",c,p,0)));t.b(\"</div>\\r\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "\ndefine(\"hgn!templates/managed-buttons.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");if(t.s(t.f(\"buttons\",c,p,1),c,p,0,12,157,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"<button type=\\\"button\\\" class=\\\"btn btn-default \");if(t.s(t.f(\"classes\",c,p,1),c,p,0,71,77,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(t.v(t.d(\".\",c,p,0)));t.b(\" \");});c.pop();}t.b(\"\\\" \");if(t.s(t.f(\"dismiss\",c,p,1),c,p,0,103,125,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" data-dismiss=\\\"modal\\\" \");});c.pop();}t.b(\">\");t.b(t.v(t.f(\"text\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);});c.pop();}return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "define('workers/Messages',[],function(){\r\n\treturn {\r\n\t\t// window -> worker messages\r\n\t\tIMPORT_ZIP : 0,\r\n\t\tOVERWRITE_CONTINUE : 1,\r\n\t\tFIND_PACKAGE_RESPONSE: 2,\r\n\t\tPARSE_PACKAGE_RESPONSE: 3,\r\n\t\tDELETE_EPUB : 4,\r\n\t\tIMPORT_DIR : 5,\r\n\t\tIMPORT_URL: 6,\r\n\t\tMIGRATE: 7,\r\n\t\tOVERWRITE_SIDE_BY_SIDE: 8,\r\n\t\tCONTINUE_IMPORT_ZIP: 9,\r\n\r\n\t\t// worker -> window messages\r\n\t\tSUCCESS : 100,\r\n\t\tPROGRESS : 101,\r\n\t\tERROR : 102,\r\n\t\tOVERWRITE : 103,\r\n\t\tFIND_PACKAGE : 104,\r\n\t\tPARSE_PACKAGE: 105,\r\n\r\n\r\n\t\tPROGRESS_EXTRACTING : 200,\r\n\t\tPROGRESS_WRITING: 201,\r\n\t\tPROGRESS_DELETING: 202,\r\n\t\tPROGRESS_MIGRATING: 203,\r\n\r\n\t\tERROR_STORAGE : 300,\r\n\t\tERROR_EPUB : 301,\r\n\t\tERROR_AJAX : 302,\r\n\r\n\t}\r\n});\n",
    "define('Dialogs',['hgn!templates/managed-dialog.html', 'hgn!templates/progress-dialog.html', 'hgn!templates/managed-buttons.html', 'i18n/Strings', 'workers/Messages'], function(ManagedDialog, ProgressDialog, ButtonTemplate, Strings, Messages){\r\n\tvar $currentModal,\r\n\t\tlastTitle;\r\n\t\r\n\r\n\tvar hideExistingModal = function(){\r\n\t\tif($currentModal){\r\n\t\t\t$currentModal.modal('hide');\r\n\t\t}\r\n\t};\r\n\r\n\tvar showModalDialog = function(dismissable, title, body, buttons){\r\n\t\tif (!$currentModal){\r\n\t\t\t$currentModal = $(ManagedDialog({}));\r\n\t\t\t$('#app-container').append($currentModal);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t$('#managed-label').text(title);\r\n\t\t$('#managed-dialog .modal-body').empty().append(body);\r\n\t\t$('#managed-dialog .modal-footer').empty().append(buttons);\r\n\t\tif (dismissable){\r\n\t\t\t$('#managed-dialog .close').show();\r\n\t\t}\r\n\t\telse{\r\n\t\t\t$('#managed-dialog .close').hide();\r\n\t\t}\r\n\r\n\t\tif ($currentModal.is(':hidden')){\t\r\n\t\t\t$('#managed-dialog').modal('show');\r\n\t\t}\r\n\t\t\r\n\t};\r\n            \r\n\tDialogs = {\t\r\n\t\tshowError : function(type, data){\r\n\t\t\tvar msg = Strings.err_unknown;\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase Messages.ERROR_STORAGE:\r\n\t\t\t\t\tmsg = Strings.err_storage;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Messages.ERROR_EPUB:\r\n\t\t\t\t\tmsg = Strings.err_epub_corrupt;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Messages.ERROR_AJAX:\r\n        \t\t\t\tmsg = Strings.err_ajax;\r\n                \t\t\tbreak;\t\t\t\t\t\t\r\n\t\t\t\tdefault: \r\n\t\t\t\t\tmsg = Strings.err_unknown;\r\n\t\t\t\t\tconsole.trace();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tDialogs.showModalMessage(Strings.err_dlg_title, msg);\r\n\t\t},\r\n\t\tshowModalMessage : function(title, message){\r\n\t\t\tvar body = $('<p></p>').text(message),\r\n\t\t\t\tbuttons = ButtonTemplate({\r\n\t\t\t\t\tbuttons : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdismiss : true,\r\n\t\t\t\t\t\t\ttext : Strings.ok\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\r\n\t\t\tshowModalDialog(true, title, body, buttons);\r\n\t\t},\r\n\t\tshowModalPromptEx : function(title, message, buttons, handlers){\r\n\r\n\t\t\tvar body = $('<p></p>').text(message);\r\n\t\t\tvar buttonsStr = ButtonTemplate({buttons: buttons});\r\n\t\t\tshowModalDialog(false, title, body, buttonsStr);\r\n\r\n\t\t\tfor (var i = 0; i < handlers.length; i++){\r\n\t\t\t\tif (handlers[i]){\r\n\t\t\t\t\t$('#managed-dialog .' + buttons[i].classes[0]).on('click', handlers[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if (onOk)\r\n\t\t\t// \t$('#managed-dialog .yes-button').on('click', onOk);\r\n\r\n\t\t\t// if (onCancel)\r\n\t\t\t// \t$('#managed-dialog .no-button').on('click', onCancel);\r\n\t\t},\r\n\t\tshowModalPrompt : function(title, message, okLabel, cancelLabel, onOk, onCancel){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar buttons = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdismiss: true,\r\n\t\t\t\t\t\ttext : cancelLabel,\r\n\t\t\t\t\t\tclasses : ['no-button']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdismiss : true,\r\n\t\t\t\t\t\ttext : okLabel,\r\n\t\t\t\t\t\tclasses : ['yes-button', 'btn-primary']\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\r\n\t\t\thandlers = [onCancel, onOk];\r\n\t\t\tDialogs.showModalPromptEx(title, message, buttons, handlers);\r\n\t\t},\r\n\t\tshowReplaceConfirm : function(title, message, okLabel, cancelLabel, keepBothLabel, onOk, onCancel, onKeepBoth){\r\n\t\t\tvar buttons = [\r\n\t\t\t\t\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdismiss: true,\r\n\t\t\t\t\t\ttext : cancelLabel,\r\n\t\t\t\t\t\tclasses : ['no-button']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdismiss : true,\r\n\t\t\t\t\t\ttext : okLabel,\r\n\t\t\t\t\t\tclasses : ['yes-button', 'btn-danger']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdismiss : true,\r\n\t\t\t\t\t\ttext : keepBothLabel,\r\n\t\t\t\t\t\tclasses : ['keep-both-button', 'btn-primary']\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t];\r\n\t\t\thandlers = [onCancel, onOk, onKeepBoth];\r\n\t\t\tDialogs.showModalPromptEx(title, message, buttons, handlers);\r\n\t\t},\r\n\t\tshowModalProgress : function(title, message){\r\n\t\t\tvar data = {\r\n\t\t\t\tmessage: message\r\n\t\t\t}\r\n\t\t\tlastTitle = title;\r\n\t\t\tshowModalDialog(false, title, ProgressDialog(data), '');\r\n\t\t},\r\n\t\tupdateProgress : function(percent, type, data, noForce){\r\n\t\t\t\r\n\t\t\tvar msg = '';\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase Messages.PROGRESS_MIGRATING : \r\n\t\t\t\t\tmsg = Strings.migrating + ' ' + data;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Messages.PROGRESS_EXTRACTING: \r\n\t\t\t\t\tmsg = Strings.i18n_extracting + ' ' + data;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Messages.PROGRESS_WRITING: \r\n\t\t\t\t\tmsg = Strings.storing_file + ' ' + data;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Messages.PROGRESS_DELETING:\r\n\t\t\t\t\tmsg = Strings.delete_progress_message + ' ' + data;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t// if (!noForce && $('#managed-dialog').is(':hidden')){\r\n\t\t\t//  \tDialogs.showModalProgress(lastTitle, msg);\r\n\t\t\t// }\r\n\t\t\t$('#managed-dialog .progress-bar').attr('aria-valuenow', percent).css('width', percent + '%');\r\n\t\t\t$('#managed-dialog .progress-message').text(msg);\r\n\t\t},\r\n\t\tcloseModal : function(){\r\n\t\t\thideExistingModal();\r\n\t\t},\r\n\t\treset : function(){\r\n\t\t\tif ($currentModal){\r\n\t\t\t\t$currentModal.remove();\r\n\t\t\t\t$currentModal = null;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn Dialogs;\r\n});\r\n\n",
    "\ndefine(\"hgn!templates/settings-dialog.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div tabindex=\\\"-1\\\" class=\\\"modal fade\\\" id=\\\"settings-dialog\\\" role=\\\"dialog\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.settings\",c,p,0)));t.b(\"\\\" aria-hidden=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"modal-dialog\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <div class=\\\"modal-content\\\">\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"           <!-- div class=\\\"modal-header\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <h4 class=\\\"modal-title\\\" id=\\\"settings-label\\\">\");t.b(t.v(t.d(\"strings.settings\",c,p,0)));t.b(\"</h4>\\r\");t.b(\"\\n\" + i);t.b(\"           </div -->\\r\");t.b(\"\\n\" + i);t.b(\"               \\r\");t.b(\"\\n\" + i);t.b(\"            <div class=\\\"modal-body\\\">\\r\");t.b(\"\\n\" + i);t.b(\"           <button type=\\\"button\\\" class=\\\"close\\\" id=\\\"closeSettingsCross\\\" data-dismiss=\\\"modal\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_close\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.settings\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_close\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.settings\",c,p,0)));t.b(\"\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"           <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\" aria-owns=\\\"tab-butt-style tab-butt-layout tab-butt-keys\\\">\\r\");t.b(\"\\n\" + i);t.b(\"             <li class=\\\"active\\\" role=\\\"presentation\\\"><button id=\\\"tab-butt-style\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.style\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.style\",c,p,0)));t.b(\"\\\" role='tab' aria-controls=\\\"tab-style\\\" data-toggle=\\\"tab\\\" data-target=\\\"#tab-style\\\">\");t.b(t.v(t.d(\"strings.style\",c,p,0)));t.b(\"</button></li>\\r\");t.b(\"\\n\" + i);t.b(\"             <li role=\\\"presentation\\\"><button id=\\\"tab-butt-layout\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.layout\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.layout\",c,p,0)));t.b(\"\\\" role='tab' aria-controls=\\\"tab-layout\\\" data-toggle=\\\"tab\\\" data-target=\\\"#tab-layout\\\">\");t.b(t.v(t.d(\"strings.layout\",c,p,0)));t.b(\"</button></li>\\r\");t.b(\"\\n\" + i);t.b(\"             <li role=\\\"presentation\\\"><button id=\\\"tab-butt-keys\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_keyboard_shortcuts\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_keyboard_shortcuts\",c,p,0)));t.b(\"\\\" role='tab' aria-controls=\\\"tab-keyboard\\\" data-toggle=\\\"tab\\\" data-target=\\\"#tab-keyboard\\\">\");t.b(t.v(t.d(\"strings.i18n_keyboard_shortcuts\",c,p,0)));t.b(\"</button></li>\\r\");t.b(\"\\n\" + i);t.b(\"           </ul>\\r\");t.b(\"\\n\" + i);t.b(\"           \\r\");t.b(\"\\n\" + i);t.b(\"           \\r\");t.b(\"\\n\" + i);t.b(\"           <div class=\\\"tab-content\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <div id=\\\"tab-style\\\" class=\\\"tab-pane active\\\" role=\\\"tabpanel\\\" aria-expanded=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                     \\r\");t.b(\"\\n\" + i);t.b(\"                <h5 aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.preview\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                <div  aria-hidden=\\\"true\\\" class=\\\"row\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                    <div data-theme=\\\"default-theme\\\" class=\\\"col-xs-10 col-xs-offset-1 preview-text default-theme\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus neque dui, congue a suscipit non, feugiat eu urna. Cras in felis sed orci aliquam sagittis. \\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"                </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"<!-- button  type=\\\"button\\\" title=\\\"TESTING\\\" aria-label=\\\"TESTING\\\">TESTING DANIEL</button -->\\r\");t.b(\"\\n\" + i);t.b(\"                \\r\");t.b(\"\\n\" + i);t.b(\"                    <h5 id=\\\"setting-header-font-size\\\" class=\\\"setting-header\\\">\");t.b(t.v(t.d(\"strings.i18n_font_size\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                    <div class=\\\"row\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        <div class=\\\"col-xs-2 icon-scale-down\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <img src=\\\"images/glyphicons_115_text_smaller.png\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        <div class=\\\"col-xs-8\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input  type=\\\"range\\\" role=\\\"slider\\\" aria-labelledby=\\\"setting-header-font-size\\\" id=\\\"font-size-input\\\" min=\\\"60\\\" aria-value-min=\\\"60\\\" aria-valuemin=\\\"60\\\" step=\\\"10\\\" max=\\\"170\\\" aria-value-max=\\\"170\\\" aria-valuemax=\\\"170\\\" value=\\\"100\\\" aria-valuenow=\\\"100\\\" aria-value-now=\\\"100\\\" aria-valuetext=\\\"1em\\\" aria-value-text=\\\"1em\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_font_size\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_font_size\",c,p,0)));t.b(\"\\\" />\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        <div class=\\\"col-xs-2\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <img src=\\\"images/glyphicons_116_text_bigger.png\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                    <h5 id=\\\"setting-header-color-legend\\\" class=\\\"setting-header\\\">\");t.b(t.v(t.d(\"strings.i18n_text_and_background_color\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                    <div role=\\\"group\\\" aria-labelledby=\\\"setting-header-color-legend\\\" id=\\\"theme-radio-group\\\" class=\\\"row\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <button role=\\\"button\\\" data-theme=\\\"author-theme\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_author_theme\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_author_theme\",c,p,0)));t.b(\"\\\" class=\\\"col-xs-8 col-xs-offset-2 theme-option author-theme clickable\\\">\");t.b(t.v(t.d(\"strings.i18n_author_theme\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <button role=\\\"button\\\" data-theme=\\\"default-theme\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_black_and_white\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_black_and_white\",c,p,0)));t.b(\"\\\" class=\\\"col-xs-8 col-xs-offset-2 theme-option default-theme clickable\\\">\");t.b(t.v(t.d(\"strings.i18n_black_and_white\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <button role=\\\"button\\\" data-theme=\\\"night-theme\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_arabian_nights\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.NightTheme\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_arabian_nights\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.NightTheme\",c,p,0)));t.b(\"]\\\" class=\\\"col-xs-8 col-xs-offset-2 theme-option night-theme clickable\\\" >\");t.b(t.v(t.d(\"strings.i18n_arabian_nights\",c,p,0)));t.b(\"</button> <!-- accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.NightTheme\",c,p,0)));t.b(\"\\\" -->\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <button role=\\\"button\\\" data-theme=\\\"parchment-theme\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_sands_of_dune\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_sands_of_dune\",c,p,0)));t.b(\"\\\" class=\\\"col-xs-8 col-xs-offset-2 theme-option parchment-theme clickable\\\">\");t.b(t.v(t.d(\"strings.i18n_sands_of_dune\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <button role=\\\"button\\\" data-theme=\\\"ballard-theme\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_ballard_blues\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_ballard_blues\",c,p,0)));t.b(\"\\\" class=\\\"col-xs-8 col-xs-offset-2 theme-option ballard-theme clickable\\\">\");t.b(t.v(t.d(\"strings.i18n_ballard_blues\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <button role=\\\"button\\\" data-theme=\\\"vancouver-theme\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_vancouver_mist\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_vancouver_mist\",c,p,0)));t.b(\"\\\" class=\\\"col-xs-8 col-xs-offset-2 theme-option vancouver-theme clickable\\\">\");t.b(t.v(t.d(\"strings.i18n_vancouver_mist\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"                </div>\\r\");t.b(\"\\n\" + i);t.b(\"                <div id=\\\"tab-layout\\\" class=\\\"tab-pane\\\" role=\\\"tabpanel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                    \\r\");t.b(\"\\n\" + i);t.b(\"                    <h5 id=\\\"setting-header-margins-legend\\\" class=\\\"setting-header\\\">\");t.b(t.v(t.d(\"strings.i18n_margins\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                     <div class=\\\"row\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        <div class=\\\"col-xs-2 icon-scale-down\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <img style=\\\"height: 32px;\\\" src=\\\"images/margin1_off.png\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        <div class=\\\"col-xs-8\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input  type=\\\"range\\\" role=\\\"slider\\\" aria-labelledby=\\\"setting-header-margins-legend\\\" id=\\\"margin-size-input\\\" min=\\\"20\\\" aria-value-min=\\\"20\\\" aria-valuemin=\\\"20\\\" step=\\\"20\\\" max=\\\"100\\\" aria-value-max=\\\"100\\\" aria-valuemax=\\\"100\\\" value=\\\"20\\\" aria-valuenow=\\\"20\\\" aria-value-now=\\\"20\\\" aria-valuetext=\\\"20\\\" aria-value-text=\\\"20\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_margins\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_margins\",c,p,0)));t.b(\"\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        <div class=\\\"col-xs-2\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <img style=\\\"height: 32px;\\\" src=\\\"images/margin4_off.png\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                    <h5 id=\\\"setting-header-display-legend\\\" class=\\\"setting-header\\\">\");t.b(t.v(t.d(\"strings.i18n_display_format\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                    \\r\");t.b(\"\\n\" + i);t.b(\"                    <div role=\\\"radiogroup\\\" class=\\\"row\\\" style=\\\"width:100%;text-align:center;\\\" aria-labelledby=\\\"setting-header-display-legend\\\">\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"spread-default-option\\\"\\r\");t.b(\"\\n\" + i);t.b(\"                        style=\\\"vertical-align:middle;width:30%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"display-format\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"spread-default-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"spread-default-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_spread_auto\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"one-up-option\\\"\\r\");t.b(\"\\n\" + i);t.b(\"                        style=\\\"vertical-align:middle;width:30%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            \\r\");t.b(\"\\n\" + i);t.b(\"                            <input  name=\\\"display-format\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"single-page-radio\\\" />\\r\");t.b(\"\\n\" + i);t.b(\"                                            <label for=\\\"single-page-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                            <img src=\\\"images/ico_singlepage_up.png\\\" alt=\\\"\");t.b(t.v(t.d(\"strings.i18n_display_format\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_single_pages\",c,p,0)));t.b(\"\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"two-up-option\\\"\\r\");t.b(\"\\n\" + i);t.b(\"                        style=\\\"vertical-align:middle;width:30%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            \\r\");t.b(\"\\n\" + i);t.b(\"                                <input  name=\\\"display-format\\\" value=\\\"double\\\" type=\\\"radio\\\" id=\\\"double-page-radio\\\" />\\r\");t.b(\"\\n\" + i);t.b(\"                                            <label for=\\\"double-page-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                            <img src=\\\"images/ico_doublepage_up.png\\\" alt=\\\"\");t.b(t.v(t.d(\"strings.i18n_display_format\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_double_pages\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                    <h5 id=\\\"setting-header-scroll-legend\\\" class=\\\"setting-header\\\">\");t.b(t.v(t.d(\"strings.i18n_scroll_mode\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                    \\r\");t.b(\"\\n\" + i);t.b(\"                    <div role=\\\"radiogroup\\\" class=\\\"row\\\" style=\\\"width:100%;text-align:center;\\\" aria-labelledby=\\\"setting-header-scroll-legend\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"scroll-default-option\\\" style=\\\"vertical-align:middle;width:30%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"scrolling\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"scroll-default-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"scroll-default-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_scroll_mode_auto\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"scroll-doc-option\\\" style=\\\"vertical-align:middle;width:30%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"scrolling\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"scroll-doc-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"scroll-doc-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                <span style=\\\"font-size:150%;color:#888888;\\\" class=\\\"glyphicon glyphicon-file\\\" aria-hidden=\\\"true\\\"></span> \");t.b(t.v(t.d(\"strings.i18n_scroll_mode_doc\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"scroll-continuous-option\\\" style=\\\"vertical-align:middle;width:30%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"scrolling\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"scroll-continuous-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"scroll-continuous-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                <span style=\\\"font-size:150%;color:#888888;\\\" class=\\\"glyphicon glyphicon-road\\\" aria-hidden=\\\"true\\\"></span> \");t.b(t.v(t.d(\"strings.i18n_scroll_mode_continuous\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                    <h5 hiddenx=\\\"hidden\\\" id=\\\"setting-header-pageTransition-legend\\\" class=\\\"setting-header\\\">\");t.b(t.v(t.d(\"strings.i18n_page_transition\",c,p,0)));t.b(\"</h5>\\r\");t.b(\"\\n\" + i);t.b(\"                    \\r\");t.b(\"\\n\" + i);t.b(\"                    <div hiddenx=\\\"hidden\\\" role=\\\"radiogroup\\\" class=\\\"row\\\" style=\\\"width:100%;text-align:center;\\\" aria-labelledby=\\\"setting-header-pageTransition-legend\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"pageTransition-none-option\\\" style=\\\"vertical-align:middle;width:15%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"pageTransition\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"pageTransition-none-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"pageTransition-none-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_page_transition_none\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"pageTransition-1-option\\\" style=\\\"vertical-align:middle;width:15%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"pageTransition\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"pageTransition-1-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"pageTransition-1-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_page_transition_fade\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"pageTransition-2-option\\\" style=\\\"vertical-align:middle;width:15%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"pageTransition\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"pageTransition-2-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"pageTransition-2-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_page_transition_slide\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"pageTransition-3-option\\\" style=\\\"vertical-align:middle;width:15%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"pageTransition\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"pageTransition-3-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"pageTransition-3-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_page_transition_swoosh\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div role=\\\"radio\\\" id=\\\"pageTransition-4-option\\\" style=\\\"vertical-align:middle;width:15%;display:inline-block;position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                            <input style=\\\"\\\"  name=\\\"pageTransition\\\" value=\\\"single\\\" type=\\\"radio\\\" id=\\\"pageTransition-4-radio\\\"/>\\r\");t.b(\"\\n\" + i);t.b(\"                            <label style=\\\"\\\" for=\\\"pageTransition-4-radio\\\" class=\\\"underlinedLabel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                                \");t.b(t.v(t.d(\"strings.i18n_page_transition_butterfly\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                            </label>\\r\");t.b(\"\\n\" + i);t.b(\"                        </div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"                    \\r\");t.b(\"\\n\" + i);t.b(\"                    \\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"                    <div id=\\\"tab-keyboard\\\" class=\\\"tab-pane\\\" role=\\\"tabpanel\\\">\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                    <div class=\\\"row\\\" style=\\\"position:relative;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <div id=\\\"invalid_keyboard_shortcut_ALERT\\\"></div>\\r\");t.b(\"\\n\" + i);t.b(\"                        \\r\");t.b(\"\\n\" + i);t.b(\"                        <ul id=\\\"keyboard-list\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                        </ul>\\r\");t.b(\"\\n\" + i);t.b(\"                    </div>\\r\");t.b(\"\\n\" + i);t.b(\"                     </div>\\r\");t.b(\"\\n\" + i);t.b(\"                </div>\\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"            <div class=\\\"modal-footer\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <button id=\\\"buttClose\\\"  type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_close\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.SettingsModalClose\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_close\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.SettingsModalClose\",c,p,0)));t.b(\"]\\\">\");t.b(t.v(t.d(\"strings.i18n_close\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button id=\\\"buttSave\\\"  type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_save_changes\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.SettingsModalSave\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_save_changes\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.SettingsModalSave\",c,p,0)));t.b(\"]\\\">\");t.b(t.v(t.d(\"strings.i18n_save_changes\",c,p,0)));t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"        </div>\\r\");t.b(\"\\n\" + i);t.b(\"        <!-- /.modal-content -->\\r\");t.b(\"\\n\" + i);t.b(\"    </div>\\r\");t.b(\"\\n\" + i);t.b(\"    <!-- /.modal-dialog -->\\r\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "\ndefine(\"hgn!templates/settings-keyboard-item.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");if(t.s(t.f(\"name\",c,p,1),c,p,0,9,747,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"<li>\\r\");t.b(\"\\n\" + i);t.b(\"<label id=\\\"label_\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\">\");t.b(t.v(t.f(\"i18n\",c,p,0)));t.b(\"<br/><span>\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"</span></label>\\r\");t.b(\"\\n\" + i);t.b(\"<input id=\\\"\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\" name=\\\"\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\" class=\\\"keyboardInput\\\" type=\\\"text\\\"  placeholder=\\\"\");t.b(t.v(t.f(\"shortcut\",c,p,0)));t.b(\"\\\" value=\\\"\");t.b(t.v(t.f(\"shortcut\",c,p,0)));t.b(\"\\\" aria-labelledbyxxx=\\\"label_\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.f(\"i18n\",c,p,0)));t.b(\"\\\" title=\\\"\");t.b(t.v(t.f(\"i18n\",c,p,0)));t.b(\"\\\"></input>\\r\");t.b(\"\\n\" + i);t.b(\"<button class=\\\"resetKey captureKeyboardShortcut\\\" role=\\\"button\\\" data-key=\\\"\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_reset_key\",c,p,0)));t.b(\" (\");t.b(t.v(t.f(\"def\",c,p,0)));t.b(\")\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_reset_key\",c,p,0)));t.b(\" (\");t.b(t.v(t.f(\"def\",c,p,0)));t.b(\")\\\"><span aria-hidden=\\\"true\\\">&#8855;</span></button>\\r\");t.b(\"\\n\" + i);t.b(\"<span id=\\\"duplicate_keyboard_shortcut\\\" aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.i18n_duplicate_keyboard_shortcut\",c,p,0)));t.b(\"</span>\\r\");t.b(\"\\n\" + i);t.b(\"<span id=\\\"invalid_keyboard_shortcut\\\" aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.i18n_invalid_keyboard_shortcut\",c,p,0)));t.b(\"</span>\\r\");t.b(\"\\n\" + i);t.b(\"</li>\\r\");t.b(\"\\n\" + i);});c.pop();}if(!t.s(t.f(\"name\",c,p,1),c,p,1,0,0,\"\")){t.b(\"<li id=\\\"resetAllKeys\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"resetAllKeys\\\">\\r\");t.b(\"\\n\" + i);t.b(\"<button class=\\\"resetKey\\\" role=\\\"button\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_reset_key_all\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_reset_key_all\",c,p,0)));t.b(\"\\\"><span aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.i18n_reset_key_all\",c,p,0)));t.b(\"  &#8855;</span></button>\\r\");t.b(\"\\n\" + i);t.b(\"</li>\\r\");t.b(\"\\n\" + i);};return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "// FORK:\r\n// https://github.com/danielweck/keymaster\r\n\r\n//     keymaster.js\r\n//     (c) 2011-2013 Thomas Fuchs\r\n//     keymaster.js may be freely distributed under the MIT license.\r\n\r\n;(function(global){\r\n  var k,\r\n    _handlers = {},\r\n    _mods = { 16: false, 18: false, 17: false, 91: false },\r\n    _scope = 'all',\r\n    // modifier keys\r\n    _MODIFIERS = {\r\n      '': 16, shift: 16,\r\n      '': 18, alt: 18, option: 18,\r\n      '': 17, ctrl: 17, control: 17,\r\n      '': 91, command: 91\r\n    },\r\n    // special keys\r\n    _MAP = {\r\n      backspace: 8, tab: 9, clear: 12,\r\n      enter: 13, 'return': 13,\r\n      esc: 27, escape: 27, space: 32,\r\n      left: 37, up: 38,\r\n      right: 39, down: 40,\r\n      del: 46, 'delete': 46,\r\n      home: 36, end: 35,\r\n      pageup: 33, pagedown: 34,\r\n      ',': 188, '.': 190, '/': 191,\r\n      '`': 192, '-': 189, '=': 187,\r\n      ';': 186, '\\'': 222,\r\n      '[': 219, ']': 221, '\\\\': 220\r\n    },\r\n    code = function(x){\r\n      return x.toUpperCase ? (_MAP[x] || x.toUpperCase().charCodeAt(0)) : x;\r\n    },\r\n    _downKeys = [];\r\n\r\n  for(k=1;k<20;k++) _MAP['f'+k] = 111+k;\r\n\r\n  // IE doesn't support Array#indexOf, so have a simple replacement\r\n  function index(array, item){\r\n    var i = array.length;\r\n    while(i--) if(array[i]===item) return i;\r\n    return -1;\r\n  }\r\n\r\n  // for comparing mods before unassignment\r\n  function compareArray(a1, a2) {\r\n    if (a1.length != a2.length) return false;\r\n    for (var i = 0; i < a1.length; i++) {\r\n        if (a1[i] !== a2[i]) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  var modifierMap = {\r\n      16:'shiftKey',\r\n      18:'altKey',\r\n      17:'ctrlKey',\r\n      91:'metaKey'\r\n  };\r\n  function updateModifierKey(event) {\r\n      for(k in _mods) _mods[k] = event[modifierMap[k]];\r\n  };\r\n\r\n  function getKeyCode(event)\r\n  {\r\n      return event.keyCode || event.charCode || event.which || event.key || 0;\r\n  }\r\n\r\n  // handle keydown event\r\n  function dispatch(event) {\r\n\r\n    var key, handler, k, i, modifiersMatch, scope;\r\n    key = getKeyCode(event);\r\n\r\n    if (index(_downKeys, key) == -1) {\r\n        _downKeys.push(key);\r\n    }\r\n\r\n    // if a modifier key, set the key.<modifierkeyname> property to true and return\r\n    if(key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko\r\n    if(key in _mods) {\r\n      _mods[key] = true;\r\n      // 'assignKey' from inside this closure is exported to window.key\r\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = true;\r\n      return;\r\n    }\r\n    updateModifierKey(event);\r\n\r\n    // see if we need to ignore the keypress (filter() can can be overridden)\r\n    // by default ignore key presses if a select, textarea, or input is focused\r\n    if(!assignKey.filter.call(this, event)) return;\r\n\r\n    // abort if no potentially matching shortcuts found\r\n    if (!(key in _handlers)) return;\r\n\r\n    scope = getScope();\r\n\r\n    // for each potential shortcut\r\n    for (i = 0; i < _handlers[key].length; i++) {\r\n      handler = _handlers[key][i];\r\n\r\n      // see if it's in the current scope\r\n      if(handler.scope == scope || handler.scope == 'all'){\r\n        // check if modifiers match if any\r\n        modifiersMatch = handler.mods.length > 0;\r\n        for(k in _mods)\r\n          if((!_mods[k] && index(handler.mods, +k) > -1) ||\r\n            (_mods[k] && index(handler.mods, +k) == -1)) modifiersMatch = false;\r\n        // call the handler and stop the event if neccessary\r\n        if((handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91]) || modifiersMatch){\r\n          if(handler.method(event, handler)===false){\r\n            if(event.preventDefault) event.preventDefault();\r\n              else event.returnValue = false;\r\n            if(event.stopPropagation) event.stopPropagation();\r\n            if(event.cancelBubble) event.cancelBubble = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // unset modifier keys on keyup\r\n  function clearModifier(event){\r\n    var key = getKeyCode(event), k,\r\n        i = index(_downKeys, key);\r\n\r\n    // remove key from _downKeys\r\n    if (i >= 0) {\r\n        _downKeys.splice(i, 1);\r\n    }\r\n\r\n    if(key == 93 || key == 224) key = 91;\r\n    if(key in _mods) {\r\n      _mods[key] = false;\r\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = false;\r\n    }\r\n  };\r\n\r\n  function resetModifiers() {\r\n    for(k in _mods) _mods[k] = false;\r\n    for(k in _MODIFIERS) assignKey[k] = false;\r\n  };\r\n\r\n  // parse and assign shortcut\r\n  function assignKey(key, scope, method){\r\n    var keys, mods;\r\n    keys = getKeys(key);\r\n    if (method === undefined) {\r\n      method = scope;\r\n      scope = 'all';\r\n    }\r\n\r\n    // for each shortcut\r\n    for (var i = 0; i < keys.length; i++) {\r\n      // set modifier keys if any\r\n      mods = [];\r\n      key = keys[i].split('+');\r\n      if (key.length > 1){\r\n        mods = getMods(key);\r\n        key = [key[key.length-1]];\r\n      }\r\n      // convert to keycode and...\r\n      key = key[0]\r\n      key = code(key);\r\n      // ...store handler\r\n      if (!(key in _handlers)) _handlers[key] = [];\r\n      _handlers[key].push({ shortcut: keys[i], scope: scope, method: method, key: keys[i], mods: mods });\r\n    }\r\n  };\r\n\r\n  // unbind all handlers for given key in current scope\r\n  function unbindKey(key, scope) {\r\n    var multipleKeys, keys,\r\n      mods = [],\r\n      i, j, obj;\r\n\r\n    multipleKeys = getKeys(key);\r\n\r\n    for (j = 0; j < multipleKeys.length; j++) {\r\n      keys = multipleKeys[j].split('+');\r\n\r\n      if (keys.length > 1) {\r\n        mods = getMods(keys);\r\n      }\r\n\r\n      key = keys[keys.length - 1];\r\n      key = code(key);\r\n\r\n      if (scope === undefined) {\r\n        scope = getScope();\r\n      }\r\n      if (!_handlers[key]) {\r\n        return;\r\n      }\r\n      for (i = 0; i < _handlers[key].length; i++) {\r\n        obj = _handlers[key][i];\r\n        // only clear handlers if correct scope and mods match\r\n        if (obj.scope === scope && compareArray(obj.mods, mods)) {\r\n          _handlers[key][i] = {};\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Returns true if the key with code 'keyCode' is currently down\r\n  // Converts strings into key codes.\r\n  function isPressed(keyCode) {\r\n      if (typeof(keyCode)=='string') {\r\n        keyCode = code(keyCode);\r\n      }\r\n      return index(_downKeys, keyCode) != -1;\r\n  }\r\n\r\n  function getPressedKeyCodes() {\r\n      return _downKeys.slice(0);\r\n  }\r\n\r\n  function filter(event){\r\n    var tagName = (event.target || event.srcElement).tagName;\r\n    // ignore keypressed in any elements that support keyboard data input\r\n    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');\r\n  }\r\n\r\n  // initialize key.<modifier> to false\r\n  for(k in _MODIFIERS) assignKey[k] = false;\r\n\r\n  // set current scope (default 'all')\r\n  function setScope(scope){ _scope = scope || 'all' };\r\n  function getScope(){ return _scope || 'all' };\r\n\r\n  // delete all handlers for a given scope\r\n  function deleteScope(scope){\r\n    var key, handlers, i;\r\n\r\n    for (key in _handlers) {\r\n      handlers = _handlers[key];\r\n      for (i = 0; i < handlers.length; ) {\r\n        if (handlers[i].scope === scope) handlers.splice(i, 1);\r\n        else i++;\r\n      }\r\n    }\r\n  };\r\n\r\n  // abstract key logic for assign and unassign\r\n  function getKeys(key) {\r\n    var keys;\r\n    key = key.replace(/\\s/g, '');\r\n    keys = key.split(',');\r\n    if ((keys[keys.length - 1]) == '') {\r\n      keys[keys.length - 2] += ',';\r\n    }\r\n    return keys;\r\n  }\r\n\r\n  // abstract mods logic for assign and unassign\r\n  function getMods(key) {\r\n    var mods = key.slice(0, key.length - 1);\r\n    for (var mi = 0; mi < mods.length; mi++)\r\n    mods[mi] = _MODIFIERS[mods[mi]];\r\n    return mods;\r\n  }\r\n\r\n  // cross-browser events\r\n  function addEvent(object, event, method) {\r\n    if (object.addEventListener)\r\n      object.addEventListener(event, method, false);\r\n    else if(object.attachEvent)\r\n      object.attachEvent('on'+event, function(){ method(window.event) });\r\n  };\r\n\r\n  // set the handlers globally on document\r\n  addEvent(document, 'keydown', function(event) { dispatch(event) }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48\r\n  addEvent(document, 'keyup', clearModifier);\r\n\r\n  // reset modifiers to false whenever the window is (re)focused.\r\n  addEvent(window, 'focus', resetModifiers);\r\n\r\n  // store previously defined key\r\n  var previousKey = global.key;\r\n\r\n  // restore previously defined key and return reference to our key object\r\n  function noConflict() {\r\n    var k = global.key;\r\n    global.key = previousKey;\r\n    return k;\r\n  }\r\n\r\n  // set window.key and window.key.set/get/deleteScope, and the default filter\r\n  global.key = assignKey;\r\n  global.key.setScope = setScope;\r\n  global.key.getScope = getScope;\r\n  global.key.deleteScope = deleteScope;\r\n  global.key.filter = filter;\r\n  global.key.isPressed = isPressed;\r\n  global.key.getPressedKeyCodes = getPressedKeyCodes;\r\n  global.key.noConflict = noConflict;\r\n  global.key.unbind = unbindKey;\r\n\r\n  if(typeof module !== 'undefined') module.exports = assignKey;\r\n\r\n})(this);\r\n\ndefine(\"keymaster\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.key;\n    };\n}(this)));\n\n",
    "define('Keyboard',['i18n/Strings', 'keymaster', 'storage/Settings'], function(Strings, key, Settings){\r\n\r\n    var keyBindings = {};\r\n\r\n            //https://github.com/termi/DOM-Keyboard-Event-Level-3-polyfill\r\n            //https://gist.github.com/termi/4654819\r\n            void function() {//closure\r\n\r\n            var global = this\r\n              , _initKeyboardEvent_type = (function( e ) {\r\n            \t\ttry {\r\n            \t\t\te.initKeyboardEvent(\r\n            \t\t\t\t\"keyup\" // in DOMString typeArg\r\n            \t\t\t\t, false // in boolean canBubbleArg\r\n            \t\t\t\t, false // in boolean cancelableArg\r\n            \t\t\t\t, global // in views::AbstractView viewArg\r\n            \t\t\t\t, \"+\" // [test]in DOMString keyIdentifierArg | webkit event.keyIdentifier | IE9 event.key\r\n            \t\t\t\t, 3 // [test]in unsigned long keyLocationArg | webkit event.keyIdentifier | IE9 event.location\r\n            \t\t\t\t, true // [test]in boolean ctrlKeyArg | webkit event.shiftKey | old webkit event.ctrlKey | IE9 event.modifiersList\r\n            \t\t\t\t, false // [test]shift | alt\r\n            \t\t\t\t, true // [test]shift | alt\r\n            \t\t\t\t, false // meta\r\n            \t\t\t\t, false // altGraphKey\r\n            \t\t\t);\r\n\t\t\r\n\t\t\r\n\t\t\r\n            \t\t\t/*\r\n            \t\t\t// Safari and IE9 throw Error here due keyCode, charCode and which is readonly\r\n            \t\t\t// Uncomment this code block if you need legacy properties\r\n            \t\t\tdelete e.keyCode;\r\n            \t\t\t_Object_defineProperty(e, {writable: true, configurable: true, value: 9})\r\n            \t\t\tdelete e.charCode;\r\n            \t\t\t_Object_defineProperty(e, {writable: true, configurable: true, value: 9})\r\n            \t\t\tdelete e.which;\r\n            \t\t\t_Object_defineProperty(e, {writable: true, configurable: true, value: 9})\r\n            \t\t\t*/\r\n\t\t\r\n            \t\t\treturn ((e[\"keyIdentifier\"] || e[\"key\"]) == \"+\" && (e[\"keyLocation\"] || e[\"location\"]) == 3) && (\r\n            \t\t\t\te.ctrlKey ?\r\n            \t\t\t\t\te.altKey ? // webkit\r\n            \t\t\t\t\t\t1\r\n            \t\t\t\t\t\t:\r\n            \t\t\t\t\t\t3\r\n            \t\t\t\t\t:\r\n            \t\t\t\t\te.shiftKey ?\r\n            \t\t\t\t\t\t2 // webkit\r\n            \t\t\t\t\t\t:\r\n            \t\t\t\t\t\t4 // IE9\r\n            \t\t\t\t) || 9 // FireFox|w3c\r\n            \t\t\t\t;\r\n            \t\t}\r\n            \t\tcatch ( __e__ ) { _initKeyboardEvent_type = 0 }\r\n            \t})( document.createEvent( \"KeyboardEvent\" ) )\r\n\r\n            \t, _keyboardEvent_properties_dictionary = {\r\n            \t\t\"char\": \"\",\r\n            \t\t\"key\": \"\",\r\n            \t\t\"location\": 0,\r\n            \t\t\"ctrlKey\": false,\r\n            \t\t\"shiftKey\": false,\r\n            \t\t\"altKey\": false,\r\n            \t\t\"metaKey\": false,\r\n            \t\t\"repeat\": false,\r\n            \t\t\"locale\": \"\",\r\n\r\n            \t\t\"detail\": 0,\r\n            \t\t\"bubbles\": false,\r\n            \t\t\"cancelable\": false,\r\n\t\r\n            \t\t//legacy properties\r\n            \t\t\"keyCode\": 0,\r\n            \t\t\"charCode\": 0,\r\n            \t\t\"which\": 0\r\n            \t}\r\n\r\n            \t, own = Function.prototype.call.bind(Object.prototype.hasOwnProperty)\r\n\r\n            \t, _Object_defineProperty = Object.defineProperty || function(obj, prop, val) {\r\n            \t\tif( \"value\" in val ) {\r\n            \t\t\tobj[prop] = val[\"value\"];\r\n            \t\t}\r\n            \t}\r\n            ;\r\n\r\n            function crossBrowser_initKeyboardEvent(type, dict) {\r\n            \tvar e;\r\n            \tif( _initKeyboardEvent_type ) {\r\n            \t\te = document.createEvent( \"KeyboardEvent\" );\r\n            \t}\r\n            \telse {\r\n            \t\te = document.createEvent( \"Event\" );\r\n            \t}\r\n\r\n                // // Chromium Hack\r\n                // try\r\n                // {\r\n                // Object.defineProperty(e, 'keyCode', {\r\n                //             get : function() {\r\n                //                 return this.keyCodeVal;\r\n                //             }\r\n                // });     \r\n                // }catch(){}\r\n                // \r\n                // try\r\n                // {\r\n                // Object.defineProperty(e, 'which', {\r\n                //             get : function() {\r\n                //                 return this.keyCodeVal;\r\n                //             }\r\n                // });\r\n                // }catch(){} \r\n\r\n            \r\n            \tvar _prop_name\r\n            \t\t, localDict = {};\r\n\r\n            \tfor( _prop_name in _keyboardEvent_properties_dictionary ) if(own(_keyboardEvent_properties_dictionary, _prop_name) ) {\r\n            \t\tlocalDict[_prop_name] = (own(dict, _prop_name) && dict || _keyboardEvent_properties_dictionary)[_prop_name];\r\n            \t}\r\n\r\n            \tvar _ctrlKey = localDict[\"ctrlKey\"]\r\n            \t\t, _shiftKey = localDict[\"shiftKey\"]\r\n            \t\t, _altKey = localDict[\"altKey\"]\r\n            \t\t, _metaKey = localDict[\"metaKey\"]\r\n            \t\t, _altGraphKey = localDict[\"altGraphKey\"]\r\n\r\n            \t\t, _modifiersListArg = _initKeyboardEvent_type > 3 ? (\r\n            \t\t\t(_ctrlKey ? \"Control\" : \"\")\r\n            \t\t\t\t+ (_shiftKey ? \" Shift\" : \"\")\r\n            \t\t\t\t+ (_altKey ? \" Alt\" : \"\")\r\n            \t\t\t\t+ (_metaKey ? \" Meta\" : \"\")\r\n            \t\t\t\t+ (_altGraphKey ? \" AltGraph\" : \"\")\r\n            \t\t\t).trim() : null\r\n\r\n            \t\t, _key = localDict[\"key\"] + \"\"\r\n            \t\t, _char = localDict[\"char\"] + \"\"\r\n            \t\t, _location = localDict[\"location\"]\r\n            \t\t, _keyCode = localDict[\"keyCode\"] || (localDict[\"keyCode\"] = _key && _key.charCodeAt( 0 ) || 0)\r\n            \t\t, _charCode = localDict[\"charCode\"] || (localDict[\"charCode\"] = _char && _char.charCodeAt( 0 ) || 0)\r\n\r\n            \t\t, _bubbles = localDict[\"bubbles\"]\r\n            \t\t, _cancelable = localDict[\"cancelable\"]\r\n\r\n            \t\t, _repeat = localDict[\"repeat\"]\r\n            \t\t, _locale = localDict[\"locale\"]\r\n            \t\t, _view = global\r\n            \t;\r\n\r\n            \tlocalDict[\"which\"] || (localDict[\"which\"] = localDict[\"keyCode\"]);\r\n\r\n                //e.keyCodeVal = _keyCode;\r\n            \r\n            \tif( \"initKeyEvent\" in e ) {//FF\r\n            \t\t//https://developer.mozilla.org/en/DOM/event.initKeyEvent\r\n            \t\te.initKeyEvent( type, _bubbles, _cancelable, _view, _ctrlKey, _altKey, _shiftKey, _metaKey, _keyCode, _charCode );\r\n            \t}\r\n            \telse if(  _initKeyboardEvent_type && \"initKeyboardEvent\" in e ) {//https://developer.mozilla.org/en/DOM/KeyboardEvent#initKeyboardEvent()\r\n            \t\tif( _initKeyboardEvent_type == 1 ) { // webkit\r\n            \t\t\t//http://stackoverflow.com/a/8490774/1437207\r\n            \t\t\t//https://bugs.webkit.org/show_bug.cgi?id=13368\r\n            \t\t\te.initKeyboardEvent( type, _bubbles, _cancelable, _view, _key, _location, _ctrlKey, _shiftKey, _altKey, _metaKey, _altGraphKey );\r\n            \t\t}\r\n            \t\telse if( _initKeyboardEvent_type == 2 ) { // old webkit\r\n            \t\t\t//http://code.google.com/p/chromium/issues/detail?id=52408\r\n            \t\t\te.initKeyboardEvent( type, _bubbles, _cancelable, _view, _ctrlKey, _altKey, _shiftKey, _metaKey, _keyCode, _charCode );\r\n            \t\t}\r\n            \t\telse if( _initKeyboardEvent_type == 3 ) { // webkit\r\n            \t\t\te.initKeyboardEvent( type, _bubbles, _cancelable, _view, _key, _location, _ctrlKey, _altKey, _shiftKey, _metaKey, _altGraphKey );\r\n            \t\t}\r\n            \t\telse if( _initKeyboardEvent_type == 4 ) { // IE9\r\n            \t\t\t//http://msdn.microsoft.com/en-us/library/ie/ff975297(v=vs.85).aspx\r\n            \t\t\te.initKeyboardEvent( type, _bubbles, _cancelable, _view, _key, _location, _modifiersListArg, _repeat, _locale );\r\n            \t\t}\r\n            \t\telse { // FireFox|w3c\r\n            \t\t\t//http://www.w3.org/TR/DOM-Level-3-Events/#events-KeyboardEvent-initKeyboardEvent\r\n            \t\t\t//https://developer.mozilla.org/en/DOM/KeyboardEvent#initKeyboardEvent()\r\n            \t\t\te.initKeyboardEvent( type, _bubbles, _cancelable, _view, _char, _key, _location, _modifiersListArg, _repeat, _locale );\r\n            \t\t}\r\n            \t}\r\n            \telse {\r\n            \t\te.initEvent(type, _bubbles, _cancelable)\r\n            \t}\r\n\r\n            \tfor( _prop_name in _keyboardEvent_properties_dictionary )if( own( _keyboardEvent_properties_dictionary, _prop_name ) ) {\r\n            \t\tif( e[_prop_name] != localDict[_prop_name] ) {\r\n            \t\t\ttry {\r\n            \t\t\t\tdelete e[_prop_name];\r\n            \t\t\t\t_Object_defineProperty( e, _prop_name, { writable: true, \"value\": localDict[_prop_name] } );\r\n            \t\t\t}\r\n            \t\t\tcatch(ex) {\r\n            \t\t\t\t//Some properties is read-only\r\n// console.debug(\"PROP EX: \" + ex);\r\n// e[_prop_name] = _keyCode;\r\n// console.debug(\"PROP AFTER: \" + e[_prop_name]);\r\n            \t\t\t}\r\n\t\t\r\n            \t\t}\r\n            \t}\r\n\r\n            \treturn e;\r\n            }\r\n\r\n            //export\r\n            global.crossBrowser_initKeyboardEvent = crossBrowser_initKeyboardEvent;\r\n\r\n            }.call(window);\r\n            \r\n            \r\n\tKeyboard = {\t\r\n        resetToDefaults: function()\r\n        {\r\n            // reset current scheme to defaultOptions\r\n            for (prop in Keyboard.defaultOptions)\r\n            {\r\n                if (!Keyboard.defaultOptions.hasOwnProperty(prop)) continue;\r\n\r\n                if (typeof Keyboard.defaultOptions[prop] !== 'string') continue;\r\n\r\n                Keyboard[prop] = Keyboard.defaultOptions[prop];\r\n            }\r\n        },\r\n        resetAccessKeys: function()\r\n        {\r\n            // reset access keys\r\n            var extractAccessKey = function(keyboardShortcut)\r\n            {\r\n                if (!keyboardShortcut || !keyboardShortcut.length) return \"\";\r\n\r\n                var char = keyboardShortcut[keyboardShortcut.length-1];\r\n                if (/^[a-z0-9]+$/i.test(char)) return char;\r\n\r\n                return \"\";\r\n            };\r\n            Keyboard.accesskeys = {};\r\n            for (prop in Keyboard)\r\n            {\r\n                if (!Keyboard.hasOwnProperty(prop)) continue;\r\n\r\n                var str = Keyboard[prop];\r\n\r\n                if (typeof str !== 'string') continue;\r\n\r\n                Keyboard.accesskeys[prop] = extractAccessKey(str);\r\n            }\r\n        },\r\n        applySettings: function(json)\r\n        {\r\n            this.resetToDefaults();\r\n            \r\n            if (json && json.keyboard)\r\n            {\r\n                // override with user options\r\n                for (prop in Keyboard)\r\n                {\r\n                    if (!Keyboard.hasOwnProperty(prop)) continue;\r\n    \r\n                    if (typeof Keyboard[prop] !== 'string') continue;\r\n            \r\n                    if (typeof json.keyboard[prop] !== 'string') continue;\r\n    \r\n                    Keyboard[prop] = json.keyboard[prop];\r\n                }\r\n            }\r\n\r\n            this.resetAccessKeys();\r\n        },\r\n        dispatch: function(target, e)\r\n        {\r\n            //THIS FUNCTION NOT REACHED WHEN e.stopPropagation(); INVOKED IN IFRAME's HTML\r\n            \r\n            if (e.cancelBubble)\r\n            {\r\n                //WHEN e.cancelBubble = true IN IFRAME's HTML's own event callback\r\n                return;\r\n            }\r\n            \r\n            if (e.defaultPrevented)\r\n            {\r\n                //WHEN e.preventDefault() INVOKED IN IFRAME's HTML\r\n                return;\r\n            }\r\n            \r\n            if (typeof e.returnValue !== \"undefined\" && !e.returnValue)\r\n            {\r\n                //WHEN e.returnValue = false IN IFRAME's HTML's own event callback\r\n                return;\r\n            }\r\n            \r\n            var source = e.srcElement || e.target;\r\n            if (source)\r\n            {\r\n                var parent = source;\r\n                while (parent)\r\n                {\r\n                    var name = parent.nodeName;\r\n                    if (name === \"input\" || name === \"textarea\")\r\n                    {\r\n                        return;\r\n                    }\r\n                    \r\n                    if (parent.getAttribute)\r\n                    {\r\n                        var ce = parent.getAttribute(\"contenteditable\");\r\n                        if (ce === \"true\" || ce === \"contenteditable\")\r\n                        {\r\n                            return;\r\n                        }\r\n                    }\r\n                 \r\n                    if (parent.classList && parent.classList.contains(\"keyboard-input\"))\r\n                    {\r\n                        return;\r\n                    }\r\n                    \r\n                    parent = parent.parentNode;\r\n                }\r\n            }\r\n            \r\n            \r\n            // //var newE = jQuery.extend(true, {}, e);// deep copy\r\n            // var newE = $.extend($.Event(e.type), {}, e);\r\n            // \r\n            // newE.preventDefault();\r\n            // newE.stopPropagation();\r\n            // newE.stopImmediatePropagation();\r\n            // \r\n            // newE.originalEvent.bubbles = false;\r\n            // newE.originalEvent.srcElement = document.documentElement;\r\n            // newE.originalEvent.target = document.documentElement;\r\n            // newE.originalEvent.view = window;\r\n            \r\n            var ev = crossBrowser_initKeyboardEvent(e.type, {\r\n                \"bubbles\": true,\r\n                \"cancelable\": false,\r\n                \r\n                \"keyCode\": e.keyCode,\r\n                \"charCode\": e.charCode,\r\n                \"which\": e.which,\r\n                \r\n                \"ctrlKey\": e.ctrlKey,\r\n                \"shiftKey\": e.shiftKey,\r\n                \"altKey\": e.altKey,\r\n                \"metaKey\": e.metaKey,\r\n                \r\n                //https://developer.mozilla.org/en-US/docs/Web/API/event.which\r\n                \"char\": e.char ? e.char : String.fromCharCode(e.charCode), // lower/upper case-sensitive\r\n                \"key\": e.key ? e.key : e.keyCode // case-insensitive\r\n            });\r\n\r\n            //$(target).trigger(e);\r\n            target.dispatchEvent(ev);\r\n        },\r\n        scope: function(scope)\r\n        {\r\n            if (!scope) alert(\"!SCOPE ACTIVATE!\");\r\n            \r\n            key.setScope(scope);\r\n        },\r\n        on: function(keys, scope, callback)\r\n        {\r\n            if (!keys) console.error(\"!KEYS!\");\r\n            \r\n            if (!keyBindings.hasOwnProperty(scope))\r\n            {\r\n                keyBindings[scope] = [];\r\n            }\r\n            keyBindings[scope].push(keys);\r\n            \r\n            key.unbind(keys, scope);\r\n            key(keys, scope, function()\r\n            {\r\n                $(document.body).addClass(\"keyboard\");\r\n                callback();\r\n            });\r\n        },\r\n        off: function(scope)\r\n        {\r\n            if (!scope) alert(\"!SCOPE OFF!\");\r\n            \r\n            if (!keyBindings.hasOwnProperty(scope)) return;\r\n            \r\n            for (k in keyBindings[scope])\r\n            {\r\n                key.unbind(k, scope);\r\n            }\r\n        },\r\n        i18n:\r\n        {\r\n            ShowSettingsModal: Strings.settings,\r\n        \r\n            SettingsModalSave: Strings.settings + \" - \" + Strings.i18n_save_changes,\r\n            SettingsModalClose: Strings.settings + \" - \" + Strings.i18n_close,\r\n        \r\n            PagePrevious: Strings.i18n_page_previous,\r\n            PageNext: Strings.i18n_page_next,\r\n            PagePreviousAlt: Strings.i18n_page_previous + \" (access key)\",\r\n            PageNextAlt: Strings.i18n_page_next + \" (access key)\",\r\n        \r\n            ToolbarShow: Strings.i18n_toolbar_show,\r\n            ToolbarHide: Strings.i18n_toolbar_hide,\r\n        \r\n            FullScreenToggle: Strings.enter_fullscreen + \" / \" + Strings.exit_fullscreen,\r\n        \r\n            SwitchToLibrary: Strings.view_library,\r\n        \r\n            TocShowHideToggle: Strings.toc,\r\n        \r\n            NightTheme: Strings.i18n_arabian_nights,\r\n        \r\n            //MediaOverlaysPlayPauseAlt: Strings.i18n_audio_play + \" / \" + Strings.i18n_audio_pause,\r\n            MediaOverlaysPlayPause: Strings.i18n_audio_play + \" / \" + Strings.i18n_audio_pause,\r\n            \r\n            MediaOverlaysPrevious: Strings.i18n_audio_previous,\r\n            MediaOverlaysNext: Strings.i18n_audio_next,\r\n        \r\n            MediaOverlaysEscape: Strings.i18n_audio_esc,\r\n        \r\n            MediaOverlaysRateIncrease: Strings.i18n_audio_rate_increase,\r\n            MediaOverlaysRateDecrease: Strings.i18n_audio_rate_decrease,\r\n            //MediaOverlaysRateIncreaseAlt: \"\",\r\n            //MediaOverlaysRateDecreaseAlt: \"\",\r\n            MediaOverlaysRateReset: Strings.i18n_audio_rate_reset,\r\n        \r\n            MediaOverlaysVolumeIncrease: Strings.i18n_audio_volume_increase,\r\n            MediaOverlaysVolumeDecrease: Strings.i18n_audio_volume_decrease,\r\n            //MediaOverlaysVolumeIncreaseAlt: \"\",\r\n            //MediaOverlaysVolumeDecreaseAlt: \"\",\r\n            MediaOverlaysVolumeMuteToggle: Strings.i18n_audio_mute + \" / \" + Strings.i18n_audio_unmute,\r\n        \r\n            MediaOverlaysAdvancedPanelShowHide: Strings.i18n_audio_expand,\r\n            \r\n            BackgroundAudioPlayPause: Strings.i18n_audio_play_background + \" / \" + Strings.i18n_audio_pause_background\r\n        },\r\n        defaultOptions:  {},\r\n        accesskeys: {}, // single key strokes are dynamically populated, based on the full shortcuts below:\r\n        ShowSettingsModal: 'o', //accesskey'ed\r\n        \r\n        SettingsModalSave: 's', //accesskey'ed\r\n        SettingsModalClose: 'c', //accesskey'ed\r\n        \r\n        PagePrevious: 'left', // ALT BELOW\r\n        PageNext: 'right', // ALT BELOW\r\n        PagePreviousAlt: '1', //accesskey'ed\r\n        PageNextAlt: '2', //accesskey'ed\r\n        \r\n        ToolbarShow: 'v', //accesskey'ed\r\n        ToolbarHide: 'x', //accesskey'ed\r\n        \r\n        FullScreenToggle: 'h', //accesskey'ed\r\n        \r\n        SwitchToLibrary: 'b', //accesskey'ed\r\n        \r\n        TocShowHideToggle: 't', //accesskey'ed\r\n        \r\n        NightTheme: 'n', //accesskey'ed\r\n        \r\n        MediaOverlaysEscape: 'r', //accesskey'ed\r\n        \r\n        //MediaOverlaysPlayPauseAlt: 'p', // ALT BELOW\r\n        MediaOverlaysPlayPause: 'm', //accesskey'ed\r\n        \r\n        MediaOverlaysRateIncrease: 'l', //accesskey'ed\r\n        MediaOverlaysRateDecrease: 'j', //accesskey'ed\r\n        //MediaOverlaysRateIncreaseAlt: 'F8', //??\r\n        //MediaOverlaysRateDecreaseAlt: 'shift+F8', //??\r\n        MediaOverlaysRateReset: 'k', //accesskey'ed\r\n        \r\n        MediaOverlaysVolumeIncrease: 'w', //accesskey'ed\r\n        MediaOverlaysVolumeDecrease: 'q', //accesskey'ed\r\n        //MediaOverlaysVolumeIncreaseAlt: 'F7', //??\r\n        //MediaOverlaysVolumeDecreaseAlt: 'shift+F7', //??\r\n        MediaOverlaysVolumeMuteToggle: 'a', //accesskey'ed\r\n        \r\n        MediaOverlaysPrevious: 'y', //accesskey'ed\r\n        MediaOverlaysNext: 'u', //accesskey'ed\r\n        \r\n        MediaOverlaysAdvancedPanelShowHide: 'g', //accesskey'ed\r\n        \r\n        BackgroundAudioPlayPause: 'd'\r\n\t};\r\n\r\n    try\r\n    {\r\n        // reset defaultOptions with the hard-coded values\r\n        Keyboard.defaultOptions = {};\r\n        for (prop in Keyboard)\r\n        {\r\n            if (!Keyboard.hasOwnProperty(prop)) continue;\r\n\r\n            if (typeof Keyboard[prop] !== 'string') continue;\r\n\r\n            Keyboard.defaultOptions[prop] = Keyboard[prop];\r\n        }\r\n        \r\n        // too early (async reader.options storage lookup)\r\n        // Settings.get('reader', function(json)\r\n        // {\r\n        //    Keyboard.applySettings(json);\r\n        // }); \r\n        \r\n        //unnecessary\r\n        //Keyboard.resetToDefaults();\r\n        \r\n        //necessary!\r\n        Keyboard.resetAccessKeys();\r\n    }\r\n    catch(e)\r\n    {\r\n        console.error(e);\r\n    }\r\n    \r\n\treturn Keyboard;\r\n});\n",
    "define('ReaderSettingsDialog_Keyboard',['hgn!templates/settings-keyboard-item.html', 'i18n/Strings', 'Dialogs', 'storage/Settings', 'Keyboard', 'underscore'], function(KeyboardItem, Strings, Dialogs, Settings, Keyboard, _){\r\n\r\n    \r\n    var checkKeyboardShortcuts = function($focusedInput, typing)\r\n    {\r\n        var duplicate = false;\r\n        var invalid = false;\r\n\r\n        var $keyboardList = $(\"#keyboard-list\");\r\n    \r\n        var wasAlert = $keyboardList.hasClass(\"atLeastOneInvalidOrDuplicateShortcut\");\r\n    \r\n        $keyboardList.removeClass(\"atLeastOneInvalidOrDuplicateShortcut\");\r\n        \r\n        var alertInvalidKeyboard = $(\"#invalid_keyboard_shortcut_ALERT\")[0];\r\n        \r\n        alertInvalidKeyboard.removeAttribute(\"role\");\r\n        alertInvalidKeyboard.removeAttribute(\"aria-live\");\r\n        alertInvalidKeyboard.removeAttribute(\"aria-atomic\");\r\n\r\n        //alertInvalidKeyboard.style.clip = \"rect(0px,0px,0px,0px)\";\r\n        \r\n        while (alertInvalidKeyboard.firstChild) {\r\n            alertInvalidKeyboard.removeChild(alertInvalidKeyboard.firstChild);\r\n        }\r\n        \r\n        var focusedInputIsInvalid = false;\r\n        \r\n        var $inputs = $(\".keyboardInput\");\r\n        $inputs.each(function()\r\n        {\r\n            var $that = $(this);\r\n\r\n            $that.parent().removeClass(\"duplicateShortcut\");\r\n            $that[0].removeAttribute(\"aria-invalid\");\r\n            \r\n            checkKeyboardShortcut($that, typing);\r\n            \r\n            if ($that.parent().hasClass(\"invalidShortcut\"))\r\n            {\r\n                $that[0].setAttribute(\"aria-invalid\", \"true\");\r\n                invalid = true;\r\n                \r\n                if ($focusedInput && $focusedInput.length && $focusedInput[0] === $that[0])\r\n                {\r\n                    focusedInputIsInvalid = true;\r\n                }\r\n            }\r\n        });\r\n\r\n        var focusedInputIsDuplicate = false;\r\n\r\n        for (var i = 0; i < 2; i++) // 2-pass process\r\n        {\r\n            // duplicates\r\n            $inputs.each(function()\r\n            {\r\n                var $that = $(this);\r\n                \r\n                var thatInvalid = $that.parent().hasClass(\"invalidShortcut\");\r\n                var thatDuplicate = $that.parent().hasClass(\"duplicateShortcut\");\r\n                var thatOriginal = $that.attr(\"placeholder\");\r\n            \r\n                var thatVal = thatInvalid || thatDuplicate ? thatOriginal : $that.attr(\"data-val\");\r\n                \r\n                if (thatDuplicate) return true; // continue (second pass)\r\n                \r\n                $inputs.each(function()\r\n                {\r\n                    var $self = $(this);\r\n                    if ($self[0] === $that[0]) return true; //continue\r\n            \r\n                    var selfOriginal = $self.attr(\"placeholder\");\r\n                \r\n                    var selfInvalid = $self.parent().hasClass(\"invalidShortcut\");\r\n                \r\n                    var selfDuplicate = $self.parent().hasClass(\"duplicateShortcut\");\r\n                \r\n                    var selfVal = selfInvalid || selfDuplicate ? selfOriginal : $self.attr(\"data-val\");\r\n                \r\n                    if (thatVal === selfVal)\r\n                    {\r\n                        duplicate = true;\r\n                \r\n                        if ($focusedInput && $focusedInput.length && ($focusedInput[0] === $that[0] || $focusedInput[0] === $self[0]))\r\n                        {\r\n                            focusedInputIsDuplicate = true;\r\n                        }\r\n\r\n                        $that[0].setAttribute(\"aria-invalid\", \"true\");\r\n                        $self[0].setAttribute(\"aria-invalid\", \"true\");\r\n                    \r\n                        if (!$self.parent().hasClass(\"duplicateShortcut\")) $self.parent().addClass(\"duplicateShortcut\");\r\n                        if (!$that.parent().hasClass(\"duplicateShortcut\")) $that.parent().addClass(\"duplicateShortcut\");\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        \r\n        if (duplicate || invalid)\r\n        {\r\n            $keyboardList.addClass(\"atLeastOneInvalidOrDuplicateShortcut\");\r\n\r\n            if (focusedInputIsInvalid || focusedInputIsDuplicate)\r\n            {\r\n                if (wasAlert)\r\n                    alertInvalidKeyboard.setAttribute(\"aria-live\", \"polite\");\r\n                else\r\n                    alertInvalidKeyboard.setAttribute(\"role\", \"alert\"); //alertInvalidKeyboard.setAttribute(\"aria-live\", \"assertive\");\r\n                                \r\n                alertInvalidKeyboard.setAttribute(\"aria-atomic\", \"true\");\r\n            \r\n                var txt = document.createTextNode(focusedInputIsInvalid ? Strings.i18n_invalid_keyboard_shortcut : Strings.i18n_duplicate_keyboard_shortcut);\r\n                alertInvalidKeyboard.appendChild(txt);\r\n            \r\n                //alertInvalidKeyboard.style.clip = \"auto\";\r\n                \r\n                alertInvalidKeyboard.style.visibility = \"hidden\";\r\n                alertInvalidKeyboard.style.visibility = \"visible\";\r\n            }\r\n        }\r\n    };\r\n    \r\n    var checkKeyboardShortcut = function($input, typing)\r\n    {\r\n        $input.parent().removeClass(\"invalidShortcut\");\r\n        $input.attr(\"data-val\", $input.val());\r\n        \r\n        var current = $input.val().toLowerCase().trim();\r\n        \r\n        var shift = false;\r\n        var ctrl = false;\r\n        var alt = false;\r\n        \r\n        if (current.indexOf(\"shift\") >= 0) shift = true;\r\n        if (current.indexOf(\"ctrl\") >= 0) ctrl = true;\r\n        if (current.indexOf(\"alt\") >= 0) alt = true;\r\n        \r\n        var hasPlus = current.lastIndexOf(\"+\") === current.length - 1;\r\n        \r\n        current = current.replace(/shift/g, '');\r\n        current = current.replace(/ctrl/g, '');\r\n        current = current.replace(/alt/g, '');\r\n        current = current.replace(/\\+/g, '');\r\n        current = current.replace(/\\s/g, '');\r\n        current = current.trim();\r\n        \r\n        if (hasPlus)\r\n        {\r\n            current = current + \"+\";\r\n        }\r\n        \r\n        if (current.match(/^[0-9A-Za-z]$/) || current.match(/^backspace$/) || current.match(/^space$/) || current.match(/^return$/) || current.match(/^enter$/) || current.match(/^left$/) || current.match(/^right$/) || current.match(/^up$/) || current.match(/^down$/))\r\n        {\r\n            var normalised = (shift?\"shift + \":\"\") + (ctrl?\"ctrl + \":\"\") + (alt?\"alt + \":\"\") + current;\r\n            $input.attr(\"data-val\", normalised);\r\n            if (!typing) $input.val(normalised);\r\n        }\r\n        else\r\n        {\r\n            $input.parent().addClass(\"invalidShortcut\");\r\n        }\r\n    };\r\n    \r\n    var initKeyboardList = function()\r\n    {\r\n        var $keyboardList = $(\"#keyboard-list\");\r\n    \r\n        $keyboardList.empty();\r\n        \r\n        $keyboardList.append(KeyboardItem({strings: Strings, id: \"TOP\" }));\r\n        \r\n        for (prop in Keyboard)\r\n        {\r\n            if (!Keyboard.hasOwnProperty(prop)) continue;\r\n\r\n            if (typeof Keyboard[prop] !== 'string') continue;\r\n\r\n            $keyboardList.append(KeyboardItem({strings: Strings, keyboard: Keyboard, name: prop, shortcut: Keyboard[prop], i18n: Keyboard.i18n[prop], def: Keyboard.defaultOptions[prop] }));\r\n        }\r\n\r\n        $keyboardList.append(KeyboardItem({strings: Strings, id: \"BOTTOM\" }));\r\n        \r\n        checkKeyboardShortcuts();\r\n        \r\n        var _previousInputVal = undefined;\r\n        \r\n        $(\".keyboardInput\").on(\"blur\",\r\n        function(e)\r\n        {\r\n            var $that = $(this);\r\n            _previousInputVal = undefined;\r\n            checkKeyboardShortcuts();\r\n        });\r\n        \r\n        $(\".keyboardInput\").on(\"focus\",\r\n        function(e)\r\n        {\r\n            var $that = $(this);\r\n            checkKeyboardShortcuts($that, true);\r\n        });\r\n\r\n        var debouncedKeyboardValidator = _.bind(_.debounce(checkKeyboardShortcuts, 700), this);\r\n        \r\n        $(\".keyboardInput\").on(\"keyup\", function(){\r\n            var $that = $(this);\r\n            var val = $that.val();\r\n            if (val !== _previousInputVal)\r\n            {\r\n                debouncedKeyboardValidator($that, true);\r\n            }\r\n            _previousInputVal = val;\r\n        });\r\n         \r\n        // KEYSTROKE CAPTURE DOES NOT WORK, BECAUSE HTML ACCESSKEYS GET IN THE WAY (e.g. CTRL ALT M => play audio)\r\n        // var oldScope = undefined;\r\n        // $(\".captureKeyboardShortcut\").on(\"focus\",\r\n        // function(e)\r\n        // {\r\n        //     oldScope = key.getScope();\r\n        //     key.setScope(\"captureKeyboardShortcut\");\r\n        // });\r\n        // $(\".captureKeyboardShortcut\").on(\"blur\",\r\n        // function(e)\r\n        // {\r\n        //     if (oldScope) key.setScope(oldScope);\r\n        // });\r\n        // $(\".captureKeyboardShortcut\").on(\"keydown\",\r\n        // //document.addEventListener('keydown',\r\n        // function()\r\n        // {\r\n        //     // var clazz = (e.sourceElement || e.target).getAttribute(\"class\");\r\n        //     // if (!clazz || clazz.indexOf(\"captureKeyboardShortcut\") < 0) return;\r\n        //     \r\n        //     //str.charCodeAt(0);\r\n        //     console.log(key.shift);\r\n        //     console.log(key.control);\r\n        //     console.log(key.alt);\r\n        //     console.log(key.command);\r\n        //     console.log(key.getPressedKeyCodes());\r\n        //     \r\n        //     var keys = key.getPressedKeyCodes();\r\n        //     if (keys && keys.length) keys = keys[0];\r\n        // \r\n        //     var keystroke = (key.shift ? \"shift+\" : \"\") + (key.control ? \"ctrl+\" : \"\") + (key.alt ? \"alt+\" : \"\") + (key.command ? \"command+\" : \"\") + keys;\r\n        // \r\n        //     $that = $(this);\r\n        //     var id = $that.attr(\"data-key\");\r\n        //     $input = $(\"input#\"+id);\r\n        //     $input.val(keystroke);\r\n        // \r\n        //     // e.preventDefault();\r\n        //     // e.stopPropagation();\r\n        //     // return false;\r\n        // });\r\n\r\n        $(\".resetKey\").on(\"click\", function()\r\n        {\r\n            $that = $(this);\r\n            var id = $that.attr(\"data-key\");\r\n            if (id)\r\n            {\r\n                var $input = $(\"input#\"+id);\r\n                \r\n                //$input.val($input.attr(\"placeholder\"));\r\n                $input.val(Keyboard.defaultOptions[id]);\r\n            }\r\n            else\r\n            {\r\n                //$(\".resetKey[data-key]\").trigger(\"click\");\r\n                $(\".resetKey[data-key]\").each(function()\r\n                {\r\n                    var $self = $(this);\r\n                    var id = $self.attr(\"data-key\");\r\n                    if (id)\r\n                    {\r\n                        var $input = $(\"input#\"+id);\r\n                \r\n                        //$input.val($input.attr(\"placeholder\"));\r\n                        $input.val(Keyboard.defaultOptions[id]);\r\n                    }\r\n                });\r\n            }\r\n\r\n            checkKeyboardShortcuts();\r\n        });\r\n    };\r\n    \r\n    var saveKeys = function()\r\n    {\r\n        var atLeastOneChanged = false;\r\n        var keys = {};\r\n        \r\n        checkKeyboardShortcuts();\r\n        $(\".keyboardInput\").each(function()\r\n        {\r\n            var $that = $(this);\r\n            \r\n            var original = $that.attr(\"placeholder\");\r\n            var id = $that.attr(\"id\");\r\n            \r\n            var val = $that.attr(\"data-val\");\r\n            //var valShown = $that.val();\r\n\r\n            if ($that.parent().hasClass(\"invalidShortcut\") || $that.parent().hasClass(\"duplicateShortcut\"))\r\n            {\r\n                // if (original === val) return true; // continue (effectively resets to the default valid value)\r\n                val = original;\r\n            }\r\n            \r\n            if (!val.length) return true; // continue\r\n\r\n            val = val.toLowerCase();\r\n\r\n            if (original !== val) atLeastOneChanged = true;\r\n\r\n            if (val !== Keyboard.defaultOptions[id])\r\n            {\r\n                keys[id] = val;\r\n            }\r\n        });\r\n        if (atLeastOneChanged)\r\n        {\r\n            // TODO: anything more elegant than alert() ?\r\n            //alert(Strings.i18n_keyboard_reload);\r\n            \r\n            Dialogs.showModalMessage(\"Readium - \" + Strings.i18n_keyboard_shortcuts, Strings.i18n_keyboard_reload);\r\n        }\r\n        \r\n        return keys;\r\n    };\r\n\r\n\treturn {\r\n\t\tinitKeyboardList : initKeyboardList,\r\n        saveKeys : saveKeys\r\n\t}\r\n});\n",
    "define('ReaderSettingsDialog',['hgn!templates/settings-dialog.html', 'ReaderSettingsDialog_Keyboard', 'i18n/Strings', 'Dialogs', 'storage/Settings', 'Keyboard'], function(SettingsDialog, KeyboardSettings, Strings, Dialogs, Settings, Keyboard){\r\n\tvar defaultSettings = {\r\n        fontSize: 100,\r\n        syntheticSpread: \"auto\",\r\n        scroll: \"auto\",\r\n        columnGap: 60\r\n    }\r\n    \r\n    var getBookStyles = function(theme){\r\n        var isAuthorTheme = theme === \"author-theme\";\r\n    \tvar $previewText = $('.preview-text');\r\n    \tsetPreviewTheme($previewText, theme);\r\n    \tvar previewStyle = window.getComputedStyle($previewText[0]);\r\n    \tvar bookStyles = [{selector: 'body', declarations: {\r\n            backgroundColor: isAuthorTheme ? \"\" : previewStyle.backgroundColor,\r\n            color: isAuthorTheme ? \"\" : previewStyle.color\r\n        }}];\r\n        return bookStyles;\r\n    }\r\n    var setPreviewTheme = function($previewText, newTheme){\r\n        var previewTheme = $previewText.attr('data-theme');\r\n        $previewText.removeClass(previewTheme);\r\n        $previewText.addClass(newTheme);\r\n        $previewText.attr('data-theme', newTheme);\r\n    }\r\n    \r\n    var updateReader = function(reader, readerSettings){\r\n        reader.updateSettings(readerSettings); // triggers on pagination changed\r\n\r\n        if (readerSettings.theme){\r\n            //$(\"html\").addClass(\"_\" + readerSettings.theme);\r\n            $(\"html\").attr(\"data-theme\", readerSettings.theme);\r\n            \r\n            var bookStyles = getBookStyles(readerSettings.theme);\r\n            reader.setBookStyles(bookStyles);\r\n            $('#reading-area').css(bookStyles[0].declarations);\r\n        }\r\n    }\r\n    \r\n    var updateSliderLabels = function($slider, val, txt, label)\r\n    {\r\n        $slider.attr(\"aria-valuenow\", val+\"\");\r\n        $slider.attr(\"aria-value-now\", val+\"\");\r\n        \r\n        $slider.attr(\"aria-valuetext\", txt+\"\");\r\n        $slider.attr(\"aria-value-text\", txt+\"\");\r\n        \r\n        $slider.attr(\"title\", label + \" \" + txt);\r\n        $slider.attr(\"aria-label\", label + \" \" + txt);\r\n    };\r\n\r\n\tvar initDialog = function(reader){\r\n\t\t$('#app-container').append(SettingsDialog({strings: Strings, dialogs: Dialogs, keyboard: Keyboard}));\r\n\r\n\t\t$previewText = $('.preview-text');\r\n        $('.theme-option').on('click', function(){\r\n            var newTheme = $(this).attr('data-theme');\r\n            setPreviewTheme($previewText, newTheme);\r\n        });\r\n        \r\n        var $marginSlider = $(\"#margin-size-input\");\r\n        $marginSlider.on(\"change\",\r\n        function() {\r\n            var val = $marginSlider.val();\r\n            \r\n            updateSliderLabels($marginSlider, val, val + \"px\", Strings.i18n_margins);\r\n        }\r\n        );\r\n        \r\n        var $fontSizeSlider = $(\"#font-size-input\");\r\n        $fontSizeSlider.on('change', function(){\r\n            var fontSize = $fontSizeSlider.val();\r\n            \r\n            $previewText.css({fontSize: (fontSize/100) + 'em'});\r\n            \r\n            updateSliderLabels($fontSizeSlider, fontSize, fontSize + '%', Strings.i18n_font_size);\r\n        });\r\n\r\n        $('#tab-butt-main').on('click', function(){\r\n            $(\"#tab-keyboard\").attr('aria-expanded', \"false\");\r\n            $(\"#tab-main\").attr('aria-expanded', \"true\");\r\n        });\r\n        $('#tab-butt-keys').on('click', function(){\r\n            $(\"#tab-main\").attr('aria-expanded', \"false\");\r\n            $(\"#tab-keyboard\").attr('aria-expanded', \"true\");\r\n        });\r\n        $('#buttSave').on('keydown',function(evt) {\r\n            if(evt.which === 9 && !(evt.shiftKey | evt.ctrlKey | evt.metaKey | evt.altKey)) { // TAB pressed\r\n              evt.preventDefault();\r\n              $('#closeSettingsCross').focus();\r\n            }\r\n        });\r\n        $('#closeSettingsCross').on('keydown',function(evt) {\r\n            if(evt.which === 9 && evt.shiftKey) { // shift-TAB pressed\r\n              evt.preventDefault();\r\n              $('#buttSave').focus();\r\n            }\r\n        });\r\n        \r\n        $('#settings-dialog').on('hide.bs.modal', function(){ // IMPORTANT: not \"hidden.bs.modal\"!! (because .off() in\r\n        \r\n            // Safety: \"save\" button click\r\n            setTimeout(function(){\r\n                $(\"#keyboard-list\").empty();\r\n            }, 500);\r\n        });\r\n        \r\n        $('#settings-dialog').on('show.bs.modal', function(){ // IMPORTANT: not \"shown.bs.modal\"!! (because .off() in library vs. reader context)\r\n\r\n            $('#tab-butt-main').trigger(\"click\");\r\n            KeyboardSettings.initKeyboardList();\r\n\r\n            setTimeout(function(){ $('#closeSettingsCross')[0].focus(); }, 1000); //tab-butt-main\r\n        \r\n            Settings.get('reader', function(readerSettings){\r\n                readerSettings = readerSettings || defaultSettings;\r\n                for (prop in defaultSettings)\r\n                {\r\n                    if (defaultSettings.hasOwnProperty(prop) && !readerSettings.hasOwnProperty(prop) && !readerSettings[prop])\r\n                    {\r\n                        readerSettings[prop] = defaultSettings[prop];\r\n                    }\r\n                }\r\n\r\n                $fontSizeSlider.val(readerSettings.fontSize);\r\n                updateSliderLabels($fontSizeSlider, readerSettings.fontSize, readerSettings.fontSize + '%', Strings.i18n_font_size);\r\n                \r\n                \r\n                $marginSlider.val(readerSettings.columnGap);\r\n                updateSliderLabels($marginSlider, readerSettings.columnGap, readerSettings.columnGap + \"px\", Strings.i18n_margins);\r\n\r\n                if (readerSettings.syntheticSpread == \"double\"){\r\n                    $('#two-up-option input').prop('checked', true);\r\n                }\r\n                else if (readerSettings.syntheticSpread == \"single\"){\r\n                    $('#one-up-option input').prop('checked', true);\r\n                }\r\n                else {\r\n                    $('#spread-default-option input').prop('checked', true);\r\n                }\r\n                \r\n                if(readerSettings.scroll == \"scroll-doc\") {\r\n                    $('#scroll-doc-option input').prop('checked', true);\r\n                }\r\n                else if(readerSettings.scroll == \"scroll-continuous\") {\r\n                    $('#scroll-continuous-option input').prop('checked', true);\r\n                }\r\n                else {\r\n                    $('#scroll-default-option input').prop('checked', true);\r\n                }\r\n                \r\n                if (readerSettings.pageTransition === 0)\r\n                {\r\n                    $('#pageTransition-1-option input').prop('checked', true);\r\n                }\r\n                else if (readerSettings.pageTransition === 1)\r\n                {\r\n                    $('#pageTransition-2-option input').prop('checked', true);\r\n                }\r\n                else if (readerSettings.pageTransition === 2)\r\n                {\r\n                    $('#pageTransition-3-option input').prop('checked', true);\r\n                }\r\n                else if (readerSettings.pageTransition === 3)\r\n                {\r\n                    $('#pageTransition-4-option input').prop('checked', true);\r\n                }\r\n                else\r\n                {\r\n                    $('#pageTransition-none-option input').prop('checked', true);\r\n                }\r\n                \r\n                if (readerSettings.theme){\r\n                    setPreviewTheme($previewText, readerSettings.theme);\r\n                }\r\n                \r\n                $previewText.css({fontSize: (readerSettings.fontSize/100) + 'em'});\r\n            });\r\n        });\r\n\r\n        var save = function(){\r\n            \r\n            var readerSettings = {\r\n                fontSize: Number($fontSizeSlider.val()),\r\n                syntheticSpread: \"auto\",\r\n                columnGap: Number($marginSlider.val()),\r\n                scroll: \"auto\"\r\n            };\r\n\r\n            if($('#scroll-doc-option input').prop('checked')) {\r\n                readerSettings.scroll = \"scroll-doc\";\r\n            }\r\n            else if($('#scroll-continuous-option input').prop('checked')) {\r\n                readerSettings.scroll = \"scroll-continuous\";\r\n            }\r\n\r\n            if($('#two-up-option input').prop('checked')) {\r\n                readerSettings.syntheticSpread = \"double\";\r\n            }\r\n            else if($('#one-up-option input').prop('checked')) {\r\n                readerSettings.syntheticSpread = \"single\";\r\n            }\r\n\r\n            if($('#pageTransition-1-option input').prop('checked')) {\r\n                readerSettings.pageTransition = 0;\r\n            } else if($('#pageTransition-2-option input').prop('checked')) {\r\n                readerSettings.pageTransition = 1;\r\n            } else if($('#pageTransition-3-option input').prop('checked')) {\r\n                readerSettings.pageTransition = 2;\r\n            } else if($('#pageTransition-4-option input').prop('checked')) {\r\n                readerSettings.pageTransition = 3;\r\n            } else {\r\n                readerSettings.pageTransition = -1;\r\n            }\r\n\r\n            readerSettings.theme = $previewText.attr('data-theme');\r\n            if (reader){\r\n               updateReader(reader, readerSettings);\r\n\t        }\r\n\r\n\r\n            var keys = KeyboardSettings.saveKeys();\r\n            \r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                for (prop in readerSettings)\r\n                {\r\n                    if (readerSettings.hasOwnProperty(prop))\r\n                    {\r\n                        json[prop] = readerSettings[prop];\r\n                    }\r\n                }\r\n\r\n                json.keyboard = keys;\r\n                // if (keys)\r\n                // {\r\n                //     for (prop in keys)\r\n                //     {\r\n                //         if (keys.hasOwnProperty(prop))\r\n                //         {\r\n                //             json.keyboard[prop] = keys[prop];\r\n                //         }\r\n                //     }\r\n                // }\r\n\r\n                Settings.put('reader', json);\r\n                \r\n                setTimeout(function()\r\n                {\r\n                    Keyboard.applySettings(json);\r\n                }, 100);\r\n            });\r\n        };\r\n        \r\n        Keyboard.on(Keyboard.NightTheme, 'settings', function(){\r\n\r\n                Settings.get('reader', function(json)\r\n                {\r\n                    if (!json)\r\n                    {\r\n                        json = {};\r\n                    }\r\n\r\n                    var isNight = json.theme === \"night-theme\";\r\n                    json.theme = isNight ? \"author-theme\" : \"night-theme\";\r\n                    \r\n                    Settings.put('reader', json);\r\n\r\n                    if (reader) updateReader(reader, json);\r\n                });\r\n        });\r\n        \r\n        Keyboard.on(Keyboard.SettingsModalSave, 'settings', function() {\r\n            save();\r\n            $('#settings-dialog').modal('hide');\r\n        });\r\n\r\n        Keyboard.on(Keyboard.SettingsModalClose, 'settings', function() {\r\n            $('#settings-dialog').modal('hide');\r\n        });\r\n        \r\n        $('#settings-dialog .btn-primary').on('click', save);\r\n\t}\r\n\r\n\treturn {\r\n\t\tinitDialog : initDialog,\r\n\t\tupdateReader : updateReader,\r\n\t\tdefaultSettings : defaultSettings\r\n\t}\r\n});\r\n\n",
    "\ndefine(\"hgn!templates/about-dialog.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"modal fade\\\" id=\\\"about-dialog\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-label=\\\"\");t.b(t.t(t.d(\"strings.about\",c,p,0)));t.b(\"\\\" aria-hidden=\\\"true\\\">\\r\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"modal-dialog\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"modal-content\\\">\\r\");t.b(\"\\n\" + i);t.b(\"      <div class=\\\"modal-body\\\">\\r\");t.b(\"\\n\" + i);t.b(\"      \t<div class=\\\"splash-logo\\\">\\r\");t.b(\"\\n\" + i);t.b(\"      \t\t<img src=\\\"images/about_readium_logo.png\\\" alt=\\\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"      \t</div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"      \t<div class=\\\"about-message\\\">\\r\");t.b(\"\\n\" + i);t.b(\"\t      \t<span>\");t.b(t.t(t.d(\"strings.i18n_html_readium_tm_a_project\",c,p,0)));t.b(\"</span>\\r\");t.b(\"\\n\" + i);t.b(\"      \t</div>\\r\");t.b(\"\\n\" + i);t.b(\"      \t<div>\\r\");t.b(\"\\n\" + i);t.b(\"\t\t\t     <img src=\\\"images/partner_logos.png\\\">\\r\");t.b(\"\\n\" + i);t.b(\"\t\t    </div>\\r\");t.b(\"\\n\" + i);t.b(\"        <h4 style=\\\"color:#111155\\\">\");t.b(t.t(t.d(\"strings.gethelp\",c,p,0)));t.b(\"</h4>\\r\");t.b(\"\\n\" + i);t.b(\"        <div class=\\\"version\\\">\");t.b(t.v(t.d(\"viewer.chromeVersion\",c,p,0)));t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"        <div class=\\\"build-date\\\">\");t.b(t.v(t.d(\"viewer.dateTimeString\",c,p,0)));t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"        <div class=\\\"version-details\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <div><a target=\\\"_blank\\\" href=\\\"https://github.com/readium/readium-js-viewer/tree/\");t.b(t.v(t.d(\"viewer.sha\",c,p,0)));t.b(\"\\\">readium-js-viewer@\");t.b(t.v(t.d(\"viewer.sha\",c,p,0)));t.b(\"</a>\");if(!t.s(t.d(\"viewer.clean\",c,p,1),c,p,1,0,0,\"\")){t.b(\"<span class=\\\"local-changes-alert\\\">(with local changes)</span>\");};t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"          <div><a target=\\\"_blank\\\" href=\\\"https://github.com/readium/readium-js/tree/\");t.b(t.v(t.d(\"readium.sha\",c,p,0)));t.b(\"\\\">readium-js@\");t.b(t.v(t.d(\"readium.sha\",c,p,0)));t.b(\"</a>\");if(!t.s(t.d(\"readium.clean\",c,p,1),c,p,1,0,0,\"\")){t.b(\"<span class=\\\"local-changes-alert\\\">(with local changes)</span>\");};t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"          <div><a target=\\\"_blank\\\" href=\\\"https://github.com/readium/readium-shared-js/tree/\");t.b(t.v(t.d(\"sharedJs.sha\",c,p,0)));t.b(\"\\\">readium-shared-js@\");t.b(t.v(t.d(\"sharedJs.sha\",c,p,0)));t.b(\"</a>\");if(!t.s(t.d(\"sharedJs.clean\",c,p,1),c,p,1,0,0,\"\")){t.b(\"<span class=\\\"local-changes-alert\\\">(with local changes)</span>\");};t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"          <div><a target=\\\"_blank\\\" href=\\\"https://github.com/readium/readium-cfi-js/tree/\");t.b(t.v(t.d(\"cfiJs.sha\",c,p,0)));t.b(\"\\\">readium-cfi-js@\");t.b(t.v(t.d(\"cfiJs.sha\",c,p,0)));t.b(\"</a>\");if(!t.s(t.d(\"cfiJs.clean\",c,p,1),c,p,1,0,0,\"\")){t.b(\"<span class=\\\"local-changes-alert\\\">(with local changes)</span>\");};t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"        </div>\\r\");t.b(\"\\n\" + i);t.b(\"      </div>\\r\");t.b(\"\\n\" + i);t.b(\"    </div><!-- /.modal-content -->\\r\");t.b(\"\\n\" + i);t.b(\"  </div><!-- /.modal-dialog -->\\r\");t.b(\"\\n\" + i);t.b(\"</div><!-- /.modal -->\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "\ndefine(\"hgn!templates/reader-navbar.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"btn-group navbar-left\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <!-- <button type=\\\"button\\\" class=\\\"btn btn-default icon icon-show-hide\\\"></button>  -->\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"aboutButt1\\\" tabindex=\\\"1\\\" type=\\\"button\\\" class=\\\"btn icon-logo\\\" data-toggle=\\\"modal\\\" data-target=\\\"#about-dialog\\\" title=\\\"\");t.b(t.v(t.d(\"strings.about\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.about\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <span class=\\\"icon-readium\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"    </button>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttShowToolBar\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:1px;height=1px;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.ToolbarShow\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.ToolbarShow\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.ToolbarShow\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttHideToolBar\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.ToolbarHide\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.ToolbarHide\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.ToolbarHide\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttNightTheme\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.NightTheme\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.NightTheme\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.NightTheme\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttRatePlus\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateIncrease\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateIncrease\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysRateIncrease\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttRateMinus\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateDecrease\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateDecrease\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysRateDecrease\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttVolumePlus\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeIncrease\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeIncrease\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysVolumeIncrease\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"buttVolumeMinus\\\" style=\\\"opacity:0;visibility:hidden;border:0;outline:0;padding:0;margin:0;width:0;height=0;\\\" tabindex=\\\"-1\\\" aria-hidden=\\\"true\\\" type=\\\"button\\\" title=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeDecrease\",c,p,0)));t.b(\"\\\" aria-label=\\\"access key \");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeDecrease\",c,p,0)));t.b(\"\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysVolumeDecrease\",c,p,0)));t.b(\"\\\"> </button>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"btn-group navbar-right\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"    <div id=\\\"backgroundAudioTrack-div\\\">\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"backgroundAudioTrack-button-play\\\" type=\\\"button\\\" class=\\\"btn icon-play-audio-background\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_play_background\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.BackgroundAudioPlayPause\",c,p,0)));t.b(\"]\\\"  aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_play_background\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.BackgroundAudioPlayPause\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.BackgroundAudioPlayPause\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-music\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"backgroundAudioTrack-button-pause\\\" type=\\\"button\\\" class=\\\"btn icon-pause-audio-background\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_pause_background\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.BackgroundAudioPlayPause\",c,p,0)));t.b(\"]\\\"  aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_pause_background\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.BackgroundAudioPlayPause\",c,p,0)));t.b(\"]\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-volume-up\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"    </div>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <!--Audioplayer Controls START-->\\r\");t.b(\"\\n\" + i);t.b(\"    <div id=\\\"audioplayer\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-collapse-audio\\\" type=\\\"button\\\" class=\\\"btn icon-collapse-audio\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_collapse\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysAdvancedPanelShowHide\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_collapse\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysAdvancedPanelShowHide\",c,p,0)));t.b(\"]\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-open\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-expand-audio\\\" type=\\\"button\\\" class=\\\"btn icon-expand-audio\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_expand\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysAdvancedPanelShowHide\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_expand\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysAdvancedPanelShowHide\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysAdvancedPanelShowHide\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-save\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-previous-audio\\\" type=\\\"button\\\" class=\\\"btn icon-previous-audio\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_previous\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysPrevious\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_previous\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysPrevious\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysPrevious\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-backward\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-play-audio\\\" type=\\\"button\\\" class=\\\"btn icon-play-audio\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_play\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysPlayPause\",c,p,0)));t.b(\"]\\\"  aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_play\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysPlayPause\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysPlayPause\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-play\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-pause-audio\\\" type=\\\"button\\\" class=\\\"btn icon-pause-audio\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_pause\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysPlayPause\",c,p,0)));t.b(\"]\\\"  aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_pause\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysPlayPause\",c,p,0)));t.b(\"]\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-pause\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-next-audio\\\" type=\\\"button\\\" class=\\\"btn icon-next-audio\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_next\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysNext\",c,p,0)));t.b(\"]\\\" arial-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_next\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysNext\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysNext\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-forward\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <div id=\\\"audioResponsive\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-audio-volume-mute\\\" type=\\\"button\\\" class=\\\"btn icon-audio-volume-mute\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_mute\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeMuteToggle\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_mute\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeMuteToggle\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysVolumeMuteToggle\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-volume-up\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-audio-volume-unmute\\\" type=\\\"button\\\" class=\\\"btn icon-audio-volume-unmute\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_unmute\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeMuteToggle\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_unmute\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeMuteToggle\",c,p,0)));t.b(\"]\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <span class=\\\"glyphicon glyphicon-volume-off\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"        <input tabindex=\\\"1\\\" id=\\\"volume-range-slider\\\" type=\\\"range\\\" role=\\\"slider\\\" min=\\\"0\\\" aria-value-min=\\\"0\\\" aria-valuemin=\\\"0\\\" max=\\\"100\\\" aria-value-max=\\\"100\\\" aria-valuemax=\\\"100\\\" value=\\\"100\\\" aria-valuenow=\\\"100\\\" aria-value-now=\\\"100\\\" aria-valuetext=\\\"100%\\\" aria-value-text=\\\"100%\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_volume\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeDecrease\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeIncrease\",c,p,0)));t.b(\"]\\\" arial-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_volume\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeDecrease\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysVolumeIncrease\",c,p,0)));t.b(\"]\\\" />\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" tabindex=\\\"1\\\" id=\\\"btn-touch-audio-enable\\\" type=\\\"button\\\" class=\\\"btn icon-touch-audio-enable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_touch_enable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_touch_enable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"            <span id=\\\"icon-touch-off-hand\\\" class=\\\"glyphicon glyphicon-hand-up\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <span id=\\\"icon-touch-off\\\" class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <button tabindex=\\\"1\\\" id=\\\"btn-touch-audio-disable\\\" type=\\\"button\\\" class=\\\"btn icon-touch-audio-disable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_touch_disable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_touch_disable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"            <span id=\\\"icon-touch-on-hand\\\" class=\\\"glyphicon glyphicon-hand-up\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <span id=\\\"icon-touch-on\\\" class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"        </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        \\r\");t.b(\"\\n\" + i);t.b(\"    </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"        <div id=\\\"audioExpanded\\\" role=\\\"alert\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <input tabindex=\\\"1\\\" id=\\\"time-range-slider\\\" type=\\\"range\\\" role=\\\"slider\\\" min=\\\"0\\\" aria-value-min=\\\"0\\\" aria-valuemin=\\\"0\\\" max=\\\"100\\\" aria-value-max=\\\"100\\\" aria-valuemax=\\\"100\\\" value=\\\"0\\\" aria-valuenow=\\\"0\\\" aria-value-now=\\\"0\\\" aria-valuetext=\\\"0%\\\" aria-value-text=\\\"0%\\\" data-value=\\\"0\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_time\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_time\",c,p,0)));t.b(\"\\\"  />\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-audio-rate\\\" type=\\\"button\\\" class=\\\"btn icon-rate-audio\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_rate_reset\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateReset\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_rate_reset\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateReset\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysRateReset\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <span class=\\\"glyphicon glyphicon-play-circle\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <input tabindex=\\\"1\\\" id=\\\"rate-range-slider\\\" type=\\\"range\\\" role=\\\"slider\\\" min=\\\"0\\\" aria-value-min=\\\"0\\\" aria-valuemin=\\\"0\\\" max=\\\"4\\\" aria-value-max=\\\"4\\\" aria-valuemax=\\\"4\\\" value=\\\"1\\\" aria-valuenow=\\\"1\\\" aria-value-now=\\\"1\\\" aria-valuetext=\\\"1x\\\" aria-value-text=\\\"1x\\\" step=\\\"0.5\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_rate\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateDecrease\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateIncrease\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_rate\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateDecrease\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysRateIncrease\",c,p,0)));t.b(\"]\\\" />\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <span aria-hidden=\\\"true\\\" tabindex=\\\"-1\\\" id=\\\"rate-range-slider-label\\\">1x</span>\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <form action=\\\"\\\" id=\\\"mo-sync-form\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <input tabindex=\\\"1\\\" type=\\\"radio\\\" name=\\\"mo-sync\\\" value=\\\"default\\\" id=\\\"mo-sync-default\\\" class=\\\"mo-sync\\\" checked=\\\"checked\\\"  title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_default\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_default\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"> </input>\\r\");t.b(\"\\n\" + i);t.b(\"                <label tabindex=\\\"1\\\" for=\\\"mo-sync-default\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_default\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"><span aria-hidden=\\\"true\\\">&#8855;</span></label>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                <input tabindex=\\\"1\\\" type=\\\"radio\\\" name=\\\"mo-sync\\\" value=\\\"word\\\" id=\\\"mo-sync-word\\\" class=\\\"mo-sync\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_word\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_word\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"> </input>\\r\");t.b(\"\\n\" + i);t.b(\"                <label tabindex=\\\"1\\\" for=\\\"mo-sync-word\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_word\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"><span aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.i18n_audio_sync_word\",c,p,0)));t.b(\"</span></label>\\r\");t.b(\"\\n\" + i);t.b(\"                \\r\");t.b(\"\\n\" + i);t.b(\"                <input tabindex=\\\"1\\\" type=\\\"radio\\\" name=\\\"mo-sync\\\" value=\\\"sentence\\\" id=\\\"mo-sync-sentence\\\" class=\\\"mo-sync\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_sentence\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_sentence\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"> </input>\\r\");t.b(\"\\n\" + i);t.b(\"                <label tabindex=\\\"1\\\" for=\\\"mo-sync-sentence\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_sentence\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"><span aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.i18n_audio_sync_sentence\",c,p,0)));t.b(\"</span></label>\\r\");t.b(\"\\n\" + i);t.b(\"                \\r\");t.b(\"\\n\" + i);t.b(\"                <input tabindex=\\\"1\\\" type=\\\"radio\\\" name=\\\"mo-sync\\\" value=\\\"paragraph\\\" id=\\\"mo-sync-paragraph\\\" class=\\\"mo-sync\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_paragraph\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_paragraph\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"> </input>\\r\");t.b(\"\\n\" + i);t.b(\"                <label tabindex=\\\"1\\\" for=\\\"mo-sync-paragraph\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_sync_paragraph\",c,p,0)));t.b(\" \");t.b(t.v(t.d(\"strings.i18n_audio_sync\",c,p,0)));t.b(\"\\\"><span aria-hidden=\\\"true\\\">\");t.b(t.v(t.d(\"strings.i18n_audio_sync_paragraph\",c,p,0)));t.b(\"</span></label>\\r\");t.b(\"\\n\" + i);t.b(\"            </form>\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <div id=\\\"audio-block\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <div id=\\\"mo-highlighters\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-0\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": \");t.b(t.v(t.d(\"strings.i18n_audio_highlight_default\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": \");t.b(t.v(t.d(\"strings.i18n_audio_highlight_default\",c,p,0)));t.b(\"\\\" aria-selected=\\\"true\\\" data-mohighlight=\\\"0\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                    \");t.b(t.v(t.d(\"strings.i18n_audio_highlight_default\",c,p,0)));t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-1\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #1\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #1\\\" data-mohighlight=\\\"1\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-2\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #2\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #2\\\" data-mohighlight=\\\"2\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-3\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #3\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #3\\\" data-mohighlight=\\\"3\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-4\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #4\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #4\\\" data-mohighlight=\\\"4\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-5\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #5\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #5\\\" data-mohighlight=\\\"5\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"                <button tabindex=\\\"1\\\" id=\\\"mo-highlighter-6\\\" type=\\\"button\\\" class=\\\"btn btn-mo-highlighter\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #6\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_highlight\",c,p,0)));t.b(\": #6\\\" data-mohighlight=\\\"6\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"                </button>\\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-playback-scroll-enable\\\" type=\\\"button\\\" class=\\\"btn icon-playback-scroll-enable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_playback_scroll_enable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_playback_scroll_enable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                <span id=\\\"icon-playback-scroll-off\\\" class=\\\"glyphicon glyphicon-sort-by-attributes\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-playback-scroll-disable\\\" type=\\\"button\\\" class=\\\"btn icon-playback-scroll-disable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_playback_scroll_disable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_playback_scroll_disable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                <span id=\\\"icon-playback-scroll-on\\\" class=\\\"glyphicon glyphicon-sort\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-auto-page-turn-enable\\\" type=\\\"button\\\" class=\\\"btn icon-auto-page-turn-enable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_auto_page_turn_enable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_auto_page_turn_enable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                <span id=\\\"icon-auto-page-turn-off\\\" class=\\\"glyphicon glyphicon-sound-stereo\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-auto-page-turn-disable\\\" type=\\\"button\\\" class=\\\"btn icon-auto-page-turn-disable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_auto_page_turn_disable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_auto_page_turn_disable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                <span id=\\\"icon-auto-page-turn-on\\\" class=\\\"glyphicon glyphicon-sound-dolby\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-skip-audio-enable\\\" type=\\\"button\\\" class=\\\"btn icon-skip-audio-enable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_skip_enable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_skip_enable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                <span id=\\\"icon-skip-off\\\" class=\\\"glyphicon glyphicon-remove-circle\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-skip-audio-disable\\\" type=\\\"button\\\" class=\\\"btn icon-skip-audio-disable\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_skip_disable\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_skip_disable\",c,p,0)));t.b(\"\\\" >\\r\");t.b(\"\\n\" + i);t.b(\"                <span id=\\\"icon-skip-on\\\" class=\\\"glyphicon glyphicon-ok-circle\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"            <button tabindex=\\\"1\\\" id=\\\"btn-esc-audio\\\" type=\\\"button\\\" class=\\\"btn icon-esc-audio\\\" title=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_esc\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysEscape\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_audio_esc\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.MediaOverlaysEscape\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.MediaOverlaysEscape\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"                <span class=\\\"glyphicon glyphicon-eject\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"            </button>\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            </div>\\r\");t.b(\"\\n\" + i);t.b(\"            \\r\");t.b(\"\\n\" + i);t.b(\"            <!-- div class=\\\"checkbox\\\">\\r\");t.b(\"\\n\" + i);t.b(\"              <label>\\r\");t.b(\"\\n\" + i);t.b(\"                <input type=\\\"checkbox\\\" value=\\\"false\\\"> Skip\\r\");t.b(\"\\n\" + i);t.b(\"              </label>\\r\");t.b(\"\\n\" + i);t.b(\"            </div -->\\r\");t.b(\"\\n\" + i);t.b(\"        </div>\\r\");t.b(\"\\n\" + i);t.b(\"    </div> \\r\");t.b(\"\\n\" + i);t.b(\"    <!--Audioplayer Controls END-->\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"zoom-wrapper dropdown\\\" style=\\\"display:none\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <a tabindex=\\\"1\\\" href=\\\"#\\\" data-toggle=\\\"dropdown\\\"><input tabindex=\\\"1\\\" type=\\\"text\\\" value=\\\"100%\\\" disabled/><span class=\\\"caret\\\"></span></a>\\r\");t.b(\"\\n\" + i);t.b(\"        <ul id=\\\"zoom-menu\\\" class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\r\");t.b(\"\\n\" + i);t.b(\"            <li id=\\\"zoom-custom\\\"><a href=\\\"#\\\" tabindex=\\\"1\\\">Custom <span class=\\\"glyphicon glyphicon-ok\\\"></span></a></li>\\r\");t.b(\"\\n\" + i);t.b(\"            <li id=\\\"zoom-fit-width\\\"><a href=\\\"#\\\" tabindex=\\\"1\\\">Fit Width <span class=\\\"glyphicon glyphicon-ok\\\"></span></a></li>\\r\");t.b(\"\\n\" + i);t.b(\"            <li id=\\\"zoom-fit-screen\\\" class=\\\"active-zoom\\\"><a href=\\\"#\\\" tabindex=\\\"1\\\">Fit Screen <span class=\\\"glyphicon glyphicon-ok\\\"></span></a></li>\\r\");t.b(\"\\n\" + i);t.b(\"        </ul>\\r\");t.b(\"\\n\" + i);t.b(\"    </div>\\r\");t.b(\"\\n\" + i);t.b(\"    <button tabindex=\\\"1\\\" type=\\\"button\\\" class=\\\"btn icon-library\\\" title=\\\"\");t.b(t.v(t.d(\"strings.view_library\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.SwitchToLibrary\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.view_library\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.SwitchToLibrary\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.SwitchToLibrary\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <span class=\\\"glyphicon glyphicon-folder-open\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"    </button>\\r\");t.b(\"\\n\" + i);t.b(\"    <button tabindex=\\\"1\\\" type=\\\"button\\\" class=\\\"btn icon-annotations\\\" title=\\\"\");t.b(t.v(t.d(\"strings.highlight_selection\",c,p,0)));t.b(\"\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.highlight_selection\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"    </button>\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"tocButt\\\" tabindex=\\\"1\\\" tabindex=\\\"1\\\" type=\\\"button\\\" class=\\\"btn icon-toc\\\" title=\\\"\");t.b(t.v(t.d(\"strings.toc\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.TocShowHideToggle\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.toc\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.TocShowHideToggle\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.TocShowHideToggle\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <span class=\\\"glyphicon glyphicon-list\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"    </button>\\r\");t.b(\"\\n\" + i);t.b(\"    <button id=\\\"settbutt1\\\" tabindex=\\\"1\\\" type=\\\"button\\\" class=\\\"btn icon-settings\\\" data-toggle=\\\"modal\\\" data-target=\\\"#settings-dialog\\\" title=\\\"\");t.b(t.v(t.d(\"strings.settings\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.ShowSettingsModal\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.settings\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.ShowSettingsModal\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.ShowSettingsModal\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <span class=\\\"glyphicon glyphicon-cog\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"    </button>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <button tabindex=\\\"1\\\" id=\\\"buttFullScreenToggle\\\" type=\\\"button\\\" class=\\\"btn icon-full-screen\\\" title=\\\"\");t.b(t.v(t.d(\"strings.enter_fullscreen\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.FullScreenToggle\",c,p,0)));t.b(\"]\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.enter_fullscreen\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.FullScreenToggle\",c,p,0)));t.b(\"]\\\" accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.FullScreenToggle\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <span class=\\\"glyphicon glyphicon-resize-full\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"    </button>\\r\");t.b(\"\\n\" + i);t.b(\"    \\r\");t.b(\"\\n\" + i);t.b(\"    <!-- <button type=\\\"button\\\" class=\\\"btn btn-default icon icon-bookmark\\\"></button>-->\\r\");t.b(\"\\n\" + i);t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "\ndefine(\"hgn!templates/reader-body.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div id=\\\"readium-toc-body\\\"\\r\");t.b(\"\\n\" + i);t.b(\"aria-label=\\\"\");t.b(t.v(t.d(\"strings.toc\",c,p,0)));t.b(\"\\\"\\r\");t.b(\"\\n\" + i);t.b(\"role=\\\"navigation\\\"\\r\");t.b(\"\\n\" + i);t.b(\">\\r\");t.b(\"\\n\" + i);t.b(\"</div>\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"<div id=\\\"reading-area\\\" role=\\\"main\\\">  \\r\");t.b(\"\\n\" + i);t.b(\"  <div id=\\\"epub-reader-container\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    <div id=\\\"epub-reader-frame\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    </div>\\r\");t.b(\"\\n\" + i);t.b(\"  </div>\\r\");t.b(\"\\n\" + i);t.b(\"  \\r\");t.b(\"\\n\" + i);t.b(\"  <div id=\\\"readium-page-btns\\\" role=\\\"region\\\" aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_navigation\",c,p,0)));t.b(\"\\\">\\r\");t.b(\"\\n\" + i);t.b(\"  <!-- page left/right buttons inserted here when EPUB is loaded (page progression direction) -->\\r\");t.b(\"\\n\" + i);t.b(\"  </div>\\r\");t.b(\"\\n\" + i);t.b(\"  \\r\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "\ndefine(\"hgn!templates/reader-body-page-btns.html\", [\"hogan\"], function(hogan){  var tmpl = new hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<!-- Left page -->\\r\");t.b(\"\\n\" + i);t.b(\"<button tabindex=\\\"0\\\" id=\\\"left-page-btn\\\" class=\\\"page-switch-overlay-icon\\\" type=\\\"button\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);if(t.s(t.f(\"pageProgressionDirectionIsRTL\",c,p,1),c,p,0,144,402,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"title=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_next\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PagePrevious\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PagePreviousAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_next\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PagePrevious\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PagePreviousAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.PagePreviousAlt\",c,p,0)));t.b(\"\\\"\\r\");t.b(\"\\n\" + i);});c.pop();}t.b(\"\\r\");t.b(\"\\n\" + i);if(!t.s(t.f(\"pageProgressionDirectionIsRTL\",c,p,1),c,p,1,0,0,\"\")){t.b(\"title=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_previous\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PagePrevious\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PagePreviousAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_previous\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PagePrevious\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PagePreviousAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.PagePreviousAlt\",c,p,0)));t.b(\"\\\"\\r\");t.b(\"\\n\" + i);};t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\">\\r\");t.b(\"\\n\" + i);t.b(\"<!-- img aria-hidden=\\\"true\\\" src=\\\"images/pagination1.svg\\\" -->\\r\");t.b(\"\\n\" + i);t.b(\"<span class=\\\"glyphicon glyphicon-chevron-left\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"</button>\\r\");t.b(\"\\n\" + i);t.b(\"  \\r\");t.b(\"\\n\" + i);t.b(\"<!-- Right page -->\\r\");t.b(\"\\n\" + i);t.b(\"<button tabindex=\\\"0\\\" id=\\\"right-page-btn\\\" class=\\\"page-switch-overlay-icon\\\" type=\\\"button\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);if(t.s(t.f(\"pageProgressionDirectionIsRTL\",c,p,1),c,p,0,1079,1325,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"title=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_previous\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PageNext\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PageNextAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_previous\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PageNext\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PageNextAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.PageNextAlt\",c,p,0)));t.b(\"\\\"\\r\");t.b(\"\\n\" + i);});c.pop();}t.b(\"\\r\");t.b(\"\\n\" + i);if(!t.s(t.f(\"pageProgressionDirectionIsRTL\",c,p,1),c,p,1,0,0,\"\")){t.b(\"title=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_next\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PageNext\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PageNextAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"aria-label=\\\"\");t.b(t.v(t.d(\"strings.i18n_page_next\",c,p,0)));t.b(\" [\");t.b(t.v(t.d(\"keyboard.PageNext\",c,p,0)));t.b(\"] / [\");t.b(t.v(t.d(\"keyboard.PageNextAlt\",c,p,0)));t.b(\"]\\\"\\r\");t.b(\"\\n\" + i);t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\"accesskey=\\\"\");t.b(t.v(t.d(\"keyboard.accesskeys.PageNextAlt\",c,p,0)));t.b(\"\\\"\\r\");t.b(\"\\n\" + i);};t.b(\"\\r\");t.b(\"\\n\" + i);t.b(\">\\r\");t.b(\"\\n\" + i);t.b(\"<!-- img aria-hidden=\\\"true\\\" src=\\\"images/pagination1.svg\\\" -->\\r\");t.b(\"\\n\" + i);t.b(\"<span class=\\\"glyphicon glyphicon-chevron-right\\\" aria-hidden=\\\"true\\\"></span>\\r\");t.b(\"\\n\" + i);t.b(\"</button>\\r\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"\", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n\n",
    "define('analytics/Analytics',[],function(){\r\n\treturn{\r\n\t\ttrackView : function(){},\r\n\t\tsendEvent : function(){}\r\n\t}\r\n});\n",
    "/*!\n* screenfull\n* v2.0.0 - 2014-12-22\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\t\tvar valLength;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0, valLength = val.length; i < valLength; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn !!document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn !!document[fn.fullscreenEnabled];\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n\ndefine(\"screenfull\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.screenfull;\n    };\n}(this)));\n\n",
    "\r\ndefine('EpubReaderMediaOverlays',['module','jquery', 'underscore', 'bootstrap', 'Readium', 'Spinner', 'storage/Settings', 'i18n/Strings', 'Dialogs', 'Keyboard'], \r\n        function (module, $, _, bootstrap, Readium, spinner, Settings, Strings, Dialogs, Keyboard) {\r\n\r\n    var init = function(readium) {\r\n        \r\n        readium.reader.on(ReadiumSDK.Events.PAGINATION_CHANGED, function (pageChangeData) {\r\n            // That's after mediaOverlayPlayer.onPageChanged()\r\n\r\n            if (readium.reader.isMediaOverlayAvailable()) {\r\n                $('#audioplayer').show();\r\n            }\r\n            \r\n            if (!pageChangeData.spineItem) return;\r\n            \r\n            var smil = readium.reader.package().media_overlay.getSmilBySpineItem(pageChangeData.spineItem);\r\n\r\n            var atLeastOneIsEnabled = false;\r\n\r\n            var $moSyncWord = $('#mo-sync-word');\r\n            if (!smil || !smil.hasSync(\"word\"))\r\n            {\r\n                $moSyncWord.attr('disabled', \"disabled\");\r\n            }\r\n            else\r\n            {\r\n                atLeastOneIsEnabled = true;\r\n                $moSyncWord.removeAttr('disabled');\r\n            }\r\n            \r\n            var $moSyncSentence = $('#mo-sync-sentence');\r\n            if (!smil || !smil.hasSync(\"sentence\"))\r\n            {\r\n                $moSyncSentence.attr('disabled', \"disabled\");\r\n            }\r\n            else\r\n            {\r\n                atLeastOneIsEnabled = true;\r\n                $moSyncSentence.removeAttr('disabled');\r\n            }\r\n\r\n            var $moSyncParagraph = $('#mo-sync-paragraph');\r\n            if (!smil || !smil.hasSync(\"paragraph\"))\r\n            {\r\n                $moSyncParagraph.attr('disabled', \"disabled\");\r\n            }\r\n            else\r\n            {\r\n                atLeastOneIsEnabled = true;\r\n                $moSyncParagraph.removeAttr('disabled');\r\n            }\r\n            \r\n            var $moSyncDefault = $('#mo-sync-default');\r\n            if (!atLeastOneIsEnabled)\r\n            {\r\n                $moSyncDefault.attr('disabled', \"disabled\");\r\n            }\r\n            else\r\n            {\r\n                $moSyncDefault.removeAttr('disabled');\r\n            }\r\n        });\r\n        \r\n        var $audioPlayer = $('#audioplayer');\r\n\r\n        Settings.get('reader', function(json)\r\n        {\r\n            if (!json)\r\n            {\r\n                json = {};\r\n                \r\n                var settings = readium.reader.viewerSettings();\r\n                \r\n                json.mediaOverlaysSkipSkippables = settings.mediaOverlaysSkipSkippables;\r\n                json.mediaOverlaysAutomaticPageTurn = settings.mediaOverlaysAutomaticPageTurn;\r\n                json.mediaOverlaysEnableClick = settings.mediaOverlaysEnableClick;\r\n                json.mediaOverlaysPreservePlaybackWhenScroll = settings.mediaOverlaysPreservePlaybackWhenScroll;\r\n                \r\n                Settings.put('reader', json);\r\n            }\r\n            \r\n            if (json.mediaOverlaysSkipSkippables) // excludes typeof json.mediaOverlaysSkipSkippables === \"undefined\", so the default is to disable skippability\r\n            {\r\n                $audioPlayer.addClass('skip');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysSkipSkippables: true\r\n                });\r\n            }\r\n            else\r\n            {\r\n                $audioPlayer.removeClass('skip');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysSkipSkippables: false\r\n                });\r\n            }\r\n\r\n            if (json.mediaOverlaysPreservePlaybackWhenScroll)\r\n            {\r\n                $audioPlayer.addClass('playScroll');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysPreservePlaybackWhenScroll: true\r\n                });\r\n            }\r\n            else\r\n            {\r\n                $audioPlayer.removeClass('playScroll');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysPreservePlaybackWhenScroll: false\r\n                });\r\n            }\r\n\r\n            if (json.mediaOverlaysAutomaticPageTurn)\r\n            {\r\n                $audioPlayer.addClass('autoPageTurn');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysAutomaticPageTurn: true\r\n                });\r\n            }\r\n            else\r\n            {\r\n                $audioPlayer.removeClass('autoPageTurn');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysAutomaticPageTurn: false\r\n                });\r\n            }\r\n            \r\n            if (json.mediaOverlaysEnableClick)\r\n            {\r\n                $audioPlayer.removeClass('no-touch');\r\n        \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysEnableClick: true\r\n                });\r\n            }\r\n            else\r\n            {\r\n                $audioPlayer.addClass('no-touch');\r\n                \r\n                readium.reader.updateSettings({\r\n                    doNotUpdateView: true,\r\n                    mediaOverlaysEnableClick: false\r\n                });\r\n            }\r\n        });\r\n        \r\n        var $moSyncDefault = $('#mo-sync-default');\r\n        $moSyncDefault.on(\"click\", function () {\r\n            var wasPlaying = readium.reader.isPlayingMediaOverlay();\r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.pauseMediaOverlay();\r\n            }\r\n\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysSynchronizationGranularity: \"\"\r\n            });\r\n            \r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.playMediaOverlay();\r\n            }\r\n        });\r\n        var $moSyncWord = $('#mo-sync-word');\r\n        $moSyncWord.on(\"click\", function () {\r\n            var wasPlaying = readium.reader.isPlayingMediaOverlay();\r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.pauseMediaOverlay();\r\n            }\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysSynchronizationGranularity: \"word\"\r\n            });\r\n            \r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.playMediaOverlay();\r\n            }\r\n        });\r\n        var $moSyncSentence = $('#mo-sync-sentence');\r\n        $moSyncSentence.on(\"click\", function () {\r\n            var wasPlaying = readium.reader.isPlayingMediaOverlay();\r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.pauseMediaOverlay();\r\n            }\r\n\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysSynchronizationGranularity: \"sentence\"\r\n            });\r\n            \r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.playMediaOverlay();\r\n            }\r\n        });\r\n        var $moSyncParagraph = $('#mo-sync-paragraph');\r\n        $moSyncParagraph.on(\"click\", function () {\r\n            var wasPlaying = readium.reader.isPlayingMediaOverlay();\r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.pauseMediaOverlay();\r\n            }\r\n\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysSynchronizationGranularity: \"paragraph\"\r\n            });\r\n            \r\n            if (wasPlaying)\r\n            {\r\n                readium.reader.playMediaOverlay();\r\n            }\r\n        });\r\n        \r\n        \r\n        var $highlighterButts = $('.btn-mo-highlighter');\r\n        $highlighterButts.on(\"click\", function () {\r\n            $highlighterButts.attr(\"aria-selected\", \"false\");\r\n            $(this).attr(\"aria-selected\", \"true\");\r\n            \r\n            var index = $(this).attr(\"data-mohighlight\");\r\n\r\n            readium.reader.setStyles([\r\n                {\r\n                    selector: \".mo-active-default\",\r\n                    declarations: undefined\r\n                }\r\n            ], true);\r\n            \r\n            if (index === \"1\")\r\n            {\r\n                readium.reader.setStyles([\r\n                    {\r\n                        selector: \".mo-active-default\",\r\n                        declarations: {\r\n                            \"background-color\": \"yellow !important\",\r\n                            \"color\": \"black !important\",\r\n                            \"border-color\": \"transparent !important\",\r\n                            \"border-radius\": \"0.4em !important\",\r\n                            \"box-shadow\": \"0px 0px 0.4em #333333 !important\"\r\n                        }\r\n                    }\r\n                ], true);\r\n            }\r\n            else if (index === \"2\")\r\n            {\r\n                readium.reader.setStyles([\r\n                    {\r\n                        selector: \".mo-active-default\",\r\n                        declarations: {\r\n                            \"background-color\": \"black !important\",\r\n                            \"color\": \"white !important\",\r\n                            \"border-color\": \"transparent !important\",\r\n                            \"border-radius\": \"0.4em !important\"\r\n                        }\r\n                    }\r\n                ], true);\r\n            }\r\n            else if (index === \"3\")\r\n            {\r\n                readium.reader.setStyles([\r\n                    {\r\n                        selector: \".mo-active-default\",\r\n                        declarations: {\r\n                            \"background-color\": \"orange !important\",\r\n                            \"color\": \"black !important\",\r\n                            \"border-color\": \"transparent !important\",\r\n                            \"border-radius\": \"0.4em !important\"\r\n                        }\r\n                    }\r\n                ], true);\r\n            }\r\n            else if (index === \"4\")\r\n            {\r\n                readium.reader.setStyles([\r\n                    {\r\n                        selector: \".mo-active-default\",\r\n                        declarations: {\r\n                            \"background-color\": \"blue !important\",\r\n                            \"color\": \"white !important\",\r\n                            \"border-color\": \"transparent !important\",\r\n                            \"border-radius\": \"0.4em !important\"\r\n                        }\r\n                    }\r\n                ], true);\r\n            }\r\n            else if (index === \"5\")\r\n            {\r\n                readium.reader.setStyles([\r\n                    {\r\n                        selector: \".mo-active-default\",\r\n                        declarations: {\r\n                            \"background-color\": \"magenta !important\",\r\n                            \"color\": \"black !important\",\r\n                            \"border-color\": \"transparent !important\",\r\n                            \"border-radius\": \"0.4em !important\"\r\n                        }\r\n                    }\r\n                ], true);\r\n            }\r\n            else if (index === \"6\")\r\n            {\r\n                readium.reader.setStyles([\r\n                    {\r\n                        selector: \".mo-active-default\",\r\n                        declarations: {\r\n                            \"background-color\": \"#00FF00 !important\",\r\n                            \"color\": \"black !important\",\r\n                            \"border-color\": \"transparent !important\",\r\n                            \"border-radius\": \"0.4em !important\"\r\n                        }\r\n                    }\r\n                ], true);\r\n            }\r\n        });\r\n        \r\n        Keyboard.on(Keyboard.MediaOverlaysEscape, 'reader', readium.reader.escapeMediaOverlay);\r\n        \r\n        var $escAudioBtn = $(\"#btn-esc-audio\");\r\n        $escAudioBtn.on(\"click\", readium.reader.escapeMediaOverlay);\r\n        \r\n        var $previousAudioBtn = $(\"#btn-previous-audio\");\r\n        var $nextAudioBtn = $(\"#btn-next-audio\");\r\n        \r\n        Keyboard.on(Keyboard.MediaOverlaysPlayPause, 'reader', readium.reader.toggleMediaOverlay);\r\n        //Keyboard.on(Keyboard.MediaOverlaysPlayPauseAlt, 'reader', readium.reader.toggleMediaOverlay);\r\n        \r\n        var $playAudioBtn = $(\"#btn-play-audio\");\r\n        var $pauseAudioBtn = $(\"#btn-pause-audio\");\r\n        \r\n        $playAudioBtn.on(\"click\", function () {\r\n            //readium.reader[$(this).hasClass('pause-audio') ? 'pauseMediaOverlay' : 'playMediaOverlay']();\r\n            //readium.reader.toggleMediaOverlay();\r\n            var wasFocused = document.activeElement === $playAudioBtn[0];\r\n            readium.reader.playMediaOverlay();\r\n            \r\n            $playAudioBtn.removeAttr(\"accesskey\");\r\n            $pauseAudioBtn.attr(\"accesskey\", Keyboard.MediaOverlaysPlayPause);\r\n            \r\n            if (wasFocused) setTimeout(function(){ $pauseAudioBtn[0].focus(); }, 50);\r\n        });\r\n        \r\n        $pauseAudioBtn.on(\"click\", function () {\r\n            var wasFocused = document.activeElement === $pauseAudioBtn[0];\r\n            readium.reader.pauseMediaOverlay();\r\n            \r\n            $pauseAudioBtn.removeAttr(\"accesskey\");\r\n            $playAudioBtn.attr(\"accesskey\", Keyboard.MediaOverlaysPlayPause);\r\n            \r\n            if (wasFocused) setTimeout(function(){ $playAudioBtn[0].focus(); }, 50);\r\n        });\r\n        \r\n        \r\n        var $expandAudioBtn = $(\"#btn-expand-audio\");\r\n        var $collapseAudioBtn = $(\"#btn-collapse-audio\");\r\n\r\n        var updateAudioExpand = function(expand)\r\n        {\r\n            if (expand)\r\n            {\r\n                $audioPlayer.addClass('expanded-audio');\r\n                \r\n                $expandAudioBtn.removeAttr(\"accesskey\");\r\n                $collapseAudioBtn.attr(\"accesskey\", Keyboard.MediaOverlaysAdvancedPanelShowHide);\r\n            }\r\n            else\r\n            {\r\n                $audioPlayer.removeClass('expanded-audio');\r\n                \r\n                $collapseAudioBtn.removeAttr(\"accesskey\");\r\n                $expandAudioBtn.attr(\"accesskey\", Keyboard.MediaOverlaysAdvancedPanelShowHide);\r\n            }\r\n        };\r\n        \r\n        Keyboard.on(Keyboard.MediaOverlaysAdvancedPanelShowHide, 'reader', function(){\r\n            var toFocus = undefined;\r\n            if ($audioPlayer.hasClass('expanded-audio'))\r\n            {\r\n                updateAudioExpand(false);\r\n                toFocus = $expandAudioBtn[0];\r\n            }\r\n            else\r\n            {\r\n                updateAudioExpand(true);\r\n                toFocus = $collapseAudioBtn[0];\r\n            }\r\n\r\n            $(document.body).removeClass('hide-ui');\r\n            setTimeout(function(){ toFocus.focus(); }, 50);\r\n        });\r\n        \r\n        $expandAudioBtn.on(\"click\", function() {\r\n            var wasFocused = document.activeElement === $expandAudioBtn[0];\r\n            updateAudioExpand(true);\r\n            if (wasFocused) setTimeout(function(){ $collapseAudioBtn[0].focus(); }, 50);\r\n        });\r\n        \r\n        $collapseAudioBtn.on(\"click\", function() {\r\n            var wasFocused = document.activeElement === $collapseAudioBtn[0];\r\n            updateAudioExpand(false);\r\n            if (wasFocused) setTimeout(function(){ $expandAudioBtn[0].focus(); }, 50);\r\n        });\r\n\r\n        var $changeTimeControl = $('#time-range-slider');\r\n        \r\n        var debouncedTimeRangeSliderChange = _.debounce(\r\n            function() {\r\n        \r\n                inDebounce = false;\r\n                \r\n                var percent = $changeTimeControl.val();\r\n\r\n                var package = readium.reader.package();\r\n                if (!package) return;\r\n                if (!package.media_overlay) return;\r\n\r\n                var par = {par: undefined};\r\n                var smilData = {smilData: undefined};\r\n                var milliseconds = {milliseconds: undefined};\r\n        \r\n                package.media_overlay.percentToPosition(percent, smilData, par, milliseconds);\r\n        \r\n                if (!par.par || !par.par.text || !smilData.smilData)\r\n                {\r\n                    return;\r\n                }\r\n        \r\n                var smilSrc = smilData.smilData.href;\r\n        \r\n                var offsetS = milliseconds.milliseconds / 1000.0;\r\n        \r\n                readium.reader.mediaOverlaysOpenContentUrl(par.par.text.src, smilSrc, offsetS);\r\n            }\r\n        , 800);\r\n        \r\n        var updateSliderLabels = function($slider, val, txt)\r\n        {\r\n            $slider.attr(\"aria-valuenow\", val+\"\");\r\n            $slider.attr(\"aria-value-now\", val+\"\");\r\n            \r\n            $slider.attr(\"aria-valuetext\", txt+\"\");\r\n            $slider.attr(\"aria-value-text\", txt+\"\");\r\n        };\r\n        \r\n        $changeTimeControl.on(\"change\",\r\n        function() {\r\n            \r\n            var percent = $changeTimeControl.val();\r\n            percent = Math.round(percent);\r\n            \r\n            $changeTimeControl.attr(\"data-value\", percent);\r\n            updateSliderLabels($changeTimeControl, percent, percent + \"%\");\r\n            \r\n            if (readium.reader.isPlayingMediaOverlay())\r\n            {\r\n                readium.reader.pauseMediaOverlay();\r\n            }\r\n            debouncedTimeRangeSliderChange();\r\n        }\r\n        );\r\n        \r\n        readium.reader.on(ReadiumSDK.Events.MEDIA_OVERLAY_STATUS_CHANGED, function (value) {\r\n\r\n            //var $audioPlayerControls = $('#audioplayer button, #audioplayer input:not(.mo-sync)');\r\n\r\n            var percent = 0;\r\n\r\n            var isPlaying = 'isPlaying' in value\r\n                ? value.isPlaying   // for all the other events\r\n                : true;             // for events raised by positionChanged, as `isPlaying` flag isn't even set\r\n\r\n            var wasFocused = document.activeElement === $playAudioBtn[0] || document.activeElement === $pauseAudioBtn[0];\r\n\r\n            if (isPlaying)\r\n            {\r\n                $playAudioBtn.removeAttr(\"accesskey\");\r\n                $pauseAudioBtn.attr(\"accesskey\", Keyboard.MediaOverlaysPlayPause);\r\n            }\r\n            else\r\n            {\r\n                $pauseAudioBtn.removeAttr(\"accesskey\");\r\n                $playAudioBtn.attr(\"accesskey\", Keyboard.MediaOverlaysPlayPause);\r\n            }\r\n\r\n            $audioPlayer.toggleClass('isPlaying', isPlaying);\r\n\r\n            if (wasFocused) setTimeout(function(){ (isPlaying ? $pauseAudioBtn[0] : $playAudioBtn[0]).focus(); }, 50);\r\n            \r\n            percent = -1; // to prevent flickering slider position (pause callback is raised between each audio phrase!)\r\n\r\n            // if (readium.reader.isMediaOverlayAvailable()) {\r\n            //     $audioPlayer.show();\r\n            //     //$audioPlayerControls.attr('disabled', false);\r\n            //     \r\n            // } else {\r\n            //     //$audioPlayerControls.attr('disabled', true);\r\n            // }\r\n\r\n            if ((typeof value.playPosition !== \"undefined\") && (typeof value.smilIndex !== \"undefined\") && (typeof value.parIndex !== \"undefined\"))\r\n            {\r\n                var package = readium.reader.package();\r\n                \r\n                var playPositionMS = value.playPosition * 1000;\r\n                percent = package.media_overlay.positionToPercent(value.smilIndex, value.parIndex, playPositionMS);\r\n\r\n                if (percent < 0)\r\n                {\r\n                    percent = 0;\r\n                }\r\n            }\r\n\r\n            if (percent >= 0)\r\n            {\r\n                $changeTimeControl.val(percent);\r\n                percent = Math.round(percent);\r\n                $changeTimeControl.attr(\"data-value\", percent);\r\n                updateSliderLabels($changeTimeControl, percent, percent + \"%\");\r\n            }\r\n        });\r\n        \r\n        var $buttondPreservePlaybackWhenScrollDisable = $('#btn-playback-scroll-disable');\r\n        var $buttonPreservePlaybackWhenScrollEnable = $('#btn-playback-scroll-enable');\r\n        \r\n        $buttondPreservePlaybackWhenScrollDisable.on(\"click\", function() {\r\n\r\n            var wasFocused = document.activeElement === $buttondPreservePlaybackWhenScrollDisable[0];\r\n            \r\n            $audioPlayer.removeClass('playScroll');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysPreservePlaybackWhenScroll: false\r\n            });\r\n\r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysPreservePlaybackWhenScroll = false;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonPreservePlaybackWhenScrollEnable[0].focus(); }, 50);\r\n        });\r\n\r\n        $buttonPreservePlaybackWhenScrollEnable.on(\"click\", function() {\r\n\r\n            var wasFocused = document.activeElement === $buttonPreservePlaybackWhenScrollEnable[0];\r\n            \r\n            $audioPlayer.addClass('playScroll');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysPreservePlaybackWhenScroll: true\r\n            });\r\n            \r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysPreservePlaybackWhenScroll = true;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttondPreservePlaybackWhenScrollDisable[0].focus(); }, 50);\r\n        });\r\n\r\n        var $buttonAutoPageTurnDisable = $('#btn-auto-page-turn-disable');\r\n        var $buttonAutoPageTurnEnable = $('#btn-auto-page-turn-enable');\r\n        \r\n        $buttonAutoPageTurnDisable.on(\"click\", function() {\r\n\r\n            var wasFocused = document.activeElement === $buttonAutoPageTurnDisable[0];\r\n            \r\n            $audioPlayer.removeClass('autoPageTurn');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysAutomaticPageTurn: false\r\n            });\r\n\r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysAutomaticPageTurn = false;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonAutoPageTurnEnable[0].focus(); }, 50);\r\n        });\r\n\r\n        $buttonAutoPageTurnEnable.on(\"click\", function() {\r\n\r\n            var wasFocused = document.activeElement === $buttonAutoPageTurnEnable[0];\r\n            \r\n            $audioPlayer.addClass('autoPageTurn');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysAutomaticPageTurn: true\r\n            });\r\n            \r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysAutomaticPageTurn = true;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonAutoPageTurnDisable[0].focus(); }, 50);\r\n        });\r\n        \r\n\r\n        var $buttonSkipDisable = $('#btn-skip-audio-disable');\r\n        var $buttonSkipEnable = $('#btn-skip-audio-enable');\r\n        \r\n        $buttonSkipDisable.on(\"click\", function() {\r\n\r\n            var wasFocused = document.activeElement === $buttonSkipDisable[0];\r\n            \r\n            $audioPlayer.removeClass('skip');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysSkipSkippables: false\r\n            });\r\n\r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysSkipSkippables = false;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonSkipEnable[0].focus(); }, 50);\r\n        });\r\n\r\n        $buttonSkipEnable.on(\"click\", function() {\r\n\r\n            var wasFocused = document.activeElement === $buttonSkipEnable[0];\r\n            \r\n            $audioPlayer.addClass('skip');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysSkipSkippables: true\r\n            });\r\n            \r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysSkipSkippables = true;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonSkipDisable[0].focus(); }, 50);\r\n        });\r\n        \r\n        var $buttonTouchEnable = $('#btn-touch-audio-enable');\r\n        var $buttonTouchDisable = $('#btn-touch-audio-disable');\r\n        \r\n        $buttonTouchEnable.on(\"click\", function() {\r\n            \r\n            var wasFocused = document.activeElement === $buttonTouchEnable[0];\r\n            \r\n            $audioPlayer.removeClass('no-touch');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysEnableClick: true\r\n            });\r\n            \r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysEnableClick = true;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonTouchDisable[0].focus(); }, 50);\r\n        });\r\n        \r\n        $buttonTouchDisable.on(\"click\", function() {\r\n            \r\n            var wasFocused = document.activeElement === $buttonTouchDisable[0];\r\n            \r\n            $audioPlayer.addClass('no-touch');\r\n            \r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysEnableClick: false\r\n            });\r\n            \r\n            Settings.get('reader', function(json)\r\n            {\r\n                if (!json)\r\n                {\r\n                    json = {};\r\n                }\r\n                \r\n                json.mediaOverlaysEnableClick = false;\r\n                Settings.put('reader', json);\r\n            });\r\n            \r\n            if (wasFocused) setTimeout(function(){ $buttonTouchEnable[0].focus(); }, 50);\r\n        });\r\n        \r\n        var $changeRateControl = $('#rate-range-slider');\r\n        var $changeRateControl_label = $('#rate-range-slider-label');\r\n        \r\n        var changeRate = function(minus)\r\n        {\r\n            var rateMin = parseFloat($changeRateControl.attr(\"min\"));\r\n            var rateMax = parseFloat($changeRateControl.attr(\"max\"));\r\n            var rateStep = parseFloat($changeRateControl.attr(\"step\"));\r\n            var rateVal = parseFloat($changeRateControl.val());\r\n\r\n            rateVal += (minus ? (-rateStep) : rateStep);\r\n\r\n            if (rateVal > rateMax) rateVal = rateMax;\r\n            if (rateVal < rateMin) rateVal = rateMin;\r\n            \r\n            var txt = ((rateVal === 0 ? \"~0\" : \"\"+rateVal) + \"x\");\r\n            \r\n            updateSliderLabels($changeRateControl, rateVal, txt);\r\n            \r\n            $changeRateControl_label[0].textContent = txt;\r\n            \r\n            //readium.reader.setRateMediaOverlay(rateVal);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysRate: rateVal\r\n            });\r\n            \r\n            $changeRateControl.val(\"\"+rateVal);\r\n        };\r\n        \r\n        $(\"#buttRatePlus\").on(\"click\", function(){\r\n            changeRate(false);\r\n            //setTimeout(function(){ $changeRateControl[0].focus(); }, 50);\r\n        });\r\n        Keyboard.on(Keyboard.MediaOverlaysRateIncrease, 'reader', function(){        \r\n            changeRate(false);\r\n            //setTimeout(function(){ $changeRateControl[0].focus(); }, 50);\r\n        });\r\n        \r\n        $(\"#buttRateMinus\").on(\"click\", function(){\r\n            changeRate(true);\r\n            //setTimeout(function(){ $changeRateControl[0].focus(); }, 50);\r\n        });\r\n        Keyboard.on(Keyboard.MediaOverlaysRateDecrease, 'reader', function(){\r\n            changeRate(true);\r\n            //setTimeout(function(){ $changeRateControl[0].focus(); }, 50);\r\n        });\r\n        \r\n        // Keyboard.on(Keyboard.MediaOverlaysRateIncreaseAlt, 'reader', function(){        \r\n        //     changeRate(false);\r\n        //     //setTimeout(function(){ $changeRateControl[0].focus(); }, 50);\r\n        // });\r\n        // \r\n        // Keyboard.on(Keyboard.MediaOverlaysRateDecreaseAlt, 'reader', function(){\r\n        //     changeRate(true);\r\n        //     //setTimeout(function(){ $changeRateControl[0].focus(); }, 50);\r\n        // });\r\n        \r\n        $changeRateControl.on(\"change\", function() {\r\n            var rateVal = $(this).val();\r\n            var txt = ((rateVal === '0' ? \"~0\" : rateVal) + \"x\");\r\n            \r\n            updateSliderLabels($(this), rateVal, txt);\r\n\r\n            $changeRateControl_label[0].textContent = txt;\r\n            \r\n            //readium.reader.setRateMediaOverlay(rateVal);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysRate: rateVal\r\n            });\r\n        });\r\n        \r\n        var resetRate = function() {\r\n            $changeRateControl.val(1);\r\n\r\n            updateSliderLabels($changeRateControl, \"1\", \"1x\");\r\n\r\n            $changeRateControl_label[0].textContent = \"1x\";\r\n            \r\n            //readium.reader.setRateMediaOverlay(1);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysRate: 1\r\n            });\r\n        };\r\n\r\n        Keyboard.on(Keyboard.MediaOverlaysRateReset, 'reader', resetRate);\r\n        \r\n        var $rateButton = $('#btn-audio-rate');\r\n        $rateButton.on(\"click\", resetRate);\r\n        \r\n        var $changeVolumeControl = $('#volume-range-slider');\r\n        \r\n        var changeVolume = function(minus)\r\n        {\r\n            var volumeVal = parseInt($changeVolumeControl.val());\r\n\r\n            volumeVal += (minus ? (-20) : 20);\r\n\r\n            if (volumeVal < 0) volumeVal = 0;\r\n            if (volumeVal > 100) volumeVal = 100;\r\n\r\n            //readium.reader.setVolumeMediaOverlay(volumeVal / 100);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysVolume: volumeVal\r\n            });\r\n            \r\n            $changeVolumeControl.val(\"\"+volumeVal);\r\n\r\n            updateSliderLabels($changeVolumeControl, volumeVal, volumeVal + \"%\");\r\n            \r\n            if (volumeVal === 0) {\r\n                $audioPlayer.addClass('no-volume');\r\n            } else {\r\n                $audioPlayer.removeClass('no-volume');\r\n            }\r\n        };\r\n        \r\n        $(\"#buttVolumePlus\").on(\"click\", function(){\r\n            changeVolume(false);\r\n            //setTimeout(function(){ $changeVolumeControl[0].focus(); }, 50);\r\n        });\r\n        Keyboard.on(Keyboard.MediaOverlaysVolumeIncrease, 'reader', function(){\r\n            changeVolume(false);\r\n            //setTimeout(function(){ $changeVolumeControl[0].focus(); }, 50);\r\n        });\r\n        \r\n        $(\"#buttVolumeMinus\").on(\"click\", function(){\r\n            changeVolume(true);\r\n            //setTimeout(function(){ $changeVolumeControl[0].focus(); }, 50);\r\n        });\r\n        Keyboard.on(Keyboard.MediaOverlaysVolumeDecrease, 'reader', function(){\r\n            changeVolume(true);\r\n            //setTimeout(function(){ $changeVolumeControl[0].focus(); }, 50);\r\n        });\r\n        \r\n        // Keyboard.on(Keyboard.MediaOverlaysVolumeIncreaseAlt, 'reader', function(){\r\n        //     changeVolume(false);\r\n        //     //setTimeout(function(){ $changeVolumeControl[0].focus(); }, 50);\r\n        // });\r\n        \r\n        // Keyboard.on(Keyboard.MediaOverlaysVolumeDecreaseAlt, 'reader', function(){\r\n        //     changeVolume(true);\r\n        //     //setTimeout(function(){ $changeVolumeControl[0].focus(); }, 50);\r\n        // });\r\n        \r\n        $changeVolumeControl.on(\"change\", function() {\r\n            var volumeVal = $(this).val();\r\n\r\n            //readium.reader.setVolumeMediaOverlay(volumeVal / 100);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysVolume: volumeVal\r\n            });\r\n\r\n            updateSliderLabels($changeVolumeControl, volumeVal, volumeVal + \"%\");\r\n            \r\n            if (volumeVal === '0') {\r\n                $audioPlayer.addClass('no-volume');\r\n            } else {\r\n                $audioPlayer.removeClass('no-volume');\r\n            }\r\n        });\r\n                \r\n        $volumeButtonMute = $('#btn-audio-volume-mute');\r\n        $volumeButtonUnMute = $('#btn-audio-volume-unmute');\r\n        \r\n        var _lastVolumeBeforeMute = '0';\r\n        \r\n        var muteVolume = function(){\r\n\r\n            _lastVolumeBeforeMute = $changeVolumeControl.val();\r\n\r\n            //readium.reader.setVolumeMediaOverlay(volumeVal);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysVolume: 0\r\n            });\r\n            \r\n            $changeVolumeControl.val(0);\r\n\r\n            updateSliderLabels($changeVolumeControl, 0, 0 + \"%\");\r\n            \r\n            $volumeButtonMute.removeAttr(\"accesskey\");\r\n            $volumeButtonUnMute.attr(\"accesskey\", Keyboard.MediaOverlaysVolumeMuteToggle);\r\n            \r\n            $audioPlayer.addClass('no-volume');\r\n        };\r\n        \r\n        var unMuteVolume = function(){\r\n\r\n            //var currentVolume = $changeVolumeControl.val();\r\n            var volumeVal = _lastVolumeBeforeMute === '0' ? '100' : _lastVolumeBeforeMute;\r\n\r\n            //readium.reader.setVolumeMediaOverlay(volumeVal);\r\n            readium.reader.updateSettings({\r\n                doNotUpdateView: true,\r\n                mediaOverlaysVolume: volumeVal\r\n            });\r\n            \r\n            $changeVolumeControl.val(volumeVal);\r\n\r\n            updateSliderLabels($changeVolumeControl, volumeVal, volumeVal + \"%\");\r\n            \r\n            $volumeButtonUnMute.removeAttr(\"accesskey\");\r\n            $volumeButtonMute.attr(\"accesskey\", Keyboard.MediaOverlaysVolumeMuteToggle);\r\n\r\n            $audioPlayer.removeClass('no-volume');\r\n        };\r\n\r\n        Keyboard.on(Keyboard.MediaOverlaysVolumeMuteToggle, 'reader', function(){\r\n            ($audioPlayer.hasClass('no-volume') ? unMuteVolume : muteVolume)();\r\n        });\r\n        \r\n        $volumeButtonMute.on(\"click\", function() {\r\n            \r\n            var wasFocused = document.activeElement === $volumeButtonMute[0];\r\n                \r\n            muteVolume();\r\n                \r\n            if (wasFocused) setTimeout(function(){ $volumeButtonUnMute[0].focus(); }, 50);\r\n        });\r\n        \r\n        $volumeButtonUnMute.on(\"click\", function() {\r\n            \r\n            var wasFocused = document.activeElement === $volumeButtonUnMute[0];\r\n            \r\n            unMuteVolume();\r\n            \r\n            if (wasFocused) setTimeout(function(){ $volumeButtonMute[0].focus(); }, 50);\r\n        });\r\n        \r\n        Keyboard.on(Keyboard.MediaOverlaysPrevious, 'reader', readium.reader.previousMediaOverlay);\r\n        \r\n        $previousAudioBtn.on(\"click\", readium.reader.previousMediaOverlay);\r\n        \r\n        Keyboard.on(Keyboard.MediaOverlaysNext, 'reader', readium.reader.nextMediaOverlay);\r\n        \r\n        $nextAudioBtn.on(\"click\", readium.reader.nextMediaOverlay);\r\n    };\r\n\r\n    return {\r\n        init : init\r\n    };\r\n});\r\n\n",
    "\r\ndefine('EpubReaderBackgroundAudioTrack',['module','jquery', 'bootstrap', 'Readium', 'Spinner', 'storage/Settings', 'i18n/Strings', 'Dialogs', 'Keyboard'], \r\n        function (module, $, bootstrap, Readium, spinner, Settings, Strings, Dialogs, Keyboard) {\r\n\r\n    var init = function(readium) {\r\n\r\n        if (!readium.reader.backgroundAudioTrackManager) return; // safety (out-of-date readium-shared-js?)\r\n\r\n        var $audioTrackDiv = $(\"#backgroundAudioTrack-div\");\r\n    \r\n        var $playAudioTrackBtn = $(\"#backgroundAudioTrack-button-play\");\r\n        var $pauseAudioTrackBtn = $(\"#backgroundAudioTrack-button-pause\");\r\n\r\n        readium.reader.backgroundAudioTrackManager.setCallback_PlayPause(function(doPlay)\r\n            {\r\n                if (doPlay)\r\n                {\r\n                    $audioTrackDiv.addClass('isPlaying');\r\n\r\n                    $playAudioTrackBtn.removeAttr(\"accesskey\");\r\n                    $pauseAudioTrackBtn.attr(\"accesskey\", Keyboard.BackgroundAudioPlayPause);\r\n                }\r\n                else\r\n                {\r\n                    $audioTrackDiv.removeClass('isPlaying');\r\n\r\n                    $pauseAudioTrackBtn.removeAttr(\"accesskey\");\r\n                    $playAudioTrackBtn.attr(\"accesskey\", Keyboard.BackgroundAudioPlayPause);\r\n                }\r\n            }\r\n        );\r\n\r\n        readium.reader.backgroundAudioTrackManager.setCallback_IsAvailable(function(yes)\r\n            {\r\n                if (yes)\r\n                {\r\n                    $audioTrackDiv.removeClass(\"none\");\r\n                }\r\n                else\r\n                {                \r\n                    $audioTrackDiv.addClass(\"none\");\r\n                }\r\n            }\r\n        );\r\n        \r\n\r\n        Keyboard.on(Keyboard.BackgroundAudioPlayPause, 'reader', function()\r\n        {\r\n            var play = !$audioTrackDiv.hasClass('isPlaying');\r\n            \r\n            readium.reader.backgroundAudioTrackManager.setPlayState(play);\r\n            readium.reader.backgroundAudioTrackManager.playPause(play);\r\n        });\r\n    \r\n        $playAudioTrackBtn.on(\"click\", function ()\r\n        {\r\n            var wasFocused = document.activeElement === $playAudioTrackBtn[0];\r\n        \r\n            readium.reader.backgroundAudioTrackManager.setPlayState(true);\r\n            readium.reader.backgroundAudioTrackManager.playPause(true);\r\n        \r\n            if (wasFocused) setTimeout(function(){ $pauseAudioTrackBtn[0].focus(); }, 50);\r\n        });\r\n    \r\n        $pauseAudioTrackBtn.on(\"click\", function ()\r\n        {\r\n            var wasFocused = document.activeElement === $pauseAudioTrackBtn[0];\r\n        \r\n            readium.reader.backgroundAudioTrackManager.setPlayState(false);\r\n            readium.reader.backgroundAudioTrackManager.playPause(false);\r\n        \r\n            if (wasFocused) setTimeout(function(){ $playAudioTrackBtn[0].focus(); }, 50);\r\n        });\r\n    };\r\n\r\n    return {\r\n        init : init\r\n    };\r\n});\r\n\n",
    "/*! Hammer.JS - v2.0.4 - 2014-09-28\r\n * http://hammerjs.github.io/\r\n *\r\n * Copyright (c) 2014 Jorik Tangelder;\r\n * Licensed under the MIT license */\r\n(function(window, document, exportName, undefined) {\r\n  'use strict';\r\n\r\nvar VENDOR_PREFIXES = ['', 'webkit', 'moz', 'MS', 'ms', 'o'];\r\nvar TEST_ELEMENT = document.createElement('div');\r\n\r\nvar TYPE_FUNCTION = 'function';\r\n\r\nvar round = Math.round;\r\nvar abs = Math.abs;\r\nvar now = Date.now;\r\n\r\n/**\r\n * set a timeout with a given scope\r\n * @param {Function} fn\r\n * @param {Number} timeout\r\n * @param {Object} context\r\n * @returns {number}\r\n */\r\nfunction setTimeoutContext(fn, timeout, context) {\r\n    return setTimeout(bindFn(fn, context), timeout);\r\n}\r\n\r\n/**\r\n * if the argument is an array, we want to execute the fn on each entry\r\n * if it aint an array we don't want to do a thing.\r\n * this is used by all the methods that accept a single and array argument.\r\n * @param {*|Array} arg\r\n * @param {String} fn\r\n * @param {Object} [context]\r\n * @returns {Boolean}\r\n */\r\nfunction invokeArrayArg(arg, fn, context) {\r\n    if (Array.isArray(arg)) {\r\n        each(arg, context[fn], context);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * walk objects and arrays\r\n * @param {Object} obj\r\n * @param {Function} iterator\r\n * @param {Object} context\r\n */\r\nfunction each(obj, iterator, context) {\r\n    var i;\r\n\r\n    if (!obj) {\r\n        return;\r\n    }\r\n\r\n    if (obj.forEach) {\r\n        obj.forEach(iterator, context);\r\n    } else if (obj.length !== undefined) {\r\n        i = 0;\r\n        while (i < obj.length) {\r\n            iterator.call(context, obj[i], i, obj);\r\n            i++;\r\n        }\r\n    } else {\r\n        for (i in obj) {\r\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * extend object.\r\n * means that properties in dest will be overwritten by the ones in src.\r\n * @param {Object} dest\r\n * @param {Object} src\r\n * @param {Boolean} [merge]\r\n * @returns {Object} dest\r\n */\r\nfunction extend(dest, src, merge) {\r\n    var keys = Object.keys(src);\r\n    var i = 0;\r\n    while (i < keys.length) {\r\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\r\n            dest[keys[i]] = src[keys[i]];\r\n        }\r\n        i++;\r\n    }\r\n    return dest;\r\n}\r\n\r\n/**\r\n * merge the values from src in the dest.\r\n * means that properties that exist in dest will not be overwritten by src\r\n * @param {Object} dest\r\n * @param {Object} src\r\n * @returns {Object} dest\r\n */\r\nfunction merge(dest, src) {\r\n    return extend(dest, src, true);\r\n}\r\n\r\n/**\r\n * simple class inheritance\r\n * @param {Function} child\r\n * @param {Function} base\r\n * @param {Object} [properties]\r\n */\r\nfunction inherit(child, base, properties) {\r\n    var baseP = base.prototype,\r\n        childP;\r\n\r\n    childP = child.prototype = Object.create(baseP);\r\n    childP.constructor = child;\r\n    childP._super = baseP;\r\n\r\n    if (properties) {\r\n        extend(childP, properties);\r\n    }\r\n}\r\n\r\n/**\r\n * simple function bind\r\n * @param {Function} fn\r\n * @param {Object} context\r\n * @returns {Function}\r\n */\r\nfunction bindFn(fn, context) {\r\n    return function boundFn() {\r\n        return fn.apply(context, arguments);\r\n    };\r\n}\r\n\r\n/**\r\n * let a boolean value also be a function that must return a boolean\r\n * this first item in args will be used as the context\r\n * @param {Boolean|Function} val\r\n * @param {Array} [args]\r\n * @returns {Boolean}\r\n */\r\nfunction boolOrFn(val, args) {\r\n    if (typeof val == TYPE_FUNCTION) {\r\n        return val.apply(args ? args[0] || undefined : undefined, args);\r\n    }\r\n    return val;\r\n}\r\n\r\n/**\r\n * use the val2 when val1 is undefined\r\n * @param {*} val1\r\n * @param {*} val2\r\n * @returns {*}\r\n */\r\nfunction ifUndefined(val1, val2) {\r\n    return (val1 === undefined) ? val2 : val1;\r\n}\r\n\r\n/**\r\n * addEventListener with multiple events at once\r\n * @param {EventTarget} target\r\n * @param {String} types\r\n * @param {Function} handler\r\n */\r\nfunction addEventListeners(target, types, handler) {\r\n    each(splitStr(types), function(type) {\r\n        target.addEventListener(type, handler, false);\r\n    });\r\n}\r\n\r\n/**\r\n * removeEventListener with multiple events at once\r\n * @param {EventTarget} target\r\n * @param {String} types\r\n * @param {Function} handler\r\n */\r\nfunction removeEventListeners(target, types, handler) {\r\n    each(splitStr(types), function(type) {\r\n        target.removeEventListener(type, handler, false);\r\n    });\r\n}\r\n\r\n/**\r\n * find if a node is in the given parent\r\n * @method hasParent\r\n * @param {HTMLElement} node\r\n * @param {HTMLElement} parent\r\n * @return {Boolean} found\r\n */\r\nfunction hasParent(node, parent) {\r\n    while (node) {\r\n        if (node == parent) {\r\n            return true;\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * small indexOf wrapper\r\n * @param {String} str\r\n * @param {String} find\r\n * @returns {Boolean} found\r\n */\r\nfunction inStr(str, find) {\r\n    return str.indexOf(find) > -1;\r\n}\r\n\r\n/**\r\n * split string on whitespace\r\n * @param {String} str\r\n * @returns {Array} words\r\n */\r\nfunction splitStr(str) {\r\n    return str.trim().split(/\\s+/g);\r\n}\r\n\r\n/**\r\n * find if a array contains the object using indexOf or a simple polyFill\r\n * @param {Array} src\r\n * @param {String} find\r\n * @param {String} [findByKey]\r\n * @return {Boolean|Number} false when not found, or the index\r\n */\r\nfunction inArray(src, find, findByKey) {\r\n    if (src.indexOf && !findByKey) {\r\n        return src.indexOf(find);\r\n    } else {\r\n        var i = 0;\r\n        while (i < src.length) {\r\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\r\n                return i;\r\n            }\r\n            i++;\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\n/**\r\n * convert array-like objects to real arrays\r\n * @param {Object} obj\r\n * @returns {Array}\r\n */\r\nfunction toArray(obj) {\r\n    return Array.prototype.slice.call(obj, 0);\r\n}\r\n\r\n/**\r\n * unique array with objects based on a key (like 'id') or just by the array's value\r\n * @param {Array} src [{id:1},{id:2},{id:1}]\r\n * @param {String} [key]\r\n * @param {Boolean} [sort=False]\r\n * @returns {Array} [{id:1},{id:2}]\r\n */\r\nfunction uniqueArray(src, key, sort) {\r\n    var results = [];\r\n    var values = [];\r\n    var i = 0;\r\n\r\n    while (i < src.length) {\r\n        var val = key ? src[i][key] : src[i];\r\n        if (inArray(values, val) < 0) {\r\n            results.push(src[i]);\r\n        }\r\n        values[i] = val;\r\n        i++;\r\n    }\r\n\r\n    if (sort) {\r\n        if (!key) {\r\n            results = results.sort();\r\n        } else {\r\n            results = results.sort(function sortUniqueArray(a, b) {\r\n                return a[key] > b[key];\r\n            });\r\n        }\r\n    }\r\n\r\n    return results;\r\n}\r\n\r\n/**\r\n * get the prefixed property\r\n * @param {Object} obj\r\n * @param {String} property\r\n * @returns {String|Undefined} prefixed\r\n */\r\nfunction prefixed(obj, property) {\r\n    var prefix, prop;\r\n    var camelProp = property[0].toUpperCase() + property.slice(1);\r\n\r\n    var i = 0;\r\n    while (i < VENDOR_PREFIXES.length) {\r\n        prefix = VENDOR_PREFIXES[i];\r\n        prop = (prefix) ? prefix + camelProp : property;\r\n\r\n        if (prop in obj) {\r\n            return prop;\r\n        }\r\n        i++;\r\n    }\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * get a unique id\r\n * @returns {number} uniqueId\r\n */\r\nvar _uniqueId = 1;\r\nfunction uniqueId() {\r\n    return _uniqueId++;\r\n}\r\n\r\n/**\r\n * get the window object of an element\r\n * @param {HTMLElement} element\r\n * @returns {DocumentView|Window}\r\n */\r\nfunction getWindowForElement(element) {\r\n    var doc = element.ownerDocument;\r\n    return (doc.defaultView || doc.parentWindow);\r\n}\r\n\r\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\r\n\r\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\r\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\r\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\r\n\r\nvar INPUT_TYPE_TOUCH = 'touch';\r\nvar INPUT_TYPE_PEN = 'pen';\r\nvar INPUT_TYPE_MOUSE = 'mouse';\r\nvar INPUT_TYPE_KINECT = 'kinect';\r\n\r\nvar COMPUTE_INTERVAL = 25;\r\n\r\nvar INPUT_START = 1;\r\nvar INPUT_MOVE = 2;\r\nvar INPUT_END = 4;\r\nvar INPUT_CANCEL = 8;\r\n\r\nvar DIRECTION_NONE = 1;\r\nvar DIRECTION_LEFT = 2;\r\nvar DIRECTION_RIGHT = 4;\r\nvar DIRECTION_UP = 8;\r\nvar DIRECTION_DOWN = 16;\r\n\r\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\r\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\r\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\r\n\r\nvar PROPS_XY = ['x', 'y'];\r\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\r\n\r\n/**\r\n * create new input type manager\r\n * @param {Manager} manager\r\n * @param {Function} callback\r\n * @returns {Input}\r\n * @constructor\r\n */\r\nfunction Input(manager, callback) {\r\n    var self = this;\r\n    this.manager = manager;\r\n    this.callback = callback;\r\n    this.element = manager.element;\r\n    this.target = manager.options.inputTarget;\r\n\r\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\r\n    // so when disabled the input events are completely bypassed.\r\n    this.domHandler = function(ev) {\r\n        if (boolOrFn(manager.options.enable, [manager])) {\r\n            self.handler(ev);\r\n        }\r\n    };\r\n\r\n    this.init();\r\n\r\n}\r\n\r\nInput.prototype = {\r\n    /**\r\n     * should handle the inputEvent data and trigger the callback\r\n     * @virtual\r\n     */\r\n    handler: function() { },\r\n\r\n    /**\r\n     * bind the events\r\n     */\r\n    init: function() {\r\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\r\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\r\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\r\n    },\r\n\r\n    /**\r\n     * unbind the events\r\n     */\r\n    destroy: function() {\r\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\r\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\r\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\r\n    }\r\n};\r\n\r\n/**\r\n * create new input type manager\r\n * called by the Manager constructor\r\n * @param {Hammer} manager\r\n * @returns {Input}\r\n */\r\nfunction createInputInstance(manager) {\r\n    var Type;\r\n    var inputClass = manager.options.inputClass;\r\n\r\n    if (inputClass) {\r\n        Type = inputClass;\r\n    } else if (SUPPORT_POINTER_EVENTS) {\r\n        Type = PointerEventInput;\r\n    } else if (SUPPORT_ONLY_TOUCH) {\r\n        Type = TouchInput;\r\n    } else if (!SUPPORT_TOUCH) {\r\n        Type = MouseInput;\r\n    } else {\r\n        Type = TouchMouseInput;\r\n    }\r\n    return new (Type)(manager, inputHandler);\r\n}\r\n\r\n/**\r\n * handle input events\r\n * @param {Manager} manager\r\n * @param {String} eventType\r\n * @param {Object} input\r\n */\r\nfunction inputHandler(manager, eventType, input) {\r\n    var pointersLen = input.pointers.length;\r\n    var changedPointersLen = input.changedPointers.length;\r\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\r\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\r\n\r\n    input.isFirst = !!isFirst;\r\n    input.isFinal = !!isFinal;\r\n\r\n    if (isFirst) {\r\n        manager.session = {};\r\n    }\r\n\r\n    // source event is the normalized value of the domEvents\r\n    // like 'touchstart, mouseup, pointerdown'\r\n    input.eventType = eventType;\r\n\r\n    // compute scale, rotation etc\r\n    computeInputData(manager, input);\r\n\r\n    // emit secret event\r\n    manager.emit('hammer.input', input);\r\n\r\n    manager.recognize(input);\r\n    manager.session.prevInput = input;\r\n}\r\n\r\n/**\r\n * extend the data with some usable properties like scale, rotate, velocity etc\r\n * @param {Object} manager\r\n * @param {Object} input\r\n */\r\nfunction computeInputData(manager, input) {\r\n    var session = manager.session;\r\n    var pointers = input.pointers;\r\n    var pointersLength = pointers.length;\r\n\r\n    // store the first input to calculate the distance and direction\r\n    if (!session.firstInput) {\r\n        session.firstInput = simpleCloneInputData(input);\r\n    }\r\n\r\n    // to compute scale and rotation we need to store the multiple touches\r\n    if (pointersLength > 1 && !session.firstMultiple) {\r\n        session.firstMultiple = simpleCloneInputData(input);\r\n    } else if (pointersLength === 1) {\r\n        session.firstMultiple = false;\r\n    }\r\n\r\n    var firstInput = session.firstInput;\r\n    var firstMultiple = session.firstMultiple;\r\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\r\n\r\n    var center = input.center = getCenter(pointers);\r\n    input.timeStamp = now();\r\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\r\n\r\n    input.angle = getAngle(offsetCenter, center);\r\n    input.distance = getDistance(offsetCenter, center);\r\n\r\n    computeDeltaXY(session, input);\r\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\r\n\r\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\r\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\r\n\r\n    computeIntervalInputData(session, input);\r\n\r\n    // find the correct target\r\n    var target = manager.element;\r\n    if (hasParent(input.srcEvent.target, target)) {\r\n        target = input.srcEvent.target;\r\n    }\r\n    input.target = target;\r\n}\r\n\r\nfunction computeDeltaXY(session, input) {\r\n    var center = input.center;\r\n    var offset = session.offsetDelta || {};\r\n    var prevDelta = session.prevDelta || {};\r\n    var prevInput = session.prevInput || {};\r\n\r\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\r\n        prevDelta = session.prevDelta = {\r\n            x: prevInput.deltaX || 0,\r\n            y: prevInput.deltaY || 0\r\n        };\r\n\r\n        offset = session.offsetDelta = {\r\n            x: center.x,\r\n            y: center.y\r\n        };\r\n    }\r\n\r\n    input.deltaX = prevDelta.x + (center.x - offset.x);\r\n    input.deltaY = prevDelta.y + (center.y - offset.y);\r\n}\r\n\r\n/**\r\n * velocity is calculated every x ms\r\n * @param {Object} session\r\n * @param {Object} input\r\n */\r\nfunction computeIntervalInputData(session, input) {\r\n    var last = session.lastInterval || input,\r\n        deltaTime = input.timeStamp - last.timeStamp,\r\n        velocity, velocityX, velocityY, direction;\r\n\r\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\r\n        var deltaX = last.deltaX - input.deltaX;\r\n        var deltaY = last.deltaY - input.deltaY;\r\n\r\n        var v = getVelocity(deltaTime, deltaX, deltaY);\r\n        velocityX = v.x;\r\n        velocityY = v.y;\r\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\r\n        direction = getDirection(deltaX, deltaY);\r\n\r\n        session.lastInterval = input;\r\n    } else {\r\n        // use latest velocity info if it doesn't overtake a minimum period\r\n        velocity = last.velocity;\r\n        velocityX = last.velocityX;\r\n        velocityY = last.velocityY;\r\n        direction = last.direction;\r\n    }\r\n\r\n    input.velocity = velocity;\r\n    input.velocityX = velocityX;\r\n    input.velocityY = velocityY;\r\n    input.direction = direction;\r\n}\r\n\r\n/**\r\n * create a simple clone from the input used for storage of firstInput and firstMultiple\r\n * @param {Object} input\r\n * @returns {Object} clonedInputData\r\n */\r\nfunction simpleCloneInputData(input) {\r\n    // make a simple copy of the pointers because we will get a reference if we don't\r\n    // we only need clientXY for the calculations\r\n    var pointers = [];\r\n    var i = 0;\r\n    while (i < input.pointers.length) {\r\n        pointers[i] = {\r\n            clientX: round(input.pointers[i].clientX),\r\n            clientY: round(input.pointers[i].clientY)\r\n        };\r\n        i++;\r\n    }\r\n\r\n    return {\r\n        timeStamp: now(),\r\n        pointers: pointers,\r\n        center: getCenter(pointers),\r\n        deltaX: input.deltaX,\r\n        deltaY: input.deltaY\r\n    };\r\n}\r\n\r\n/**\r\n * get the center of all the pointers\r\n * @param {Array} pointers\r\n * @return {Object} center contains `x` and `y` properties\r\n */\r\nfunction getCenter(pointers) {\r\n    var pointersLength = pointers.length;\r\n\r\n    // no need to loop when only one touch\r\n    if (pointersLength === 1) {\r\n        return {\r\n            x: round(pointers[0].clientX),\r\n            y: round(pointers[0].clientY)\r\n        };\r\n    }\r\n\r\n    var x = 0, y = 0, i = 0;\r\n    while (i < pointersLength) {\r\n        x += pointers[i].clientX;\r\n        y += pointers[i].clientY;\r\n        i++;\r\n    }\r\n\r\n    return {\r\n        x: round(x / pointersLength),\r\n        y: round(y / pointersLength)\r\n    };\r\n}\r\n\r\n/**\r\n * calculate the velocity between two points. unit is in px per ms.\r\n * @param {Number} deltaTime\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @return {Object} velocity `x` and `y`\r\n */\r\nfunction getVelocity(deltaTime, x, y) {\r\n    return {\r\n        x: x / deltaTime || 0,\r\n        y: y / deltaTime || 0\r\n    };\r\n}\r\n\r\n/**\r\n * get the direction between two points\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @return {Number} direction\r\n */\r\nfunction getDirection(x, y) {\r\n    if (x === y) {\r\n        return DIRECTION_NONE;\r\n    }\r\n\r\n    if (abs(x) >= abs(y)) {\r\n        return x > 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\r\n    }\r\n    return y > 0 ? DIRECTION_UP : DIRECTION_DOWN;\r\n}\r\n\r\n/**\r\n * calculate the absolute distance between two points\r\n * @param {Object} p1 {x, y}\r\n * @param {Object} p2 {x, y}\r\n * @param {Array} [props] containing x and y keys\r\n * @return {Number} distance\r\n */\r\nfunction getDistance(p1, p2, props) {\r\n    if (!props) {\r\n        props = PROPS_XY;\r\n    }\r\n    var x = p2[props[0]] - p1[props[0]],\r\n        y = p2[props[1]] - p1[props[1]];\r\n\r\n    return Math.sqrt((x * x) + (y * y));\r\n}\r\n\r\n/**\r\n * calculate the angle between two coordinates\r\n * @param {Object} p1\r\n * @param {Object} p2\r\n * @param {Array} [props] containing x and y keys\r\n * @return {Number} angle\r\n */\r\nfunction getAngle(p1, p2, props) {\r\n    if (!props) {\r\n        props = PROPS_XY;\r\n    }\r\n    var x = p2[props[0]] - p1[props[0]],\r\n        y = p2[props[1]] - p1[props[1]];\r\n    return Math.atan2(y, x) * 180 / Math.PI;\r\n}\r\n\r\n/**\r\n * calculate the rotation degrees between two pointersets\r\n * @param {Array} start array of pointers\r\n * @param {Array} end array of pointers\r\n * @return {Number} rotation\r\n */\r\nfunction getRotation(start, end) {\r\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) - getAngle(start[1], start[0], PROPS_CLIENT_XY);\r\n}\r\n\r\n/**\r\n * calculate the scale factor between two pointersets\r\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\r\n * @param {Array} start array of pointers\r\n * @param {Array} end array of pointers\r\n * @return {Number} scale\r\n */\r\nfunction getScale(start, end) {\r\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\r\n}\r\n\r\nvar MOUSE_INPUT_MAP = {\r\n    mousedown: INPUT_START,\r\n    mousemove: INPUT_MOVE,\r\n    mouseup: INPUT_END\r\n};\r\n\r\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\r\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\r\n\r\n/**\r\n * Mouse events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction MouseInput() {\r\n    this.evEl = MOUSE_ELEMENT_EVENTS;\r\n    this.evWin = MOUSE_WINDOW_EVENTS;\r\n\r\n    this.allow = true; // used by Input.TouchMouse to disable mouse events\r\n    this.pressed = false; // mousedown state\r\n\r\n    Input.apply(this, arguments);\r\n}\r\n\r\ninherit(MouseInput, Input, {\r\n    /**\r\n     * handle mouse events\r\n     * @param {Object} ev\r\n     */\r\n    handler: function MEhandler(ev) {\r\n        var eventType = MOUSE_INPUT_MAP[ev.type];\r\n\r\n        // on start we want to have the left mouse button down\r\n        if (eventType & INPUT_START && ev.button === 0) {\r\n            this.pressed = true;\r\n        }\r\n\r\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\r\n            eventType = INPUT_END;\r\n        }\r\n\r\n        // mouse must be down, and mouse events are allowed (see the TouchMouse input)\r\n        if (!this.pressed || !this.allow) {\r\n            return;\r\n        }\r\n\r\n        if (eventType & INPUT_END) {\r\n            this.pressed = false;\r\n        }\r\n\r\n        this.callback(this.manager, eventType, {\r\n            pointers: [ev],\r\n            changedPointers: [ev],\r\n            pointerType: INPUT_TYPE_MOUSE,\r\n            srcEvent: ev\r\n        });\r\n    }\r\n});\r\n\r\nvar POINTER_INPUT_MAP = {\r\n    pointerdown: INPUT_START,\r\n    pointermove: INPUT_MOVE,\r\n    pointerup: INPUT_END,\r\n    pointercancel: INPUT_CANCEL,\r\n    pointerout: INPUT_CANCEL\r\n};\r\n\r\n// in IE10 the pointer types is defined as an enum\r\nvar IE10_POINTER_TYPE_ENUM = {\r\n    2: INPUT_TYPE_TOUCH,\r\n    3: INPUT_TYPE_PEN,\r\n    4: INPUT_TYPE_MOUSE,\r\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\r\n};\r\n\r\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\r\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\r\n\r\n// IE10 has prefixed support, and case-sensitive\r\nif (window.MSPointerEvent) {\r\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\r\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\r\n}\r\n\r\n/**\r\n * Pointer events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction PointerEventInput() {\r\n    this.evEl = POINTER_ELEMENT_EVENTS;\r\n    this.evWin = POINTER_WINDOW_EVENTS;\r\n\r\n    Input.apply(this, arguments);\r\n\r\n    this.store = (this.manager.session.pointerEvents = []);\r\n}\r\n\r\ninherit(PointerEventInput, Input, {\r\n    /**\r\n     * handle mouse events\r\n     * @param {Object} ev\r\n     */\r\n    handler: function PEhandler(ev) {\r\n        var store = this.store;\r\n        var removePointer = false;\r\n\r\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\r\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\r\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\r\n\r\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\r\n\r\n        // get index of the event in the store\r\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\r\n\r\n        // start and mouse must be down\r\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\r\n            if (storeIndex < 0) {\r\n                store.push(ev);\r\n                storeIndex = store.length - 1;\r\n            }\r\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\r\n            removePointer = true;\r\n        }\r\n\r\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\r\n        if (storeIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        // update the event in the store\r\n        store[storeIndex] = ev;\r\n\r\n        this.callback(this.manager, eventType, {\r\n            pointers: store,\r\n            changedPointers: [ev],\r\n            pointerType: pointerType,\r\n            srcEvent: ev\r\n        });\r\n\r\n        if (removePointer) {\r\n            // remove from the store\r\n            store.splice(storeIndex, 1);\r\n        }\r\n    }\r\n});\r\n\r\nvar SINGLE_TOUCH_INPUT_MAP = {\r\n    touchstart: INPUT_START,\r\n    touchmove: INPUT_MOVE,\r\n    touchend: INPUT_END,\r\n    touchcancel: INPUT_CANCEL\r\n};\r\n\r\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\r\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\r\n\r\n/**\r\n * Touch events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction SingleTouchInput() {\r\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\r\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\r\n    this.started = false;\r\n\r\n    Input.apply(this, arguments);\r\n}\r\n\r\ninherit(SingleTouchInput, Input, {\r\n    handler: function TEhandler(ev) {\r\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\r\n\r\n        // should we handle the touch events?\r\n        if (type === INPUT_START) {\r\n            this.started = true;\r\n        }\r\n\r\n        if (!this.started) {\r\n            return;\r\n        }\r\n\r\n        var touches = normalizeSingleTouches.call(this, ev, type);\r\n\r\n        // when done, reset the started state\r\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\r\n            this.started = false;\r\n        }\r\n\r\n        this.callback(this.manager, type, {\r\n            pointers: touches[0],\r\n            changedPointers: touches[1],\r\n            pointerType: INPUT_TYPE_TOUCH,\r\n            srcEvent: ev\r\n        });\r\n    }\r\n});\r\n\r\n/**\r\n * @this {TouchInput}\r\n * @param {Object} ev\r\n * @param {Number} type flag\r\n * @returns {undefined|Array} [all, changed]\r\n */\r\nfunction normalizeSingleTouches(ev, type) {\r\n    var all = toArray(ev.touches);\r\n    var changed = toArray(ev.changedTouches);\r\n\r\n    if (type & (INPUT_END | INPUT_CANCEL)) {\r\n        all = uniqueArray(all.concat(changed), 'identifier', true);\r\n    }\r\n\r\n    return [all, changed];\r\n}\r\n\r\nvar TOUCH_INPUT_MAP = {\r\n    touchstart: INPUT_START,\r\n    touchmove: INPUT_MOVE,\r\n    touchend: INPUT_END,\r\n    touchcancel: INPUT_CANCEL\r\n};\r\n\r\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\r\n\r\n/**\r\n * Multi-user touch events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction TouchInput() {\r\n    this.evTarget = TOUCH_TARGET_EVENTS;\r\n    this.targetIds = {};\r\n\r\n    Input.apply(this, arguments);\r\n}\r\n\r\ninherit(TouchInput, Input, {\r\n    handler: function MTEhandler(ev) {\r\n        var type = TOUCH_INPUT_MAP[ev.type];\r\n        var touches = getTouches.call(this, ev, type);\r\n        if (!touches) {\r\n            return;\r\n        }\r\n\r\n        this.callback(this.manager, type, {\r\n            pointers: touches[0],\r\n            changedPointers: touches[1],\r\n            pointerType: INPUT_TYPE_TOUCH,\r\n            srcEvent: ev\r\n        });\r\n    }\r\n});\r\n\r\n/**\r\n * @this {TouchInput}\r\n * @param {Object} ev\r\n * @param {Number} type flag\r\n * @returns {undefined|Array} [all, changed]\r\n */\r\nfunction getTouches(ev, type) {\r\n    var allTouches = toArray(ev.touches);\r\n    var targetIds = this.targetIds;\r\n\r\n    // when there is only one touch, the process can be simplified\r\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\r\n        targetIds[allTouches[0].identifier] = true;\r\n        return [allTouches, allTouches];\r\n    }\r\n\r\n    var i,\r\n        targetTouches,\r\n        changedTouches = toArray(ev.changedTouches),\r\n        changedTargetTouches = [],\r\n        target = this.target;\r\n\r\n    // get target touches from touches\r\n    targetTouches = allTouches.filter(function(touch) {\r\n        return hasParent(touch.target, target);\r\n    });\r\n\r\n    // collect touches\r\n    if (type === INPUT_START) {\r\n        i = 0;\r\n        while (i < targetTouches.length) {\r\n            targetIds[targetTouches[i].identifier] = true;\r\n            i++;\r\n        }\r\n    }\r\n\r\n    // filter changed touches to only contain touches that exist in the collected target ids\r\n    i = 0;\r\n    while (i < changedTouches.length) {\r\n        if (targetIds[changedTouches[i].identifier]) {\r\n            changedTargetTouches.push(changedTouches[i]);\r\n        }\r\n\r\n        // cleanup removed touches\r\n        if (type & (INPUT_END | INPUT_CANCEL)) {\r\n            delete targetIds[changedTouches[i].identifier];\r\n        }\r\n        i++;\r\n    }\r\n\r\n    if (!changedTargetTouches.length) {\r\n        return;\r\n    }\r\n\r\n    return [\r\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\r\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\r\n        changedTargetTouches\r\n    ];\r\n}\r\n\r\n/**\r\n * Combined touch and mouse input\r\n *\r\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\r\n * This because touch devices also emit mouse events while doing a touch.\r\n *\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction TouchMouseInput() {\r\n    Input.apply(this, arguments);\r\n\r\n    var handler = bindFn(this.handler, this);\r\n    this.touch = new TouchInput(this.manager, handler);\r\n    this.mouse = new MouseInput(this.manager, handler);\r\n}\r\n\r\ninherit(TouchMouseInput, Input, {\r\n    /**\r\n     * handle mouse and touch events\r\n     * @param {Hammer} manager\r\n     * @param {String} inputEvent\r\n     * @param {Object} inputData\r\n     */\r\n    handler: function TMEhandler(manager, inputEvent, inputData) {\r\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\r\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\r\n\r\n        // when we're in a touch event, so  block all upcoming mouse events\r\n        // most mobile browser also emit mouseevents, right after touchstart\r\n        if (isTouch) {\r\n            this.mouse.allow = false;\r\n        } else if (isMouse && !this.mouse.allow) {\r\n            return;\r\n        }\r\n\r\n        // reset the allowMouse when we're done\r\n        if (inputEvent & (INPUT_END | INPUT_CANCEL)) {\r\n            this.mouse.allow = true;\r\n        }\r\n\r\n        this.callback(manager, inputEvent, inputData);\r\n    },\r\n\r\n    /**\r\n     * remove the event listeners\r\n     */\r\n    destroy: function destroy() {\r\n        this.touch.destroy();\r\n        this.mouse.destroy();\r\n    }\r\n});\r\n\r\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\r\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\r\n\r\n// magical touchAction value\r\nvar TOUCH_ACTION_COMPUTE = 'compute';\r\nvar TOUCH_ACTION_AUTO = 'auto';\r\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\r\nvar TOUCH_ACTION_NONE = 'none';\r\nvar TOUCH_ACTION_PAN_X = 'pan-x';\r\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\r\n\r\n/**\r\n * Touch Action\r\n * sets the touchAction property or uses the js alternative\r\n * @param {Manager} manager\r\n * @param {String} value\r\n * @constructor\r\n */\r\nfunction TouchAction(manager, value) {\r\n    this.manager = manager;\r\n    this.set(value);\r\n}\r\n\r\nTouchAction.prototype = {\r\n    /**\r\n     * set the touchAction value on the element or enable the polyfill\r\n     * @param {String} value\r\n     */\r\n    set: function(value) {\r\n        // find out the touch-action by the event handlers\r\n        if (value == TOUCH_ACTION_COMPUTE) {\r\n            value = this.compute();\r\n        }\r\n\r\n        if (NATIVE_TOUCH_ACTION) {\r\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\r\n        }\r\n        this.actions = value.toLowerCase().trim();\r\n    },\r\n\r\n    /**\r\n     * just re-set the touchAction value\r\n     */\r\n    update: function() {\r\n        this.set(this.manager.options.touchAction);\r\n    },\r\n\r\n    /**\r\n     * compute the value for the touchAction property based on the recognizer's settings\r\n     * @returns {String} value\r\n     */\r\n    compute: function() {\r\n        var actions = [];\r\n        each(this.manager.recognizers, function(recognizer) {\r\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\r\n                actions = actions.concat(recognizer.getTouchAction());\r\n            }\r\n        });\r\n        return cleanTouchActions(actions.join(' '));\r\n    },\r\n\r\n    /**\r\n     * this method is called on each input cycle and provides the preventing of the browser behavior\r\n     * @param {Object} input\r\n     */\r\n    preventDefaults: function(input) {\r\n        // not needed with native support for the touchAction property\r\n        if (NATIVE_TOUCH_ACTION) {\r\n            return;\r\n        }\r\n\r\n        var srcEvent = input.srcEvent;\r\n        var direction = input.offsetDirection;\r\n\r\n        // if the touch action did prevented once this session\r\n        if (this.manager.session.prevented) {\r\n            srcEvent.preventDefault();\r\n            return;\r\n        }\r\n\r\n        var actions = this.actions;\r\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE);\r\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\r\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\r\n\r\n        if (hasNone ||\r\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\r\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\r\n            return this.preventSrc(srcEvent);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\r\n     * @param {Object} srcEvent\r\n     */\r\n    preventSrc: function(srcEvent) {\r\n        this.manager.session.prevented = true;\r\n        srcEvent.preventDefault();\r\n    }\r\n};\r\n\r\n/**\r\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\r\n * @param {String} actions\r\n * @returns {*}\r\n */\r\nfunction cleanTouchActions(actions) {\r\n    // none\r\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\r\n        return TOUCH_ACTION_NONE;\r\n    }\r\n\r\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\r\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\r\n\r\n    // pan-x and pan-y can be combined\r\n    if (hasPanX && hasPanY) {\r\n        return TOUCH_ACTION_PAN_X + ' ' + TOUCH_ACTION_PAN_Y;\r\n    }\r\n\r\n    // pan-x OR pan-y\r\n    if (hasPanX || hasPanY) {\r\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\r\n    }\r\n\r\n    // manipulation\r\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\r\n        return TOUCH_ACTION_MANIPULATION;\r\n    }\r\n\r\n    return TOUCH_ACTION_AUTO;\r\n}\r\n\r\n/**\r\n * Recognizer flow explained; *\r\n * All recognizers have the initial state of POSSIBLE when a input session starts.\r\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\r\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\r\n *\r\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\r\n * which determines with state it should be.\r\n *\r\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\r\n * POSSIBLE to give it another change on the next cycle.\r\n *\r\n *               Possible\r\n *                  |\r\n *            +-----+---------------+\r\n *            |                     |\r\n *      +-----+-----+               |\r\n *      |           |               |\r\n *   Failed      Cancelled          |\r\n *                          +-------+------+\r\n *                          |              |\r\n *                      Recognized       Began\r\n *                                         |\r\n *                                      Changed\r\n *                                         |\r\n *                                  Ended/Recognized\r\n */\r\nvar STATE_POSSIBLE = 1;\r\nvar STATE_BEGAN = 2;\r\nvar STATE_CHANGED = 4;\r\nvar STATE_ENDED = 8;\r\nvar STATE_RECOGNIZED = STATE_ENDED;\r\nvar STATE_CANCELLED = 16;\r\nvar STATE_FAILED = 32;\r\n\r\n/**\r\n * Recognizer\r\n * Every recognizer needs to extend from this class.\r\n * @constructor\r\n * @param {Object} options\r\n */\r\nfunction Recognizer(options) {\r\n    this.id = uniqueId();\r\n\r\n    this.manager = null;\r\n    this.options = merge(options || {}, this.defaults);\r\n\r\n    // default is enable true\r\n    this.options.enable = ifUndefined(this.options.enable, true);\r\n\r\n    this.state = STATE_POSSIBLE;\r\n\r\n    this.simultaneous = {};\r\n    this.requireFail = [];\r\n}\r\n\r\nRecognizer.prototype = {\r\n    /**\r\n     * @virtual\r\n     * @type {Object}\r\n     */\r\n    defaults: {},\r\n\r\n    /**\r\n     * set options\r\n     * @param {Object} options\r\n     * @return {Recognizer}\r\n     */\r\n    set: function(options) {\r\n        extend(this.options, options);\r\n\r\n        // also update the touchAction, in case something changed about the directions/enabled state\r\n        this.manager && this.manager.touchAction.update();\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * recognize simultaneous with an other recognizer.\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    recognizeWith: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\r\n            return this;\r\n        }\r\n\r\n        var simultaneous = this.simultaneous;\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        if (!simultaneous[otherRecognizer.id]) {\r\n            simultaneous[otherRecognizer.id] = otherRecognizer;\r\n            otherRecognizer.recognizeWith(this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    dropRecognizeWith: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\r\n            return this;\r\n        }\r\n\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        delete this.simultaneous[otherRecognizer.id];\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * recognizer can only run when an other is failing\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    requireFailure: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\r\n            return this;\r\n        }\r\n\r\n        var requireFail = this.requireFail;\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        if (inArray(requireFail, otherRecognizer) === -1) {\r\n            requireFail.push(otherRecognizer);\r\n            otherRecognizer.requireFailure(this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    dropRequireFailure: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\r\n            return this;\r\n        }\r\n\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        var index = inArray(this.requireFail, otherRecognizer);\r\n        if (index > -1) {\r\n            this.requireFail.splice(index, 1);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * has require failures boolean\r\n     * @returns {boolean}\r\n     */\r\n    hasRequireFailures: function() {\r\n        return this.requireFail.length > 0;\r\n    },\r\n\r\n    /**\r\n     * if the recognizer can recognize simultaneous with an other recognizer\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Boolean}\r\n     */\r\n    canRecognizeWith: function(otherRecognizer) {\r\n        return !!this.simultaneous[otherRecognizer.id];\r\n    },\r\n\r\n    /**\r\n     * You should use `tryEmit` instead of `emit` directly to check\r\n     * that all the needed recognizers has failed before emitting.\r\n     * @param {Object} input\r\n     */\r\n    emit: function(input) {\r\n        var self = this;\r\n        var state = this.state;\r\n\r\n        function emit(withState) {\r\n            self.manager.emit(self.options.event + (withState ? stateStr(state) : ''), input);\r\n        }\r\n\r\n        // 'panstart' and 'panmove'\r\n        if (state < STATE_ENDED) {\r\n            emit(true);\r\n        }\r\n\r\n        emit(); // simple 'eventName' events\r\n\r\n        // panend and pancancel\r\n        if (state >= STATE_ENDED) {\r\n            emit(true);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Check that all the require failure recognizers has failed,\r\n     * if true, it emits a gesture event,\r\n     * otherwise, setup the state to FAILED.\r\n     * @param {Object} input\r\n     */\r\n    tryEmit: function(input) {\r\n        if (this.canEmit()) {\r\n            return this.emit(input);\r\n        }\r\n        // it's failing anyway\r\n        this.state = STATE_FAILED;\r\n    },\r\n\r\n    /**\r\n     * can we emit?\r\n     * @returns {boolean}\r\n     */\r\n    canEmit: function() {\r\n        var i = 0;\r\n        while (i < this.requireFail.length) {\r\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\r\n                return false;\r\n            }\r\n            i++;\r\n        }\r\n        return true;\r\n    },\r\n\r\n    /**\r\n     * update the recognizer\r\n     * @param {Object} inputData\r\n     */\r\n    recognize: function(inputData) {\r\n        // make a new copy of the inputData\r\n        // so we can change the inputData without messing up the other recognizers\r\n        var inputDataClone = extend({}, inputData);\r\n\r\n        // is is enabled and allow recognizing?\r\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\r\n            this.reset();\r\n            this.state = STATE_FAILED;\r\n            return;\r\n        }\r\n\r\n        // reset when we've reached the end\r\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\r\n            this.state = STATE_POSSIBLE;\r\n        }\r\n\r\n        this.state = this.process(inputDataClone);\r\n\r\n        // the recognizer has recognized a gesture\r\n        // so trigger an event\r\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\r\n            this.tryEmit(inputDataClone);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * return the state of the recognizer\r\n     * the actual recognizing happens in this method\r\n     * @virtual\r\n     * @param {Object} inputData\r\n     * @returns {Const} STATE\r\n     */\r\n    process: function(inputData) { }, // jshint ignore:line\r\n\r\n    /**\r\n     * return the preferred touch-action\r\n     * @virtual\r\n     * @returns {Array}\r\n     */\r\n    getTouchAction: function() { },\r\n\r\n    /**\r\n     * called when the gesture isn't allowed to recognize\r\n     * like when another is being recognized or it is disabled\r\n     * @virtual\r\n     */\r\n    reset: function() { }\r\n};\r\n\r\n/**\r\n * get a usable string, used as event postfix\r\n * @param {Const} state\r\n * @returns {String} state\r\n */\r\nfunction stateStr(state) {\r\n    if (state & STATE_CANCELLED) {\r\n        return 'cancel';\r\n    } else if (state & STATE_ENDED) {\r\n        return 'end';\r\n    } else if (state & STATE_CHANGED) {\r\n        return 'move';\r\n    } else if (state & STATE_BEGAN) {\r\n        return 'start';\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n * direction cons to string\r\n * @param {Const} direction\r\n * @returns {String}\r\n */\r\nfunction directionStr(direction) {\r\n    if (direction == DIRECTION_DOWN) {\r\n        return 'down';\r\n    } else if (direction == DIRECTION_UP) {\r\n        return 'up';\r\n    } else if (direction == DIRECTION_LEFT) {\r\n        return 'left';\r\n    } else if (direction == DIRECTION_RIGHT) {\r\n        return 'right';\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n * get a recognizer by name if it is bound to a manager\r\n * @param {Recognizer|String} otherRecognizer\r\n * @param {Recognizer} recognizer\r\n * @returns {Recognizer}\r\n */\r\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\r\n    var manager = recognizer.manager;\r\n    if (manager) {\r\n        return manager.get(otherRecognizer);\r\n    }\r\n    return otherRecognizer;\r\n}\r\n\r\n/**\r\n * This recognizer is just used as a base for the simple attribute recognizers.\r\n * @constructor\r\n * @extends Recognizer\r\n */\r\nfunction AttrRecognizer() {\r\n    Recognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(AttrRecognizer, Recognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof AttrRecognizer\r\n     */\r\n    defaults: {\r\n        /**\r\n         * @type {Number}\r\n         * @default 1\r\n         */\r\n        pointers: 1\r\n    },\r\n\r\n    /**\r\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\r\n     * @memberof AttrRecognizer\r\n     * @param {Object} input\r\n     * @returns {Boolean} recognized\r\n     */\r\n    attrTest: function(input) {\r\n        var optionPointers = this.options.pointers;\r\n        return optionPointers === 0 || input.pointers.length === optionPointers;\r\n    },\r\n\r\n    /**\r\n     * Process the input and return the state for the recognizer\r\n     * @memberof AttrRecognizer\r\n     * @param {Object} input\r\n     * @returns {*} State\r\n     */\r\n    process: function(input) {\r\n        var state = this.state;\r\n        var eventType = input.eventType;\r\n\r\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\r\n        var isValid = this.attrTest(input);\r\n\r\n        // on cancel input and we've recognized before, return STATE_CANCELLED\r\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\r\n            return state | STATE_CANCELLED;\r\n        } else if (isRecognized || isValid) {\r\n            if (eventType & INPUT_END) {\r\n                return state | STATE_ENDED;\r\n            } else if (!(state & STATE_BEGAN)) {\r\n                return STATE_BEGAN;\r\n            }\r\n            return state | STATE_CHANGED;\r\n        }\r\n        return STATE_FAILED;\r\n    }\r\n});\r\n\r\n/**\r\n * Pan\r\n * Recognized when the pointer is down and moved in the allowed direction.\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction PanRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n\r\n    this.pX = null;\r\n    this.pY = null;\r\n}\r\n\r\ninherit(PanRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PanRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'pan',\r\n        threshold: 10,\r\n        pointers: 1,\r\n        direction: DIRECTION_ALL\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        var direction = this.options.direction;\r\n        var actions = [];\r\n        if (direction & DIRECTION_HORIZONTAL) {\r\n            actions.push(TOUCH_ACTION_PAN_Y);\r\n        }\r\n        if (direction & DIRECTION_VERTICAL) {\r\n            actions.push(TOUCH_ACTION_PAN_X);\r\n        }\r\n        return actions;\r\n    },\r\n\r\n    directionTest: function(input) {\r\n        var options = this.options;\r\n        var hasMoved = true;\r\n        var distance = input.distance;\r\n        var direction = input.direction;\r\n        var x = input.deltaX;\r\n        var y = input.deltaY;\r\n\r\n        // lock to axis?\r\n        if (!(direction & options.direction)) {\r\n            if (options.direction & DIRECTION_HORIZONTAL) {\r\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\r\n                hasMoved = x != this.pX;\r\n                distance = Math.abs(input.deltaX);\r\n            } else {\r\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\r\n                hasMoved = y != this.pY;\r\n                distance = Math.abs(input.deltaY);\r\n            }\r\n        }\r\n        input.direction = direction;\r\n        return hasMoved && distance > options.threshold && direction & options.direction;\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\r\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\r\n    },\r\n\r\n    emit: function(input) {\r\n        this.pX = input.deltaX;\r\n        this.pY = input.deltaY;\r\n\r\n        var direction = directionStr(input.direction);\r\n        if (direction) {\r\n            this.manager.emit(this.options.event + direction, input);\r\n        }\r\n\r\n        this._super.emit.call(this, input);\r\n    }\r\n});\r\n\r\n/**\r\n * Pinch\r\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction PinchRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(PinchRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PinchRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'pinch',\r\n        threshold: 0,\r\n        pointers: 2\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_NONE];\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        return this._super.attrTest.call(this, input) &&\r\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\r\n    },\r\n\r\n    emit: function(input) {\r\n        this._super.emit.call(this, input);\r\n        if (input.scale !== 1) {\r\n            var inOut = input.scale < 1 ? 'in' : 'out';\r\n            this.manager.emit(this.options.event + inOut, input);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Press\r\n * Recognized when the pointer is down for x ms without any movement.\r\n * @constructor\r\n * @extends Recognizer\r\n */\r\nfunction PressRecognizer() {\r\n    Recognizer.apply(this, arguments);\r\n\r\n    this._timer = null;\r\n    this._input = null;\r\n}\r\n\r\ninherit(PressRecognizer, Recognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PressRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'press',\r\n        pointers: 1,\r\n        time: 500, // minimal time of the pointer to be pressed\r\n        threshold: 5 // a minimal movement is ok, but keep it low\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_AUTO];\r\n    },\r\n\r\n    process: function(input) {\r\n        var options = this.options;\r\n        var validPointers = input.pointers.length === options.pointers;\r\n        var validMovement = input.distance < options.threshold;\r\n        var validTime = input.deltaTime > options.time;\r\n\r\n        this._input = input;\r\n\r\n        // we only allow little movement\r\n        // and we've reached an end event, so a tap is possible\r\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\r\n            this.reset();\r\n        } else if (input.eventType & INPUT_START) {\r\n            this.reset();\r\n            this._timer = setTimeoutContext(function() {\r\n                this.state = STATE_RECOGNIZED;\r\n                this.tryEmit();\r\n            }, options.time, this);\r\n        } else if (input.eventType & INPUT_END) {\r\n            return STATE_RECOGNIZED;\r\n        }\r\n        return STATE_FAILED;\r\n    },\r\n\r\n    reset: function() {\r\n        clearTimeout(this._timer);\r\n    },\r\n\r\n    emit: function(input) {\r\n        if (this.state !== STATE_RECOGNIZED) {\r\n            return;\r\n        }\r\n\r\n        if (input && (input.eventType & INPUT_END)) {\r\n            this.manager.emit(this.options.event + 'up', input);\r\n        } else {\r\n            this._input.timeStamp = now();\r\n            this.manager.emit(this.options.event, this._input);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Rotate\r\n * Recognized when two or more pointer are moving in a circular motion.\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction RotateRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(RotateRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof RotateRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'rotate',\r\n        threshold: 0,\r\n        pointers: 2\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_NONE];\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        return this._super.attrTest.call(this, input) &&\r\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\r\n    }\r\n});\r\n\r\n/**\r\n * Swipe\r\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction SwipeRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(SwipeRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof SwipeRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'swipe',\r\n        threshold: 10,\r\n        velocity: 0.65,\r\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\r\n        pointers: 1\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return PanRecognizer.prototype.getTouchAction.call(this);\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        var direction = this.options.direction;\r\n        var velocity;\r\n\r\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\r\n            velocity = input.velocity;\r\n        } else if (direction & DIRECTION_HORIZONTAL) {\r\n            velocity = input.velocityX;\r\n        } else if (direction & DIRECTION_VERTICAL) {\r\n            velocity = input.velocityY;\r\n        }\r\n\r\n        return this._super.attrTest.call(this, input) &&\r\n            direction & input.direction &&\r\n            input.distance > this.options.threshold &&\r\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\r\n    },\r\n\r\n    emit: function(input) {\r\n        var direction = directionStr(input.direction);\r\n        if (direction) {\r\n            this.manager.emit(this.options.event + direction, input);\r\n        }\r\n\r\n        this.manager.emit(this.options.event, input);\r\n    }\r\n});\r\n\r\n/**\r\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\r\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\r\n * a single tap.\r\n *\r\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\r\n * multi-taps being recognized.\r\n * @constructor\r\n * @extends Recognizer\r\n */\r\nfunction TapRecognizer() {\r\n    Recognizer.apply(this, arguments);\r\n\r\n    // previous time and center,\r\n    // used for tap counting\r\n    this.pTime = false;\r\n    this.pCenter = false;\r\n\r\n    this._timer = null;\r\n    this._input = null;\r\n    this.count = 0;\r\n}\r\n\r\ninherit(TapRecognizer, Recognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PinchRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'tap',\r\n        pointers: 1,\r\n        taps: 1,\r\n        interval: 300, // max time between the multi-tap taps\r\n        time: 250, // max time of the pointer to be down (like finger on the screen)\r\n        threshold: 2, // a minimal movement is ok, but keep it low\r\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_MANIPULATION];\r\n    },\r\n\r\n    process: function(input) {\r\n        var options = this.options;\r\n\r\n        var validPointers = input.pointers.length === options.pointers;\r\n        var validMovement = input.distance < options.threshold;\r\n        var validTouchTime = input.deltaTime < options.time;\r\n\r\n        this.reset();\r\n\r\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\r\n            return this.failTimeout();\r\n        }\r\n\r\n        // we only allow little movement\r\n        // and we've reached an end event, so a tap is possible\r\n        if (validMovement && validTouchTime && validPointers) {\r\n            if (input.eventType != INPUT_END) {\r\n                return this.failTimeout();\r\n            }\r\n\r\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\r\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\r\n\r\n            this.pTime = input.timeStamp;\r\n            this.pCenter = input.center;\r\n\r\n            if (!validMultiTap || !validInterval) {\r\n                this.count = 1;\r\n            } else {\r\n                this.count += 1;\r\n            }\r\n\r\n            this._input = input;\r\n\r\n            // if tap count matches we have recognized it,\r\n            // else it has began recognizing...\r\n            var tapCount = this.count % options.taps;\r\n            if (tapCount === 0) {\r\n                // no failing requirements, immediately trigger the tap event\r\n                // or wait as long as the multitap interval to trigger\r\n                if (!this.hasRequireFailures()) {\r\n                    return STATE_RECOGNIZED;\r\n                } else {\r\n                    this._timer = setTimeoutContext(function() {\r\n                        this.state = STATE_RECOGNIZED;\r\n                        this.tryEmit();\r\n                    }, options.interval, this);\r\n                    return STATE_BEGAN;\r\n                }\r\n            }\r\n        }\r\n        return STATE_FAILED;\r\n    },\r\n\r\n    failTimeout: function() {\r\n        this._timer = setTimeoutContext(function() {\r\n            this.state = STATE_FAILED;\r\n        }, this.options.interval, this);\r\n        return STATE_FAILED;\r\n    },\r\n\r\n    reset: function() {\r\n        clearTimeout(this._timer);\r\n    },\r\n\r\n    emit: function() {\r\n        if (this.state == STATE_RECOGNIZED ) {\r\n            this._input.tapCount = this.count;\r\n            this.manager.emit(this.options.event, this._input);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Simple way to create an manager with a default set of recognizers.\r\n * @param {HTMLElement} element\r\n * @param {Object} [options]\r\n * @constructor\r\n */\r\nfunction Hammer(element, options) {\r\n    options = options || {};\r\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\r\n    return new Manager(element, options);\r\n}\r\n\r\n/**\r\n * @const {string}\r\n */\r\nHammer.VERSION = '2.0.4';\r\n\r\n/**\r\n * default settings\r\n * @namespace\r\n */\r\nHammer.defaults = {\r\n    /**\r\n     * set if DOM events are being triggered.\r\n     * But this is slower and unused by simple implementations, so disabled by default.\r\n     * @type {Boolean}\r\n     * @default false\r\n     */\r\n    domEvents: false,\r\n\r\n    /**\r\n     * The value for the touchAction property/fallback.\r\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\r\n     * @type {String}\r\n     * @default compute\r\n     */\r\n    touchAction: TOUCH_ACTION_COMPUTE,\r\n\r\n    /**\r\n     * @type {Boolean}\r\n     * @default true\r\n     */\r\n    enable: true,\r\n\r\n    /**\r\n     * EXPERIMENTAL FEATURE -- can be removed/changed\r\n     * Change the parent input target element.\r\n     * If Null, then it is being set the to main element.\r\n     * @type {Null|EventTarget}\r\n     * @default null\r\n     */\r\n    inputTarget: null,\r\n\r\n    /**\r\n     * force an input class\r\n     * @type {Null|Function}\r\n     * @default null\r\n     */\r\n    inputClass: null,\r\n\r\n    /**\r\n     * Default recognizer setup when calling `Hammer()`\r\n     * When creating a new Manager these will be skipped.\r\n     * @type {Array}\r\n     */\r\n    preset: [\r\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\r\n        [RotateRecognizer, { enable: false }],\r\n        [PinchRecognizer, { enable: false }, ['rotate']],\r\n        [SwipeRecognizer,{ direction: DIRECTION_HORIZONTAL }],\r\n        [PanRecognizer, { direction: DIRECTION_HORIZONTAL }, ['swipe']],\r\n        [TapRecognizer],\r\n        [TapRecognizer, { event: 'doubletap', taps: 2 }, ['tap']],\r\n        [PressRecognizer]\r\n    ],\r\n\r\n    /**\r\n     * Some CSS properties can be used to improve the working of Hammer.\r\n     * Add them to this method and they will be set when creating a new Manager.\r\n     * @namespace\r\n     */\r\n    cssProps: {\r\n        /**\r\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        userSelect: 'none',\r\n\r\n        /**\r\n         * Disable the Windows Phone grippers when pressing an element.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        touchSelect: 'none',\r\n\r\n        /**\r\n         * Disables the default callout shown when you touch and hold a touch target.\r\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\r\n         * a callout containing information about the link. This property allows you to disable that callout.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        touchCallout: 'none',\r\n\r\n        /**\r\n         * Specifies whether zooming is enabled. Used by IE10>\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        contentZooming: 'none',\r\n\r\n        /**\r\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        userDrag: 'none',\r\n\r\n        /**\r\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\r\n         * clickable element in iOS. This property obeys the alpha value, if specified.\r\n         * @type {String}\r\n         * @default 'rgba(0,0,0,0)'\r\n         */\r\n        tapHighlightColor: 'rgba(0,0,0,0)'\r\n    }\r\n};\r\n\r\nvar STOP = 1;\r\nvar FORCED_STOP = 2;\r\n\r\n/**\r\n * Manager\r\n * @param {HTMLElement} element\r\n * @param {Object} [options]\r\n * @constructor\r\n */\r\nfunction Manager(element, options) {\r\n    options = options || {};\r\n\r\n    this.options = merge(options, Hammer.defaults);\r\n    this.options.inputTarget = this.options.inputTarget || element;\r\n\r\n    this.handlers = {};\r\n    this.session = {};\r\n    this.recognizers = [];\r\n\r\n    this.element = element;\r\n    this.input = createInputInstance(this);\r\n    this.touchAction = new TouchAction(this, this.options.touchAction);\r\n\r\n    toggleCssProps(this, true);\r\n\r\n    each(options.recognizers, function(item) {\r\n        var recognizer = this.add(new (item[0])(item[1]));\r\n        item[2] && recognizer.recognizeWith(item[2]);\r\n        item[3] && recognizer.requireFailure(item[3]);\r\n    }, this);\r\n}\r\n\r\nManager.prototype = {\r\n    /**\r\n     * set options\r\n     * @param {Object} options\r\n     * @returns {Manager}\r\n     */\r\n    set: function(options) {\r\n        extend(this.options, options);\r\n\r\n        // Options that need a little more setup\r\n        if (options.touchAction) {\r\n            this.touchAction.update();\r\n        }\r\n        if (options.inputTarget) {\r\n            // Clean up existing event listeners and reinitialize\r\n            this.input.destroy();\r\n            this.input.target = options.inputTarget;\r\n            this.input.init();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * stop recognizing for this session.\r\n     * This session will be discarded, when a new [input]start event is fired.\r\n     * When forced, the recognizer cycle is stopped immediately.\r\n     * @param {Boolean} [force]\r\n     */\r\n    stop: function(force) {\r\n        this.session.stopped = force ? FORCED_STOP : STOP;\r\n    },\r\n\r\n    /**\r\n     * run the recognizers!\r\n     * called by the inputHandler function on every movement of the pointers (touches)\r\n     * it walks through all the recognizers and tries to detect the gesture that is being made\r\n     * @param {Object} inputData\r\n     */\r\n    recognize: function(inputData) {\r\n        var session = this.session;\r\n        if (session.stopped) {\r\n            return;\r\n        }\r\n\r\n        // run the touch-action polyfill\r\n        this.touchAction.preventDefaults(inputData);\r\n\r\n        var recognizer;\r\n        var recognizers = this.recognizers;\r\n\r\n        // this holds the recognizer that is being recognized.\r\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\r\n        // if no recognizer is detecting a thing, it is set to `null`\r\n        var curRecognizer = session.curRecognizer;\r\n\r\n        // reset when the last recognizer is recognized\r\n        // or when we're in a new session\r\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\r\n            curRecognizer = session.curRecognizer = null;\r\n        }\r\n\r\n        var i = 0;\r\n        while (i < recognizers.length) {\r\n            recognizer = recognizers[i];\r\n\r\n            // find out if we are allowed try to recognize the input for this one.\r\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\r\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\r\n            //      that is being recognized.\r\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\r\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\r\n            if (session.stopped !== FORCED_STOP && ( // 1\r\n                    !curRecognizer || recognizer == curRecognizer || // 2\r\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\r\n                recognizer.recognize(inputData);\r\n            } else {\r\n                recognizer.reset();\r\n            }\r\n\r\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\r\n            // current active recognizer. but only if we don't already have an active recognizer\r\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\r\n                curRecognizer = session.curRecognizer = recognizer;\r\n            }\r\n            i++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * get a recognizer by its event name.\r\n     * @param {Recognizer|String} recognizer\r\n     * @returns {Recognizer|Null}\r\n     */\r\n    get: function(recognizer) {\r\n        if (recognizer instanceof Recognizer) {\r\n            return recognizer;\r\n        }\r\n\r\n        var recognizers = this.recognizers;\r\n        for (var i = 0; i < recognizers.length; i++) {\r\n            if (recognizers[i].options.event == recognizer) {\r\n                return recognizers[i];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * add a recognizer to the manager\r\n     * existing recognizers with the same event name will be removed\r\n     * @param {Recognizer} recognizer\r\n     * @returns {Recognizer|Manager}\r\n     */\r\n    add: function(recognizer) {\r\n        if (invokeArrayArg(recognizer, 'add', this)) {\r\n            return this;\r\n        }\r\n\r\n        // remove existing\r\n        var existing = this.get(recognizer.options.event);\r\n        if (existing) {\r\n            this.remove(existing);\r\n        }\r\n\r\n        this.recognizers.push(recognizer);\r\n        recognizer.manager = this;\r\n\r\n        this.touchAction.update();\r\n        return recognizer;\r\n    },\r\n\r\n    /**\r\n     * remove a recognizer by name or instance\r\n     * @param {Recognizer|String} recognizer\r\n     * @returns {Manager}\r\n     */\r\n    remove: function(recognizer) {\r\n        if (invokeArrayArg(recognizer, 'remove', this)) {\r\n            return this;\r\n        }\r\n\r\n        var recognizers = this.recognizers;\r\n        recognizer = this.get(recognizer);\r\n        recognizers.splice(inArray(recognizers, recognizer), 1);\r\n\r\n        this.touchAction.update();\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * bind event\r\n     * @param {String} events\r\n     * @param {Function} handler\r\n     * @returns {EventEmitter} this\r\n     */\r\n    on: function(events, handler) {\r\n        var handlers = this.handlers;\r\n        each(splitStr(events), function(event) {\r\n            handlers[event] = handlers[event] || [];\r\n            handlers[event].push(handler);\r\n        });\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * unbind event, leave emit blank to remove all handlers\r\n     * @param {String} events\r\n     * @param {Function} [handler]\r\n     * @returns {EventEmitter} this\r\n     */\r\n    off: function(events, handler) {\r\n        var handlers = this.handlers;\r\n        each(splitStr(events), function(event) {\r\n            if (!handler) {\r\n                delete handlers[event];\r\n            } else {\r\n                handlers[event].splice(inArray(handlers[event], handler), 1);\r\n            }\r\n        });\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * emit event to the listeners\r\n     * @param {String} event\r\n     * @param {Object} data\r\n     */\r\n    emit: function(event, data) {\r\n        // we also want to trigger dom events\r\n        if (this.options.domEvents) {\r\n            triggerDomEvent(event, data);\r\n        }\r\n\r\n        // no handlers, so skip it all\r\n        var handlers = this.handlers[event] && this.handlers[event].slice();\r\n        if (!handlers || !handlers.length) {\r\n            return;\r\n        }\r\n\r\n        data.type = event;\r\n        data.preventDefault = function() {\r\n            data.srcEvent.preventDefault();\r\n        };\r\n\r\n        var i = 0;\r\n        while (i < handlers.length) {\r\n            handlers[i](data);\r\n            i++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * destroy the manager and unbinds all events\r\n     * it doesn't unbind dom events, that is the user own responsibility\r\n     */\r\n    destroy: function() {\r\n        this.element && toggleCssProps(this, false);\r\n\r\n        this.handlers = {};\r\n        this.session = {};\r\n        this.input.destroy();\r\n        this.element = null;\r\n    }\r\n};\r\n\r\n/**\r\n * add/remove the css properties as defined in manager.options.cssProps\r\n * @param {Manager} manager\r\n * @param {Boolean} add\r\n */\r\nfunction toggleCssProps(manager, add) {\r\n    var element = manager.element;\r\n    each(manager.options.cssProps, function(value, name) {\r\n        element.style[prefixed(element.style, name)] = add ? value : '';\r\n    });\r\n}\r\n\r\n/**\r\n * trigger dom event\r\n * @param {String} event\r\n * @param {Object} data\r\n */\r\nfunction triggerDomEvent(event, data) {\r\n    var gestureEvent = document.createEvent('Event');\r\n    gestureEvent.initEvent(event, true, true);\r\n    gestureEvent.gesture = data;\r\n    data.target.dispatchEvent(gestureEvent);\r\n}\r\n\r\nextend(Hammer, {\r\n    INPUT_START: INPUT_START,\r\n    INPUT_MOVE: INPUT_MOVE,\r\n    INPUT_END: INPUT_END,\r\n    INPUT_CANCEL: INPUT_CANCEL,\r\n\r\n    STATE_POSSIBLE: STATE_POSSIBLE,\r\n    STATE_BEGAN: STATE_BEGAN,\r\n    STATE_CHANGED: STATE_CHANGED,\r\n    STATE_ENDED: STATE_ENDED,\r\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\r\n    STATE_CANCELLED: STATE_CANCELLED,\r\n    STATE_FAILED: STATE_FAILED,\r\n\r\n    DIRECTION_NONE: DIRECTION_NONE,\r\n    DIRECTION_LEFT: DIRECTION_LEFT,\r\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\r\n    DIRECTION_UP: DIRECTION_UP,\r\n    DIRECTION_DOWN: DIRECTION_DOWN,\r\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\r\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\r\n    DIRECTION_ALL: DIRECTION_ALL,\r\n\r\n    Manager: Manager,\r\n    Input: Input,\r\n    TouchAction: TouchAction,\r\n\r\n    TouchInput: TouchInput,\r\n    MouseInput: MouseInput,\r\n    PointerEventInput: PointerEventInput,\r\n    TouchMouseInput: TouchMouseInput,\r\n    SingleTouchInput: SingleTouchInput,\r\n\r\n    Recognizer: Recognizer,\r\n    AttrRecognizer: AttrRecognizer,\r\n    Tap: TapRecognizer,\r\n    Pan: PanRecognizer,\r\n    Swipe: SwipeRecognizer,\r\n    Pinch: PinchRecognizer,\r\n    Rotate: RotateRecognizer,\r\n    Press: PressRecognizer,\r\n\r\n    on: addEventListeners,\r\n    off: removeEventListeners,\r\n    each: each,\r\n    merge: merge,\r\n    extend: extend,\r\n    inherit: inherit,\r\n    bindFn: bindFn,\r\n    prefixed: prefixed\r\n});\r\n\r\nif (typeof define == TYPE_FUNCTION && define.amd) {\r\n    define('hammerjs',[],function() {\r\n        return Hammer;\r\n    });\r\n} else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = Hammer;\r\n} else {\r\n    window[exportName] = Hammer;\r\n}\r\n\r\n})(window, document, 'Hammer');\r\n\n",
    "(function(factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('jquery_hammer',['jquery', 'hammerjs'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        factory(require('jquery'), require('hammerjs'));\r\n    } else {\r\n        factory(jQuery, Hammer);\r\n    }\r\n}(function($, Hammer) {\r\n    function hammerify(el, options) {\r\n        var $el = $(el);\r\n        if(!$el.data(\"hammer\")) {\r\n            $el.data(\"hammer\", new Hammer($el[0], options));\r\n        }\r\n    }\r\n\r\n    $.fn.hammer = function(options) {\r\n        return this.each(function() {\r\n            hammerify(this, options);\r\n        });\r\n    };\r\n\r\n    // extend the emit method to also trigger jQuery events\r\n    Hammer.Manager.prototype.emit = (function(originalEmit) {\r\n        return function(type, data) {\r\n            originalEmit.call(this, type, data);\r\n            $(this.element).trigger({\r\n                type: type,\r\n                gesture: data\r\n            });\r\n        };\r\n    })(Hammer.Manager.prototype.emit);\r\n}));\r\n\n",
    "//  Copyright (c) 2014 Readium Foundation and/or its licensees. All rights reserved.\r\n//  \r\n//  Redistribution and use in source and binary forms, with or without modification, \r\n//  are permitted provided that the following conditions are met:\r\n//  1. Redistributions of source code must retain the above copyright notice, this \r\n//  list of conditions and the following disclaimer.\r\n//  2. Redistributions in binary form must reproduce the above copyright notice, \r\n//  this list of conditions and the following disclaimer in the documentation and/or \r\n//  other materials provided with the distribution.\r\n//  3. Neither the name of the organization nor the names of its contributors may be \r\n//  used to endorse or promote products derived from this software without specific \r\n//  prior written permission.\r\n\r\ndefine('gestures',['jquery','jquery_hammer','hammerjs'], function($,jqueryHammer,Hammer) {\r\n\r\n    var gesturesHandler = function(reader, viewport){\r\n        \r\nthis.initialize= function(){};\r\nreturn; // TODO upgrade to Hammer API v2\r\n\r\n        var onSwipeLeft = function(){\r\n            reader.openPageRight();\r\n        };\r\n\r\n        var onSwipeRight = function(){\r\n            reader.openPageLeft();\r\n        };\r\n\r\n        var isGestureHandled = function() {\r\n            var viewType = reader.getCurrentViewType();\r\n\r\n            return viewType === ReadiumSDK.Views.ReaderView.VIEW_TYPE_FIXED || viewType == ReadiumSDK.Views.ReaderView.VIEW_TYPE_COLUMNIZED;\r\n        };\r\n\r\n        this.initialize= function(){\r\n\r\n            reader.on(ReadiumSDK.Events.CONTENT_DOCUMENT_LOADED, function(iframe,s) {\r\n                //set hammer's document root\r\n                Hammer.DOCUMENT = iframe.contents();\r\n                //hammer's internal touch events need to be redefined? (doesn't work without)\r\n                Hammer.event.onTouch(Hammer.DOCUMENT, Hammer.EVENT_MOVE, Hammer.detection.detect);\r\n                Hammer.event.onTouch(Hammer.DOCUMENT, Hammer.EVENT_END, Hammer.detection.detect);\r\n\r\n                //set up the hammer gesture events\r\n                //swiping handlers\r\n                var swipingOptions = {prevent_mouseevents: true};\r\n                Hammer(Hammer.DOCUMENT,swipingOptions).on(\"swipeleft\", function() {\r\n                    onSwipeLeft();\r\n                });\r\n                Hammer(Hammer.DOCUMENT,swipingOptions).on(\"swiperight\", function() {\r\n                    onSwipeRight();\r\n                });\r\n\r\n                //remove stupid ipad safari elastic scrolling\r\n                //TODO: test this with reader ScrollView and FixedView\r\n                $(Hammer.DOCUMENT).on(\r\n                    'touchmove',\r\n                    function(e) {\r\n                        //hack: check if we are not dealing with a scrollview\r\n                        if(isGestureHandled()){\r\n                            e.preventDefault();\r\n                        }\r\n                    }\r\n                );\r\n            });\r\n\r\n            //remove stupid ipad safari elastic scrolling (improves UX for gestures)\r\n            //TODO: test this with reader ScrollView and FixedView\r\n            $(viewport).on(\r\n                'touchmove',\r\n                function(e) {\r\n                    if(isGestureHandled()) {\r\n                        e.preventDefault();\r\n                    }\r\n                }\r\n            );\r\n\r\n            //handlers on viewport\r\n            $(viewport).hammer().on(\"swipeleft\", function() {\r\n                onSwipeLeft();\r\n            });\r\n            $(viewport).hammer().on(\"swiperight\", function() {\r\n                onSwipeRight();\r\n            });\r\n        };\r\n\r\n    };\r\n    return gesturesHandler;\r\n});\n",
    "define('versioning/Versioning',['Readium'], function(Readium){\r\n\t\r\n\tvar PackagedVersioning = {\r\n\t\tgetVersioningInfo : function(callback){\r\n\t\t\tvar versionInfo = {};\r\n            \r\n            versionInfo = Readium.version;\r\n            versionInfo.dateTimeString = new Date(Readium.version.readiumJsViewer.timestamp).toString();\r\n\r\n\t\t\tcallback(versionInfo);\r\n\t\t}\r\n\t}\r\n\treturn PackagedVersioning;\r\n});\n",
    "define('EpubReader',[\r\n\"globalsSetup\", \"readium-plugin-example\",\r\n'module',\r\n'jquery',\r\n'bootstrap',\r\n'bootstrapA11y',\r\n'URIjs',\r\n'Spinner',\r\n'storage/Settings',\r\n'i18n/Strings',\r\n'Dialogs',\r\n'ReaderSettingsDialog',\r\n'hgn!templates/about-dialog.html',\r\n'hgn!templates/reader-navbar.html',\r\n'hgn!templates/reader-body.html',\r\n'hgn!templates/reader-body-page-btns.html',\r\n'analytics/Analytics',\r\n'screenfull',\r\n'Keyboard',\r\n'EpubReaderMediaOverlays',\r\n'EpubReaderBackgroundAudioTrack',\r\n'gestures',\r\n'versioning/Versioning',\r\n'Readium'],\r\n\r\nfunction (\r\nglobalSetup, examplePluginConfig,\r\nmodule,\r\n$,\r\nbootstrap,\r\nbootstrapA11y,\r\nURI,\r\nspinner,\r\nSettings,\r\nStrings,\r\nDialogs,\r\nSettingsDialog,\r\nAboutDialog,\r\nReaderNavbar,\r\nReaderBody,\r\nReaderBodyPageButtons,\r\nAnalytics,\r\nscreenfull,\r\nKeyboard,\r\nEpubReaderMediaOverlays,\r\nEpubReaderBackgroundAudioTrack,\r\nGesturesHandler,\r\nVersioning,\r\nReadium){\r\n        \r\n        examplePluginConfig.borderColor = \"blue\";\r\n        examplePluginConfig.backgroundColor = \"cyan\";\r\n        \r\n    var readium, \r\n        embedded,\r\n        url,\r\n        el = document.documentElement,\r\n        currentDocument,\r\n        gesturesHandler;\r\n\r\n    // This function will retrieve a package document and load an EPUB\r\n    var loadEbook = function (packageDocumentURL, readerSettings, openPageRequest) {\r\n        \r\n        readium.openPackageDocument(packageDocumentURL, function(packageDocument, options){\r\n            currentDocument = packageDocument;\r\n            currentDocument.generateTocListDOM(function(dom){\r\n                loadToc(dom)\r\n            });\r\n\r\n            wasFixed = readium.reader.isCurrentViewFixedLayout();\r\n            var metadata = options.metadata;\r\n\r\n            $('<h2 class=\"book-title-header\"></h2>').insertAfter('.navbar').text(metadata.title);\r\n\r\n        \r\n            $(\"#left-page-btn\").unbind(\"click\");\r\n            $(\"#right-page-btn\").unbind(\"click\");\r\n            var $pageBtnsContainer = $('#readium-page-btns');\r\n            $pageBtnsContainer.empty();\r\n            var rtl = currentDocument.getPageProgressionDirection() === \"rtl\"; //_package.spine.isLeftToRight()\r\n            $pageBtnsContainer.append(ReaderBodyPageButtons({strings: Strings, dialogs: Dialogs, keyboard: Keyboard,\r\n                pageProgressionDirectionIsRTL: rtl\r\n            }));\r\n            $(\"#left-page-btn\").on(\"click\", prevPage);\r\n            $(\"#right-page-btn\").on(\"click\", nextPage);\r\n\r\n        }, openPageRequest);\r\n    };\r\n\r\n    var spin = function()\r\n    {\r\n//console.error(\"do SPIN: -- WILL: \" + spinner.willSpin + \" IS:\" + spinner.isSpinning + \" STOP REQ:\" + spinner.stopRequested);\r\n        if (spinner.willSpin || spinner.isSpinning) return;\r\n        \r\n        spinner.willSpin = true;\r\n        \r\n        setTimeout(function()\r\n        {\r\n            if (spinner.stopRequested)\r\n            {\r\n//console.debug(\"STOP REQUEST: -- WILL: \" + spinner.willSpin + \" IS:\" + spinner.isSpinning + \" STOP REQ:\" + spinner.stopRequested);\r\n                spinner.willSpin = false;\r\n                spinner.stopRequested = false;\r\n                return;\r\n            }\r\n//console.debug(\"SPIN: -- WILL: \" + spinner.willSpin + \" IS:\" + spinner.isSpinning + \" STOP REQ:\" + spinner.stopRequested);\r\n            spinner.isSpinning = true;\r\n            spinner.spin($('#reading-area')[0]);\r\n            \r\n            spinner.willSpin = false;\r\n            \r\n        }, 100);\r\n    };\r\n\r\n    var tocShowHideToggle = function(){\r\n        \r\n        $(document.body).removeClass('hide-ui');\r\n        \r\n        var $appContainer = $('#app-container'),\r\n            hide = $appContainer.hasClass('toc-visible');\r\n        var bookmark;\r\n        if (readium.reader.handleViewportResize && !embedded){\r\n            bookmark = JSON.parse(readium.reader.bookmarkCurrentPage());\r\n        }\r\n\r\n        if (hide){\r\n            $appContainer.removeClass('toc-visible');\r\n\r\n            setTimeout(function(){ $('#tocButt')[0].focus(); }, 100);\r\n        }\r\n        else{\r\n            $appContainer.addClass('toc-visible');\r\n\r\n            setTimeout(function(){ $('#readium-toc-body button.close')[0].focus(); }, 100);\r\n        }\r\n\r\n        if(embedded){\r\n            hideLoop(null, true);\r\n        }else if (readium.reader.handleViewportResize){\r\n\r\n            readium.reader.handleViewportResize();\r\n            \r\n            setTimeout(function()\r\n            {\r\n                readium.reader.openSpineItemElementCfi(bookmark.idref, bookmark.contentCFI, readium.reader);\r\n            }, 90);\r\n        }\r\n    };\r\n\r\n    var showScaleDisplay = function(){\r\n        $('.zoom-wrapper').show();\r\n    }\r\n    var setScaleDisplay = function(){\r\n        var scale = readium.reader.getViewScale();\r\n        $('.zoom-wrapper input').val(Math.round(scale) + \"%\");\r\n    }\r\n\r\n    var hideScaleDisplay = function(){\r\n        $('.zoom-wrapper').hide();\r\n    }\r\n\r\n    var loadToc = function(dom){\r\n        \r\n        if (dom) {\r\n            $('script', dom).remove();\r\n\r\n            var tocNav;\r\n\r\n            var $navs = $('nav', dom);\r\n            Array.prototype.every.call($navs, function(nav){\r\n                if (nav.getAttributeNS('http://www.idpf.org/2007/ops', 'type') == 'toc'){\r\n                    tocNav = nav;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n\r\n            var isRTL = false;\r\n            var pparent = tocNav;\r\n\r\n            while (pparent && pparent.getAttributeNS)\r\n            {\r\n                var dir = pparent.getAttributeNS(\"http://www.w3.org/1999/xhtml\", \"dir\") || pparent.getAttribute(\"dir\");\r\n\r\n                if (dir && dir === \"rtl\")\r\n                {\r\n                    isRTL = true;\r\n                    break;\r\n                }\r\n                pparent = pparent.parentNode;\r\n            }\r\n        \r\n            var toc = (tocNav && $(tocNav).html()) || $('body', dom).html() || $(dom).html();\r\n            var tocUrl = currentDocument.getToc();\r\n\r\n            if (toc && toc.length)\r\n            {\r\n                var $toc = $(toc);\r\n\r\n                // \"iframe\" elements need to be stripped out, because of potential vulnerability when loading malicious EPUBs\r\n                // e.g. src=\"javascript:doHorribleThings(window.top)\"\r\n                // Note that \"embed\" and \"object\" elements with AllowScriptAccess=\"always\" do not need to be removed,\r\n                // because unlike \"iframe\" the @src URI does not trigger the execution of the \"javascript:\" statement,\r\n                // and because the \"data:\" base64 encoding of an image/svg that contains ecmascript\r\n                // automatically results in origin/domain restrictions (thereby preventing access to window.top / window.parent).\r\n                // Also note that \"script\" elements are discarded automatically by jQuery.\r\n                $('iframe', $toc).remove();\r\n\r\n                $('#readium-toc-body').append($toc);\r\n\r\n                if (isRTL)\r\n                {\r\n                    $toc[0].setAttributeNS(\"http://www.w3.org/1999/xhtml\", \"dir\", \"rtl\");\r\n                    $toc[0].style.direction = \"rtl\"; // The CSS stylesheet property does not trigger :(\r\n                }\r\n            }\r\n        \r\n        } else {\r\n            var tocUrl = currentDocument.getToc();\r\n\r\n            $('#readium-toc-body').append(\"?? \" + tocUrl);\r\n        }\r\n    \r\n        var _tocLinkActivated = false;\r\n        \r\n        var lastIframe = undefined,\r\n            wasFixed;\r\n\r\n        readium.reader.on(ReadiumSDK.Events.FXL_VIEW_RESIZED, setScaleDisplay);\r\n        readium.reader.on(ReadiumSDK.Events.CONTENT_DOCUMENT_LOADED, function ($iframe, spineItem)\r\n        {\r\n            \r\n            var isFixed = readium.reader.isCurrentViewFixedLayout();\r\n\r\n            // TODO: fix the pan-zoom feature!\r\n            if (isFixed){\r\n                showScaleDisplay();\r\n            }\r\n            else{\r\n                hideScaleDisplay();\r\n            }\r\n\r\n            //TODO not picked-up by all screen readers, so for now this short description will suffice\r\n            $iframe.attr(\"title\", \"EPUB\");\r\n            $iframe.attr(\"aria-label\", \"EPUB\");\r\n            \r\n            lastIframe = $iframe[0];\r\n        });\r\n        \r\n        readium.reader.on(ReadiumSDK.Events.PAGINATION_CHANGED, function (pageChangeData)\r\n        {\r\n            savePlace();\r\n            updateUI(pageChangeData);\r\n            \r\n\r\n            if (spinner.isSpinning)\r\n            {\r\n//console.debug(\"!! SPIN: -- WILL: \" + spinner.willSpin + \" IS:\" + spinner.isSpinning + \" STOP REQ:\" + spinner.stopRequested);\r\n                spinner.stop();\r\n                spinner.isSpinning = false;\r\n            }\r\n            else if (spinner.willSpin)\r\n            {\r\n//console.debug(\"!! SPIN REQ: -- WILL: \" + spinner.willSpin + \" IS:\" + spinner.isSpinning + \" STOP REQ:\" + spinner.stopRequested);\r\n                spinner.stopRequested = true;\r\n            }\r\n            \r\n            if (!_tocLinkActivated) return;\r\n            _tocLinkActivated = false;\r\n            \r\n            try\r\n            {\r\n                var iframe = undefined;\r\n                var element = undefined;\r\n                \r\n                var id = pageChangeData.elementId;\r\n                if (!id)\r\n                {\r\n                    var bookmark = JSON.parse(readium.reader.bookmarkCurrentPage());\r\n\r\n                    //bookmark.idref; //manifest item\r\n                    if (pageChangeData.spineItem)\r\n                    {\r\n                        element = readium.reader.getElementByCfi(pageChangeData.spineItem, bookmark.contentCFI,\r\n                            [\"cfi-marker\", \"mo-cfi-highlight\"],\r\n                            [],\r\n                            [\"MathJax_Message\"]);\r\n                        element = element[0];\r\n                        \r\n                        if (element)\r\n                        {\r\n                            iframe = $(\"#epub-reader-frame iframe\")[0];\r\n                            var doc = ( iframe.contentWindow || iframe.contentDocument ).document;\r\n                            if (element.ownerDocument !== doc)\r\n                            {\r\n                                iframe = $(\"#epub-reader-frame iframe\")[1];\r\n                                if (iframe)\r\n                                {\r\n                                    doc = ( iframe.contentWindow || iframe.contentDocument ).document;\r\n                                    if (element.ownerDocument !== doc)\r\n                                    {\r\n                                        iframe = undefined;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    iframe = $(\"#epub-reader-frame iframe\")[0];\r\n                    var doc = ( iframe.contentWindow || iframe.contentDocument ).document;\r\n                    element = doc.getElementById(id);\r\n                    if (!element)\r\n                    {\r\n                        iframe = $(\"#epub-reader-frame iframe\")[1];\r\n                        if (iframe)\r\n                        {\r\n                            doc = ( iframe.contentWindow || iframe.contentDocument ).document;\r\n                            element = doc.getElementById(id);\r\n                            if (!element)\r\n                            {\r\n                                iframe = undefined;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!iframe)\r\n                {\r\n                    iframe = lastIframe;\r\n                }\r\n                \r\n                if (iframe)\r\n                {\r\n                    //var doc = ( iframe.contentWindow || iframe.contentDocument ).document;\r\n                    var toFocus = iframe; //doc.body\r\n                    setTimeout(function(){ toFocus.focus(); }, 50);\r\n                }\r\n            }\r\n            catch (e)\r\n            {\r\n                //\r\n            }\r\n        });\r\n\r\n        $('#readium-toc-body').on('click', 'a', function(e)\r\n        {\r\n            spin();\r\n            \r\n            var href = $(this).attr('href');\r\n            href = tocUrl ? new URI(href).absoluteTo(tocUrl).toString() : href; \r\n\r\n            _tocLinkActivated = true;\r\n\r\n            readium.reader.openContentUrl(href);\r\n        \r\n            if (embedded){\r\n                $('.toc-visible').removeClass('toc-visible');\r\n                $(document.body).removeClass('hide-ui');\r\n            }\r\n            return false;\r\n        });\r\n        $('#readium-toc-body').prepend('<button tabindex=\"50\" type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"'+Strings.i18n_close+' '+Strings.toc+'\" title=\"'+Strings.i18n_close+' '+Strings.toc+'\"><span aria-hidden=\"true\">&times;</span></button>');\r\n        $('#readium-toc-body button.close').on('click', function(){\r\n            tocShowHideToggle();\r\n            /*\r\n            var bookmark = JSON.parse(readium.reader.bookmarkCurrentPage());\r\n            $('#app-container').removeClass('toc-visible');\r\n            if (embedded){\r\n                $(document.body).removeClass('hide-ui');\r\n            }else if (readium.reader.handleViewportResize){\r\n                readium.reader.handleViewportResize();\r\n                readium.reader.openSpineItemElementCfi(bookmark.idref, bookmark.contentCFI, readium.reader);\r\n            }\r\n            */\r\n            return false;\r\n        })\r\n    }\r\n\r\n    var toggleFullScreen = function(){\r\n        \r\n        if (!screenfull.enabled) return;\r\n\r\n        screenfull.toggle();\r\n    }\r\n\r\n    screenfull.onchange = function(e){\r\n        var titleText;\r\n\r\n        if (screenfull.isFullscreen)\r\n        {\r\n            titleText = Strings.exit_fullscreen+ ' [' + Keyboard.FullScreenToggle + ']';\r\n            $('#buttFullScreenToggle span').removeClass('glyphicon-resize-full');\r\n            $('#buttFullScreenToggle span').addClass('glyphicon-resize-small');\r\n            $('#buttFullScreenToggle').attr('aria-label', titleText);\r\n            $('#buttFullScreenToggle').attr('title', titleText);\r\n        }\r\n        else\r\n        {\r\n            titleText = Strings.enter_fullscreen + ' [' + Keyboard.FullScreenToggle + ']';\r\n            $('#buttFullScreenToggle span').removeClass('glyphicon-resize-small');\r\n            $('#buttFullScreenToggle span').addClass('glyphicon-resize-full'); \r\n            $('#buttFullScreenToggle').attr('aria-label', titleText);\r\n            $('#buttFullScreenToggle').attr('title', titleText);\r\n        }\r\n    }\r\n\r\n    var hideUI = function(){\r\n        hideTimeoutId = null;\r\n        // don't hide it toolbar while toc open in non-embedded mode\r\n        if (!embedded && $('#app-container').hasClass('toc-visible')){\r\n            return;\r\n        }\r\n        \r\n        var navBar = document.getElementById(\"app-navbar\");\r\n        if (document.activeElement) {\r\n            var within = jQuery.contains(navBar, document.activeElement);\r\n            if (within) return;\r\n        }\r\n        \r\n        var $navBar = $(navBar);\r\n        // BROEKN! $navBar.is(':hover')\r\n        var isMouseOver = $navBar.find(':hover').length > 0;\r\n        if (isMouseOver) return;\r\n        \r\n        if ($('#audioplayer').hasClass('expanded-audio')) return;\r\n\r\n        $(document.body).addClass('hide-ui');\r\n    }\r\n\r\n    var hideTimeoutId;\r\n\r\n    var hideLoop = function(e, immediate){\r\n\r\n        // if (!embedded){\r\n        //     return;\r\n        // }\r\n        if (hideTimeoutId){\r\n            window.clearTimeout(hideTimeoutId);\r\n            hideTimeoutId = null;\r\n        }\r\n        if (!$('#app-container').hasClass('toc-visible') && $(document.body).hasClass('hide-ui')){\r\n            $(document.body).removeClass('hide-ui');\r\n        }\r\n        if (immediate){\r\n            hideUI();\r\n        }\r\n        else{\r\n            hideTimeoutId = window.setTimeout(hideUI, 4000);\r\n        }\r\n    }\r\n\r\n    //TODO: also update \"previous/next page\" commands status (disabled/enabled), not just button visibility.\r\n    // https://github.com/readium/readium-js-viewer/issues/188\r\n    // See onSwipeLeft() onSwipeRight() in gesturesHandler.\r\n    // See nextPage() prevPage() in this class.\r\n    var updateUI = function(pageChangeData){\r\n        if(pageChangeData.paginationInfo.canGoLeft())\r\n            $(\"#left-page-btn\").show();\r\n        else\r\n            $(\"#left-page-btn\").hide();\r\n        if(pageChangeData.paginationInfo.canGoRight())\r\n            $(\"#right-page-btn\").show();\r\n        else\r\n            $(\"#right-page-btn\").hide();\r\n    }\r\n    \r\n    var savePlace = function(){\r\n        Settings.put(url, readium.reader.bookmarkCurrentPage(), $.noop);\r\n    }\r\n\r\n    var nextPage = function () {\r\n\r\n        readium.reader.openPageRight();\r\n        return false;\r\n    };\r\n\r\n    var prevPage = function () {\r\n\r\n        readium.reader.openPageLeft();\r\n        return false;\r\n    };\r\n\r\n    var installReaderEventHandlers = function(){\r\n        \r\n        // Set handlers for click events\r\n        $(\".icon-annotations\").on(\"click\", function () {\r\n            readium.reader.plugins.annotations.addSelectionHighlight(Math.floor((Math.random()*1000000)), \"highlight\");\r\n        });\r\n\r\n        var isWithinForbiddenNavKeysArea = function()\r\n        {\r\n            return document.activeElement &&\r\n            (\r\n                document.activeElement === document.getElementById('volume-range-slider')\r\n                || document.activeElement === document.getElementById('time-range-slider')\r\n                || document.activeElement === document.getElementById('rate-range-slider')\r\n                || jQuery.contains(document.getElementById(\"mo-sync-form\"), document.activeElement)\r\n                || jQuery.contains(document.getElementById(\"mo-highlighters\"), document.activeElement)\r\n                \r\n                // jQuery.contains(document.getElementById(\"app-navbar\"), document.activeElement)\r\n                // || jQuery.contains(document.getElementById(\"settings-dialog\"), document.activeElement)\r\n                // || jQuery.contains(document.getElementById(\"about-dialog\"), document.activeElement)\r\n            )\r\n            ;\r\n        };\r\n\r\n        var hideTB = function(){\r\n            if (!embedded && $('#app-container').hasClass('toc-visible')){\r\n                return;\r\n            }\r\n            $(document.body).addClass('hide-ui');\r\n            if (document.activeElement) document.activeElement.blur();\r\n        };\r\n        $(\"#buttHideToolBar\").on(\"click\", hideTB);\r\n        Keyboard.on(Keyboard.ToolbarHide, 'reader', hideTB);\r\n\r\n        var showTB = function(){\r\n            $(\"#aboutButt1\")[0].focus();\r\n            $(document.body).removeClass('hide-ui');\r\n            setTimeout(function(){ $(\"#aboutButt1\")[0].focus(); }, 50);\r\n        };\r\n        $(\"#buttShowToolBar\").on(\"click\", showTB);\r\n        Keyboard.on(Keyboard.ToolbarShow, 'reader', showTB);\r\n\r\n        Keyboard.on(Keyboard.PagePrevious, 'reader', function(){\r\n            if (!isWithinForbiddenNavKeysArea()) prevPage();\r\n        });\r\n        \r\n        Keyboard.on(Keyboard.PagePreviousAlt, 'reader', prevPage);\r\n        \r\n        Keyboard.on(Keyboard.PageNextAlt, 'reader', nextPage);\r\n        \r\n        Keyboard.on(Keyboard.PageNext, 'reader', function(){\r\n            if (!isWithinForbiddenNavKeysArea()) nextPage();\r\n        });\r\n        \r\n        Keyboard.on(Keyboard.FullScreenToggle, 'reader', toggleFullScreen);\r\n        \r\n        $('#buttFullScreenToggle').on('click', toggleFullScreen);\r\n\r\n        var loadlibrary = function()\r\n        {\r\n            $(\"html\").attr(\"data-theme\", \"library\");\r\n            \r\n            $(window).trigger('loadlibrary');\r\n        };\r\n\r\n        Keyboard.on(Keyboard.SwitchToLibrary, 'reader', loadlibrary /* function(){setTimeout(, 30);} */ );\r\n        \r\n        $('.icon-library').on('click', function(){\r\n            loadlibrary();\r\n            return false;\r\n        });\r\n\r\n        $('.zoom-wrapper input').on('click', function(){\r\n            if (!this.disabled){\r\n                this.focus();\r\n                return false;\r\n            }\r\n        });\r\n\r\n        Keyboard.on(Keyboard.TocShowHideToggle, 'reader', function()\r\n        {\r\n            var visible = $('#app-container').hasClass('toc-visible');\r\n            if (!visible)\r\n            {\r\n                tocShowHideToggle();\r\n            }\r\n            else\r\n            {\r\n                setTimeout(function(){ $('#readium-toc-body button.close')[0].focus(); }, 100);\r\n            }\r\n        });\r\n        \r\n        $('.icon-toc').on('click', tocShowHideToggle);\r\n\r\n        var setTocSize = function(){\r\n            var appHeight = $(document.body).height() - $('#app-container')[0].offsetTop;\r\n            $('#app-container').height(appHeight);\r\n            $('#readium-toc-body').height(appHeight);\r\n        };\r\n\r\n        Keyboard.on(Keyboard.ShowSettingsModal, 'reader', function(){$('#settings-dialog').modal(\"show\")});\r\n\r\n        $(window).on('mousemove', hideLoop);\r\n        $(window).on('resize', setTocSize);\r\n        setTocSize();\r\n        hideLoop();\r\n\r\n        // captures all clicks on the document on the capture phase. Not sure if it's possible with jquery\r\n        // so I'm using DOM api directly\r\n        document.addEventListener('click', hideLoop, true);\r\n    };\r\n\r\n    var setFitScreen = function(e){\r\n        readium.reader.setZoom({style: 'fit-screen'});\r\n        $('.active-zoom').removeClass('active-zoom');\r\n        $('#zoom-fit-screen').addClass('active-zoom');\r\n        $('.zoom-wrapper input').prop('disabled', true);\r\n        $('.zoom-wrapper>a').dropdown('toggle');\r\n        return false;\r\n    }\r\n\r\n    var setFitWidth = function(e){\r\n        readium.reader.setZoom({style: 'fit-width'});\r\n        $('.active-zoom').removeClass('active-zoom');\r\n        $('#zoom-fit-width').addClass('active-zoom');\r\n        $('.zoom-wrapper input').prop('disabled', true);\r\n         $('.zoom-wrapper>a').dropdown('toggle');\r\n        return false;\r\n    }\r\n\r\n    var enableCustom = function(e){\r\n        $('.zoom-wrapper input').prop('disabled', false).focus();\r\n        $('.active-zoom').removeClass('active-zoom');\r\n        $('#zoom-custom').addClass('active-zoom');\r\n         $('.zoom-wrapper>a').dropdown('toggle');\r\n        return false;\r\n    }\r\n\r\n    var zoomRegex = /^\\s*(\\d+)%?\\s*$/;\r\n    var setCustom = function(e){\r\n        var percent = $('.zoom-wrapper input').val();\r\n        var matches = zoomRegex.exec(percent);\r\n        if (matches){\r\n            var percentVal = Number(matches[1])/100;\r\n            readium.reader.setZoom({style: 'user', scale: percentVal});\r\n        }\r\n        else{\r\n            setScaleDisplay();\r\n        }\r\n    }\r\n\r\n    var loadReaderUIPrivate = function(){\r\n        $('.modal-backdrop').remove();\r\n        var $appContainer = $('#app-container');\r\n        $appContainer.empty();\r\n        $appContainer.append(ReaderBody({strings: Strings, dialogs: Dialogs, keyboard: Keyboard}));\r\n        $('nav').empty();\r\n        $('nav').attr(\"aria-label\", Strings.i18n_toolbar);\r\n        $('nav').append(ReaderNavbar({strings: Strings, dialogs: Dialogs, keyboard: Keyboard}));\r\n        installReaderEventHandlers();\r\n        document.title = \"Readium\";\r\n        $('#zoom-fit-width a').on('click', setFitWidth);\r\n        $('#zoom-fit-screen a').on('click', setFitScreen);\r\n        $('#zoom-custom a').on('click', enableCustom);\r\n        $('.zoom-wrapper input').on('change', setCustom);\r\n        \r\n        spin();\r\n    }\r\n    \r\n    var loadReaderUI = function (data) {\r\n        \r\n        Keyboard.scope('reader');\r\n        \r\n        url = data.epub;\r\n        Analytics.trackView('/reader');\r\n        embedded = data.embedded;\r\n\r\n        loadReaderUIPrivate();\r\n        \r\n        //because we reinitialize the reader we have to unsubscribe to all events for the previews reader instance\r\n        if(readium && readium.reader) {\r\n            readium.reader.off();\r\n        }\r\n        \r\n        if (window.ReadiumSDK) {\r\n            ReadiumSDK.off(ReadiumSDK.Events.PLUGINS_LOADED);\r\n        }\r\n        \r\n        setTimeout(function()\r\n        {\r\n            initReadium(); //async\r\n        }, 0);\r\n    };\r\n\r\n    var initReadium = function(){\r\n\r\n        Settings.getMultiple(['reader', url], function(settings){\r\n\r\n            var prefix = (self.location && self.location.origin && self.location.pathname) ? (self.location.origin + self.location.pathname + \"/..\") : \"\";\r\n            var readerOptions =  {\r\n                el: \"#epub-reader-frame\", \r\n                annotationCSSUrl: module.config().annotationCssUrl || (prefix + \"/css/annotations.css\"),\r\n                mathJaxUrl : module.config().mathJaxUrl ? (prefix + module.config().mathJaxUrl) : (prefix + \"/scripts/mathjax/MathJax.js\")\r\n            };\r\n\r\n            var readiumOptions = {\r\n                jsLibRoot: module.config().jsLibRoot || './scripts/zip/',\r\n                openBookOptions: {}\r\n            };\r\n\r\n            if (module.config().useSimpleLoader){\r\n                readiumOptions.useSimpleLoader = true;\r\n            }\r\n\r\n            var openPageRequest;\r\n            if (settings[url]){\r\n                var bookmark = JSON.parse(JSON.parse(settings[url]));\r\n                openPageRequest = {idref: bookmark.idref, elementCfi: bookmark.contentCFI};\r\n            }\r\n\r\n\r\n            readium = new Readium(readiumOptions, readerOptions);\r\n\r\n            window.READIUM = readium;\r\n\r\n            ReadiumSDK.on(ReadiumSDK.Events.PLUGINS_LOADED, function () {\r\n                console.log('PLUGINS INITIALIZED!');\r\n                readium.reader.plugins.annotations.initialize({annotationCSSUrl: readerOptions.annotationCSSUrl});\r\n            });\r\n\r\n            //setup gestures support with hummer\r\n            gesturesHandler = new GesturesHandler(readium.reader, readerOptions.el);\r\n            gesturesHandler.initialize();\r\n\r\n            //epubReadingSystem\r\n\r\n            Versioning.getVersioningInfo(function(version){\r\n\r\n                $('#app-container').append(AboutDialog({strings: Strings, viewer: version.readiumJsViewer, readium: version.readiumJs, sharedJs: version.readiumSharedJs, cfiJs: version.readiumCfiJs}));\r\n                \r\n                window.navigator.epubReadingSystem.name = \"readium-js-viewer\";\r\n                window.navigator.epubReadingSystem.version = version.readiumJsViewer.chromeVersion;\r\n                \r\n                window.navigator.epubReadingSystem.readium = {};\r\n                \r\n                window.navigator.epubReadingSystem.readium.buildInfo = {};\r\n                \r\n                window.navigator.epubReadingSystem.readium.buildInfo.dateTime = version.dateTimeString; //new Date(timestamp).toString();\r\n                window.navigator.epubReadingSystem.readium.buildInfo.version = version.readiumJsViewer.version;\r\n                window.navigator.epubReadingSystem.readium.buildInfo.chromeVersion = version.readiumJsViewer.chromeVersion;\r\n                \r\n                window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories = [];\r\n                \r\n                var repo1 = {};\r\n                repo1.name = \"readium-js-viewer\";\r\n                repo1.sha = version.readiumJsViewer.sha;\r\n                repo1.tag = version.readiumJsViewer.tag;\r\n                repo1.version = version.readiumJsViewer.version;\r\n                repo1.clean = version.readiumJsViewer.clean;\r\n                repo1.branch = version.readiumJsViewer.branch;\r\n                repo1.release = version.readiumJsViewer.release;\r\n                repo1.timestamp = version.readiumJsViewer.timestamp;\r\n                repo1.url = \"https://github.com/readium/\" + repo1.name + \"/tree/\" + repo1.sha;\r\n                window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(repo1);\r\n                \r\n                var repo2 = {};\r\n                repo2.name = \"readium-js\";\r\n                repo2.sha = version.readiumJs.sha;\r\n                repo2.tag = version.readiumJs.tag;\r\n                repo2.version = version.readiumJs.version;\r\n                repo2.clean = version.readiumJs.clean;\r\n                repo2.branch = version.readiumJs.branch;\r\n                repo2.release = version.readiumJs.release;\r\n                repo2.timestamp = version.readiumJs.timestamp;\r\n                repo2.url = \"https://github.com/readium/\" + repo2.name + \"/tree/\" + repo2.sha;\r\n                window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(repo2);\r\n                \r\n                var repo3 = {};\r\n                repo3.name = \"readium-shared-js\";\r\n                repo3.sha = version.readiumSharedJs.sha;\r\n                repo3.tag = version.readiumSharedJs.tag;\r\n                repo3.version = version.readiumSharedJs.version;\r\n                repo3.clean = version.readiumSharedJs.clean;\r\n                repo3.branch = version.readiumSharedJs.branch;\r\n                repo3.release = version.readiumSharedJs.release;\r\n                repo3.timestamp = version.readiumSharedJs.timestamp;\r\n                repo3.url = \"https://github.com/readium/\" + repo3.name + \"/tree/\" + repo3.sha;\r\n                window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(repo3);\r\n\r\n                var repo4 = {};\r\n                repo4.name = \"readium-cfi-js\";\r\n                repo4.sha = version.readiumCfiJs.sha;\r\n                repo4.tag = version.readiumCfiJs.tag;\r\n                repo4.version = version.readiumCfiJs.version;\r\n                repo4.clean = version.readiumCfiJs.clean;\r\n                repo4.branch = version.readiumCfiJs.branch;\r\n                repo4.release = version.readiumCfiJs.release;\r\n                repo4.timestamp = version.readiumCfiJs.timestamp;\r\n                repo4.url = \"https://github.com/readium/\" + repo4.name + \"/tree/\" + repo4.sha;\r\n                window.navigator.epubReadingSystem.readium.buildInfo.gitRepositories.push(repo4);\r\n\r\n                // Debug check:\r\n                //console.debug(JSON.stringify(window.navigator.epubReadingSystem, undefined, 2));\r\n            });\r\n            \r\n\r\n            $(window).on('keyup', function(e)\r\n            {\r\n                if (e.keyCode === 9 || e.which === 9)\r\n                {\r\n                    $(document.body).removeClass('hide-ui');\r\n                }\r\n            });\r\n\r\n            readium.reader.addIFrameEventListener('mousemove', function() {\r\n                hideLoop();\r\n            });\r\n            \r\n            readium.reader.addIFrameEventListener('keydown', function(e) {\r\n                Keyboard.dispatch(document.documentElement, e.originalEvent);\r\n            });\r\n            \r\n            readium.reader.addIFrameEventListener('keyup', function(e) {\r\n                Keyboard.dispatch(document.documentElement, e.originalEvent);\r\n            });\r\n            \r\n            readium.reader.addIFrameEventListener('focus', function(e) {\r\n                $(window).trigger(\"focus\");\r\n            });\r\n\r\n            SettingsDialog.initDialog(readium.reader);\r\n\r\n            $('#settings-dialog').on('hidden.bs.modal', function () {\r\n\r\n                Keyboard.scope('reader');\r\n\r\n                $(document.body).removeClass('hide-ui');\r\n                setTimeout(function(){ $(\"#settbutt1\").focus(); }, 50);\r\n    \r\n                $(\"#buttSave\").removeAttr(\"accesskey\");\r\n                $(\"#buttClose\").removeAttr(\"accesskey\");\r\n            });\r\n            $('#settings-dialog').on('shown.bs.modal', function () {\r\n\r\n                Keyboard.scope('settings');\r\n    \r\n                $(\"#buttSave\").attr(\"accesskey\", Keyboard.accesskeys.SettingsModalSave);\r\n                $(\"#buttClose\").attr(\"accesskey\", Keyboard.accesskeys.SettingsModalClose);\r\n            });\r\n\r\n\r\n            $('#about-dialog').on('hidden.bs.modal', function () {\r\n                Keyboard.scope('reader');\r\n\r\n                $(document.body).removeClass('hide-ui');\r\n                setTimeout(function(){ $(\"#aboutButt1\").focus(); }, 50);\r\n            });\r\n            $('#about-dialog').on('shown.bs.modal', function(){\r\n                Keyboard.scope('about');\r\n            });\r\n    \r\n            var readerSettings;\r\n            if (settings.reader){\r\n                readerSettings = JSON.parse(settings.reader);\r\n            }\r\n            if (!embedded){\r\n                readerSettings = readerSettings || SettingsDialog.defaultSettings;\r\n                SettingsDialog.updateReader(readium.reader, readerSettings);\r\n            }\r\n            else{\r\n                readium.reader.updateSettings({\r\n                    syntheticSpread:  \"auto\",\r\n                    scroll: \"auto\"\r\n                });\r\n            }\r\n            \r\n\r\n            var toggleNightTheme = function(){\r\n\r\n                if (!embedded){\r\n            \r\n                    Settings.get('reader', function(json)\r\n                    {\r\n                        if (!json)\r\n                        {\r\n                            json = {};\r\n                        }\r\n\r\n                        var isNight = json.theme === \"night-theme\";\r\n                        json.theme = isNight ? \"author-theme\" : \"night-theme\";\r\n                        \r\n                        Settings.put('reader', json);\r\n\r\n                        SettingsDialog.updateReader(readium.reader, json);\r\n                    });\r\n                }\r\n            };\r\n            $(\"#buttNightTheme\").on(\"click\", toggleNightTheme);\r\n            Keyboard.on(Keyboard.NightTheme, 'reader', toggleNightTheme);\r\n\r\n            readium.reader.on(ReadiumSDK.Events.CONTENT_DOCUMENT_LOAD_START, function($iframe, spineItem) {\r\n                spin();\r\n            });\r\n            \r\n            EpubReaderMediaOverlays.init(readium);\r\n            \r\n            EpubReaderBackgroundAudioTrack.init(readium);\r\n            \r\n            loadEbook(url, readerSettings, openPageRequest);\r\n\r\n            readium.reader.plugins.annotations.on(\"annotationClicked\", function(type, idref, cfi, id) {\r\nconsole.debug(\"ANNOTATION CLICK: \" + id);\r\n                readium.reader.plugins.annotations.removeHighlight(id);\r\n            });\r\n\r\n            if (readium.reader.plugins.example) {\r\n                readium.reader.plugins.example.on(\"exampleEvent\", function(message) {\r\n                    alert(message);\r\n                });\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    var unloadReaderUI = function(){\r\n\r\n        if (readium) {\r\n            readium.closePackageDocument();\r\n        }\r\n        \r\n        // needed only if access keys can potentially be used to open a book while a dialog is opened, because keyboard.scope() is not accounted for with HTML access keys :(\r\n        // for example: settings dialogs is open => SHIFT CTRL [B] access key => library view opens with transparent black overlay!\r\n        Dialogs.closeModal();\r\n        Dialogs.reset();\r\n        $('#settings-dialog').modal('hide');\r\n        $('#about-dialog').modal('hide');\r\n        $('.modal-backdrop').remove();\r\n        \r\n        \r\n        Keyboard.off('reader');\r\n        Keyboard.off('settings');\r\n\r\n        $('#settings-dialog').off('hidden.bs.modal');\r\n        $('#settings-dialog').off('shown.bs.modal');\r\n\r\n        $('#about-dialog').off('hidden.bs.modal');\r\n        $('#about-dialog').off('shown.bs.modal');\r\n\r\n        // visibility check fails because iframe is unloaded\r\n        //if (readium.reader.isMediaOverlayAvailable())\r\n        if (readium && readium.reader) // window.push/popstate\r\n            readium.reader.pauseMediaOverlay();\r\n        \r\n        $(window).off('resize');\r\n        $(window).off('mousemove');\r\n        $(window).off('keyup');\r\n        $(window).off('message');\r\n        window.clearTimeout(hideTimeoutId);\r\n        $(document.body).removeClass('embedded');\r\n        document.removeEventListener('click', hideLoop, true);\r\n        $('.book-title-header').remove();\r\n\r\n        $(document.body).removeClass('hide-ui');\r\n    }\r\n    \r\n    var applyKeyboardSettingsAndLoadUi = function(data)\r\n    {\r\n        // override current scheme with user options\r\n        Settings.get('reader', function(json)\r\n        {\r\n           Keyboard.applySettings(json);\r\n           \r\n           loadReaderUI(data);\r\n        });\r\n    };\r\n    \r\n    return {\r\n        loadUI : applyKeyboardSettingsAndLoadUi,\r\n        unloadUI : unloadReaderUI\r\n    };\r\n    \r\n});\r\n\n",
    "define('ReadiumViewerLite',['jquery', 'EpubReader'], function($, EpubReader){\r\n\r\n\tvar getQueryParamData = function(){\r\n        var query = window.location.search;\r\n        if (query && query.length){\r\n            query = query.substring(1);\r\n        }\r\n        data = {};\r\n        if (query.length){\r\n            var keyParams = query.split('&');\r\n            for (var x = 0; x < keyParams.length; x++)\r\n            {\r\n                var keyVal = keyParams[x].split('=');\r\n                if(keyVal.length > 1){\r\n                    data[keyVal[0]] = keyVal[1];\r\n                }\r\n                \r\n            }\r\n\r\n        }\r\n        return data;\r\n    }\r\n\r\n    $(function(){\r\n        \r\n\t    var epubUrl = getQueryParamData();\r\n        EpubReader.loadUI(epubUrl);\r\n\r\n\t\t$(document.body).on('click', function()\r\n        {\r\n            $(document.body).removeClass(\"keyboard\");\r\n        });\r\n\r\n\t\t$(document).on('keyup', function(e)\r\n        {\r\n            $(document.body).addClass(\"keyboard\");\r\n        });\r\n    });\r\n\r\n\tvar tooltipSelector = 'nav *[title]';\r\n    \r\n\t$(document.body).tooltip({\r\n\t\tselector : tooltipSelector,\r\n\t\tplacement: 'auto',\r\n\t\tcontainer: 'body' // do this to prevent weird navbar re-sizing issue when the tooltip is inserted \r\n\t}).on('show.bs.tooltip', function(e){\r\n\t\t$(tooltipSelector).not(e.target).tooltip('destroy');\r\n\t});\r\n});\n",
    "//  Copyright (c) 2014 Readium Foundation and/or its licensees. All rights reserved.\r\n//  \r\n//  Redistribution and use in source and binary forms, with or without modification, \r\n//  are permitted provided that the following conditions are met:\r\n//  1. Redistributions of source code must retain the above copyright notice, this \r\n//  list of conditions and the following disclaimer.\r\n//  2. Redistributions in binary form must reproduce the above copyright notice, \r\n//  this list of conditions and the following disclaimer in the documentation and/or \r\n//  other materials provided with the distribution.\r\n//  3. Neither the name of the organization nor the names of its contributors may be \r\n//  used to endorse or promote products derived from this software without specific \r\n//  prior written permission.\r\n\r\ndefine('readium-js-viewer_LITE',['ReadiumViewerLite'], function (ReadiumViewerLite) {\r\n});\r\n\n"
  ]
}